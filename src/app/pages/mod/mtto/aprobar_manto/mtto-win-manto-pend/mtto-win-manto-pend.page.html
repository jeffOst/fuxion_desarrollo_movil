<ion-header [translucent]="true">
  <ion-toolbar mode="ios" color="primary">
    <ion-title text-capitalize>Materiales</ion-title>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="prod-list-acti-programada" [text]="Cancelar" [disabled]="disableButton">
      </ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-toolbar class="ion-no-border">
  <ion-list>
    <ion-item>
      <ion-label>
        <h1>{{cod_bomba}}</h1>
      </ion-label>
      <ion-label>
        <h1>N° O.T: {{nro_oti}}</h1>
      </ion-label>
      <ion-label>
        <h1>N° Guia: {{correguia}}</h1>
      </ion-label>
      <ion-item>
        <ion-label>
          <div>
            <ion-button color="secondary" [disabled]="estaboBtnGuia === 'Terminado'"
              (click)="CreaDetalleGuiaOti()">Cargar Detalle</ion-button>
            <ion-button color="success" [disabled]="estaboBtnGuia === 'Terminado'"
              (click)="AprobacionItemsOt()">Atender</ion-button>
          </div>
        </ion-label>
      </ion-item>
    </ion-item>
  </ion-list>
</ion-toolbar>

<!-- Body -->
<ion-content>
  <ion-card>

    <ion-item>
      <ion-searchbar #IdHtmlInputSearch mode="ios" debounce="1700" cancelButtonText="Cancelar" enterkeyhint="done"
        placeholder="Filtrar Parametros">
      </ion-searchbar>
      <ion-icon slot="end" name="sync-outline" (click)="ListBlockGuiasRemiDetOtis()" #idIconButtonSync></ion-icon>
    </ion-item>
    <ion-card-header>
      <div>
        <div>
          <ion-card-subtitle>Materiales</ion-card-subtitle>
        </div>
      </div>
    </ion-card-header>

    <ion-item-sliding *ngFor="let Row of DataSetGrid; let i = index">
      <ion-item>
        <ion-label>
          <div>{{i + 1}}. Item: {{Row.prdid}} - {{Row.prdtxt}} - {{Row['ma00unidad#nombre']}}</div>
          <p>
            Solicitado: <span>{{Row.prdcant}}</span> <span class="ion-margin">Ejecuta {{Row.cantejecutada}}</span>
          </p>
          <p>
            Stock-Ubicacion: [<span [ngStyle]="{'color': Row.stock_sxu > 0 ? 'green' : 'red'}">{{Row.stock_sxu}}</span>
            |
            <span>{{Row.nombre_ua}}</span>]
          </p>
        </ion-label>
        <ion-badge slot="end" class="ion-margin">{{Row.Y06002}}</ion-badge>
        <ion-checkbox slot="end" [(ngModel)]="Row.flag_ejecuta_bgd" aria-label="Toggle task completion"
          (ionChange)="onCheckboxChange(Row)" [disabled]="Row.cantejecutada <= 0"></ion-checkbox>
      </ion-item>
    </ion-item-sliding>
  </ion-card>
  <ion-fab slot="fixed" vertical="bottom" horizontal="end">
    <ion-fab-button>
      <ion-icon name="chevron-up-circle"></ion-icon>
    </ion-fab-button>
    <ion-fab-list side="top">
      <ion-fab-button class="fab-with-text">
        <ion-icon name="document"></ion-icon>
        <span>Documento</span>
      </ion-fab-button>
      <ion-fab-button class="fab-with-text">
        <ion-icon name="color-palette"></ion-icon>
        <span>Paleta</span>
      </ion-fab-button>
      <ion-fab-button class="fab-with-text">
        <ion-icon name="globe"></ion-icon>
        <span>Globo</span>
      </ion-fab-button>
    </ion-fab-list>
  </ion-fab>

</ion-content>