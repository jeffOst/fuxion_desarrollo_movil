<ion-header>
  <ion-toolbar mode="ios">
    <ion-title text-capitalize>Resinado - Entrega de Cable</ion-title>
    <ion-buttons slot="start">
      <ion-button (click)="cancelar_ejecucion()" color="danger">
        <ion-icon name="close"></ion-icon>
        Cancelar
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form [formGroup]="FormRecinadoEntrega" #f="ngForm">

    <ion-list>
      <ion-item>
        <ion-input label="Equipo:" label-placement="floating" 
        readonly formControlName="codsmg" [(ngModel)]="codsmg1"
          [ngClass]="{'is-invalid':FormRecinadoEntrega.get('codsmg').touched && FormRecinadoEntrega.get('codsmg').invalid}">
        </ion-input>
        <div style="display: none;">
          <ion-input hidden formControlName="idrecinadocableentrega"></ion-input>
        </div>

        <ion-button slot="end" color="primary" (click)="open_popup_equipos()">
          <ion-icon name="search-outline"></ion-icon>
        </ion-button>

      </ion-item>

      <ion-item>
        <ion-label>F.Registro:</ion-label>
        <ion-datetime-button label="F.Registro:" locale="es-ES" datetime="datetime"></ion-datetime-button>
        <ion-popover [keepContentsMounted]="true" trigger="popover-button" animated="true" arrow="true" mode="ios">
          <ng-template>
            <ion-datetime locale="es-ES" id="datetime" mode="ios" displayFormat="YYYY-MM-DD" presentation="date"
              [preferWheel]="true" [showDefaultButtons]="true" [(ngModel)]="fchactual"
              formControlName="fchregistro_rce">
            </ion-datetime>
          </ng-template>
        </ion-popover>
      </ion-item>

      <ion-item>
        <ion-input label="F.Reg.O.T:" label-placement="floating" readonly formControlName="fch_reg_ot_rce"
          [(ngModel)]="fch_reg_ot_rce"></ion-input>
      </ion-item>

      <ion-item>
        <ion-input label="Nro O.T:" label-placement="floating" type="text" readonly formControlName="nroot"
          [(ngModel)]="nroot"
          [ngClass]="{'is-invalid':FormRecinadoEntrega.get('nroot').touched && FormRecinadoEntrega.get('nroot').invalid}">
        </ion-input>
      </ion-item>

      <ion-item-group>
        <ion-item-divider color="primary">
          <ion-label>Cable 1</ion-label>
        </ion-item-divider>

        <ion-item>
          <ion-label>
            Entregado:
            <ion-segment formControlName="idestadocable1_rce" (ionChange)="segmentChanged($event)" mode="ios"
              [ngClass]="{'is-invalid':FormRecinadoEntrega.get('idestadocable1_rce').touched && FormRecinadoEntrega.get('idestadocable1_rce').invalid}">
              <ion-segment-button value="1">
                <ion-label>SI</ion-label>
              </ion-segment-button>
              <ion-segment-button value="2">
                <ion-label>NO</ion-label>
              </ion-segment-button>
            </ion-segment>
          </ion-label>
        </ion-item>



      </ion-item-group>

      <ion-item-group>
        <ion-item-divider color="primary">
          <ion-label>Cable 2</ion-label>
        </ion-item-divider>

        <ion-item>
          <ion-label>
            Entregado
            <ion-segment formControlName="idestadocable2_rce" (ionChange)="segmentChanged($event)" mode="ios"
              [ngClass]="{'is-invalid':FormRecinadoEntrega.get('idestadocable2_rce').touched && FormRecinadoEntrega.get('idestadocable2_rce').invalid}">
              <ion-segment-button value="1">
                <ion-label>SI</ion-label>
              </ion-segment-button>
              <ion-segment-button value="2">
                <ion-label>NO</ion-label>
              </ion-segment-button>
            </ion-segment>
          </ion-label>
        </ion-item>

      </ion-item-group>

    </ion-list>

  </form>
</ion-content>
<ion-footer>
  <ion-button type="button" (click)="SaveFormEntrega()" expand="block">Guardar Formulario</ion-button>
</ion-footer>