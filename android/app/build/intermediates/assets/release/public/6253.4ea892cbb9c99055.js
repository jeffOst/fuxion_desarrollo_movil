"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6253,5155,5719,1973,3384,9915],{5719:(f,P,c)=>{c.d(P,{Z:()=>e});var v=c(4053),g=c(8256),m=c(529);let e=(()=>{class u{constructor(n){this.httpClient=n,this.urlApiProd=v.N.UrlDomainLocal+"aw_modulos/prod/api/CAtencionServicios.php"}ListDatos(n,t,r,a){let o=JSON.stringify({s:n,acc:1,tipo:t,idtablet:r,idmenu:a});return this.httpClient.post(this.urlApiProd,o).toPromise().then(i=>i)}FUpdateEstadoServicio(n,t,r,a,o,i){let s=JSON.stringify({idofpterminado:n,acc:2,value:t,id_usuario_local:r,id_dispositivo:a,avatar:o,idasignaestacionof:i});return this.httpClient.post(this.urlApiProd,s).toPromise().then(_=>_)}ListSolsexQr(n,t,r,a,o){let i=JSON.stringify({idofpterminado:n,acc:2,value:t,id_usuario_local:r,id_dispositivo:a,avatar:o});return this.httpClient.post(this.urlApiProd,i).toPromise().then(s=>s)}load_cbos_pieza_material_maquina(n,t,r){let a=JSON.stringify({acc:3,id_usuario_local:t,id_dispositivo:r,idtipserv:n});return this.httpClient.post(this.urlApiProd,a).toPromise().then(o=>o)}ListFindPersonal(n,t,r){let a=JSON.stringify({acc:4,s:n,idusu:t,iddevice:r});return this.httpClient.post(this.urlApiProd,a).toPromise().then(o=>o)}ListFindServiciosByPieza(n,t,r,a,o,i){let s=JSON.stringify({acc:5,s:n,idpieza:t,tipServicio:r,idusu:a,iddevice:o,nomclase:i});return this.httpClient.post(this.urlApiProd,s).toPromise().then(_=>_)}ListFindPiezaByActividad(n,t,r,a,o,i,s,_){let h=JSON.stringify({acc:6,s:n,idpieza:t,tipServicio:r,idusu:a,iddevice:o,idclase:i,idsubfamilia:s,nomsubfam:_});return this.httpClient.post(this.urlApiProd,h).toPromise().then(p=>p)}SaveInicioActividad(n){let t=JSON.stringify(n);return this.httpClient.post(this.urlApiProd,t).toPromise().then(r=>r)}ListFindActividades(n,t,r){let a=JSON.stringify({acc:9,s:n,idusu:t,iddevice:r});return this.httpClient.post(this.urlApiProd,a).toPromise().then(o=>o)}ListFindClaseByPieza(n,t,r,a,o){let i=JSON.stringify({acc:10,s:n,idpieza:t,tipServicio:r,idusu:a,iddevice:o});return this.httpClient.post(this.urlApiProd,i).toPromise().then(s=>s)}ListFindOfByClase(n,t,r,a,o,i){let s=JSON.stringify({acc:11,s:n,idsubfamilia:t,idclase:r,tipServicio:a,idusu:o,iddevice:i});return this.httpClient.post(this.urlApiProd,s).toPromise().then(_=>_)}ListFindQrByOf(n,t,r,a,o,i){let s=JSON.stringify({acc:12,s:n,idpieza:t,tipServicio:r,idusu:a,iddevice:o,nomclase:i});return this.httpClient.post(this.urlApiProd,s).toPromise().then(_=>_)}SaveControlCalidadByOf(n){let t=JSON.stringify(n);return this.httpClient.post(this.urlApiProd,t).toPromise().then(r=>r)}ListFindSolicitudQcByOf(n,t,r,a){let o=JSON.stringify({acc:14,s:n,idofpterminado:t,idusu:r,iddevice:a});return this.httpClient.post(this.urlApiProd,o).toPromise().then(i=>i)}load_cbos_ma00(){let n=JSON.stringify({acc:15});return this.httpClient.post(this.urlApiProd,n).toPromise().then(t=>t)}FCreaCorrelativo(){let n=JSON.stringify({acc:16});return this.httpClient.post(this.urlApiProd,n).toPromise().then(t=>t)}SaveReporteFalla(n){let t=JSON.stringify(n);return this.httpClient.post(this.urlApiProd,t).toPromise().then(r=>r)}SaveRelevo(n){let t=JSON.stringify(n);return this.httpClient.post(this.urlApiProd,t).toPromise().then(r=>r)}FCreaCorrelativoRelevo(){let n=JSON.stringify({acc:18});return this.httpClient.post(this.urlApiProd,n).toPromise().then(t=>t)}load_cbo_subprocesos(n,t,r){let a=JSON.stringify({acc:20,idmaquina:n,nom_pieza:t,servicio:r});return this.httpClient.post(this.urlApiProd,a).toPromise().then(o=>o)}load_cbos_any_edit_ini_actvidad(n,t,r){let a=JSON.stringify({acc:22,id_usuario_local:t,id_dispositivo:r,idtipserv:n});return this.httpClient.post(this.urlApiProd,a).toPromise().then(o=>o)}ListActividadesxTecnico(n,t,r){let a=JSON.stringify({iduser:n,acc:23,horainicio_filtro:t,horafin_filtro:r});return this.httpClient.post(this.urlApiProd,a).toPromise().then(o=>o)}SaveResumenDia(n,t){let r=JSON.stringify(t);return this.httpClient.post(this.urlApiProd,r).toPromise().then(a=>a)}LoadFormDejarPiezasCalidad(n){let t=JSON.stringify({idpt:n,acc:25});return this.httpClient.post(this.urlApiProd,t).toPromise().then(r=>r)}LoadFormIniciaActividad(n,t){let r=JSON.stringify({idpt:n,avatar:t,acc:26});return this.httpClient.post(this.urlApiProd,r).toPromise().then(a=>a)}}return u.\u0275fac=function(n){return new(n||u)(g.LFG(m.eN))},u.\u0275prov=g.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},6253:(f,P,c)=>{c.r(P),c.d(P,{ProdAteServDejarPiezaCalidadPage:()=>n});var v=c(5861),g=c(6895),m=c(433),l=c(5562),d=c(5155),e=c(8256),u=c(1407),C=c(5719);let n=(()=>{class t{constructor(a,o,i,s,_,h,p){this.navCtrl=a,this.router=o,this.modalCtrl=i,this.alertController=s,this.loadingController=_,this.ApiServices=h,this.location=p,this.Cancelar="Cancelar",this.readonly_qr=!1,this.FormModel={},this.navParams=this.router.getCurrentNavigation().extras.state,console.log(this.navParams),console.log("this.FormModel",this.FormModel),this.navParams&&(this.FormModel.correorden=this.navParams.correorden,console.log("this.navParams",this.navParams),this.FormModel.idofpterminado=this.navParams.idofpterminado,this.FormModel.codigo_pt=this.navParams.Y04001,this.FormModel.descripcion_pt=this.navParams.descripcion_pt,this.FormModel.nombres_tecnico=this.navParams.nombres_tecnico,this.FormModel.EQUIPOID=this.navParams.EQUIPOID,this.FormModel.idsolicitante_scc=this.navParams.idsolicitante_scc,this.FormModel.cantidad=this.navParams.cantidad,this.FormModel.cantidad_atendido=this.navParams.cantidad_atendido,console.log("this.FormModel",this.FormModel),this.CssReproceso=1==this.navParams.flag_reproceso?"CssReproceso":"",console.log("this.CssReproceso=",this.CssReproceso),this.hide_div_reproceso=1==this.navParams.flag_reproceso,this.FormModel.fecha_reproceso=this.navParams.fecha_reproceso,this.FormModel.cantidad_reproceso=this.navParams.cantidad_reproceso,this.FormModel.idrevisiondet_reproceso=this.navParams.idrevisiondet_reproceso)}ngOnInit(){this.FormModel.cantidad_scc=0,this.hide_div_reproceso||this.listServiciosPendientes()}FCancelarForm(){this.location.back()}FSaveForm(){let a="",i=0;this.CssNotiTecnico="field_required_ok",(null==this.FormModel.nombres_tecnico||""==this.FormModel.nombres_tecnico)&&(i=2,a=" Fala seleccionar  Tecnico",this.CssNotiTecnico="field_required"),this.CssNotiCantidad="field_required_ok",(null==this.FormModel.cantidad_scc||""==this.FormModel.cantidad_scc)&&(i=2,a=" Fala agregar cantidad",this.CssNotiCantidad="field_required"),1==i||2==i?this.alertController.create({header:"Solicita Control Calidad",cssClass:"success",subHeader:"",mode:"ios",message:""+a,buttons:[{text:"Aceptar",cssClass:"bgcolor:danger",handler:()=>{}}]}).then(_=>{_.present()}):this.loadingController.create({message:"Cargando...",translucent:!0}).then(_=>{_.present(),this.FormModel.acc="13",this.ApiServices.SaveControlCalidadByOf(this.FormModel).then(h=>{let p;if(this.loadingController.dismiss(),p=h[0],console.log(p),console.log(p.o_nres),0==p.o_nres)alert("Error, "+p.o_msj);else{this.FormModel.idsolicitudcontrolcab=p.o_nres;let M={state:this.FormModel};console.log("navigationExtras",M),this.navCtrl.navigateForward(["prod-ate-serv-asigna-estado"],M),alert(p.o_msj)}}).finally(()=>{console.log("finalyyyy")})})}FOpenModalTecnico(a){var o=this;return(0,v.Z)(function*(){let i,s;i=o.FormModel.nombres_tecnico,s=o.FormModel.idsolicitante_scc;const h=yield o.modalCtrl.create({component:d.ProdAteServPopPersonalPage,backdropDismiss:!0,showBackdrop:!0,mode:"ios",componentProps:{nombre_tecnico:i,titulo_modal:"Lista de Tecnicos",id_personal:s}});return h.onDidDismiss().then(p=>{null!=p.data&&(o.FormModel.nombres_tecnico=p.data.nombres,o.FormModel.idsolicitante_scc=p.data.id)}),yield h.present()})()}listServiciosPendientes(){this.loadingController.create({message:"Cargando lista...",translucent:!0}).then(o=>{o.present(),this.ApiServices.LoadFormDejarPiezasCalidad(this.FormModel.idofpterminado).then(i=>{console.log("this.results=>>>",i),this.FormModel.cantidad_atendido=i[0].cnt_recibo,this.FormModel.cantidad_scc=this.FormModel.cantidad-this.FormModel.cantidad_atendido,console.log("this.results=>>>",i)}).finally(()=>{this.loadingController.dismiss()})})}}return t.\u0275fac=function(a){return new(a||t)(e.Y36(l.SH),e.Y36(u.F0),e.Y36(l.IN),e.Y36(l.Br),e.Y36(l.HT),e.Y36(C.Z),e.Y36(g.Ye))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-prod-ate-serv-dejar-pieza-calidad"]],standalone:!0,features:[e.jDz],decls:63,vars:19,consts:[["mode","ios"],["text-capitalize",""],["slot","start"],["defaultHref","prod-list-acti-programada",3,"text"],[1,"ion-align-items-center"],["size","3",1,"ion-text-end"],["size","9"],[3,"ngModel","ngModelChange"],["type","text","readonly","",3,"ngModel","value","ngModelChange"],["size","9",1,"ion-text-start"],["readonly","",3,"ngModel","ngModelChange"],["type","number",3,"ngModel","ngModelChange"],[2,"text-align","center"],["color","danger",3,"disabled","click"],["name","close-outline"],["color","primary",3,"disabled","click"],["name","save-outline"]],template:function(a,o){1&a&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title",1),e._uU(3,"Solicitud Revisi\xf3n Q.C."),e.qZA(),e.TgZ(4,"ion-buttons",2),e._UZ(5,"ion-back-button",3),e.qZA()()(),e.TgZ(6,"ion-content")(7,"ion-list")(8,"ion-item")(9,"ion-grid")(10,"ion-row",4)(11,"ion-col",5),e._uU(12," Orden de Fabricaci\xf3n \xa0:"),e.qZA(),e.TgZ(13,"ion-col",6)(14,"ion-input",7),e.NdJ("ngModelChange",function(s){return o.FormModel.correorden=s}),e.qZA()()(),e.TgZ(15,"ion-row",4)(16,"ion-col",5),e._uU(17," Codigo P.T. \xa0:"),e.qZA(),e.TgZ(18,"ion-col",6)(19,"ion-input",7),e.NdJ("ngModelChange",function(s){return o.FormModel.codigo_pt=s}),e.qZA()()(),e.TgZ(20,"ion-row",4)(21,"ion-col",5),e._uU(22," Descripci\xf3n del Componente \xa0:"),e.qZA(),e.TgZ(23,"ion-col",6)(24,"ion-input",7),e.NdJ("ngModelChange",function(s){return o.FormModel.descripcion_pt=s}),e.qZA()()(),e.TgZ(25,"ion-row",4)(26,"ion-col",5),e._uU(27," Tecnico: "),e.qZA(),e.TgZ(28,"ion-col",6)(29,"ion-input",8),e.NdJ("ngModelChange",function(s){return o.FormModel.nombres_tecnico=s}),e.qZA(),e._UZ(30,"div"),e.qZA()(),e.TgZ(31,"ion-row",4)(32,"ion-col",5),e._uU(33,"Total Piezas: "),e.qZA(),e.TgZ(34,"ion-col",9)(35,"ion-input",10),e.NdJ("ngModelChange",function(s){return o.FormModel.cantidad=s}),e.qZA()()(),e.TgZ(36,"ion-row",4)(37,"ion-col",5),e._uU(38,"Atendido Piezas: "),e.qZA(),e.TgZ(39,"ion-col",9)(40,"ion-input",10),e.NdJ("ngModelChange",function(s){return o.FormModel.cantidad_atendido=s}),e.qZA()()(),e.TgZ(41,"ion-row",4)(42,"ion-col",5),e._uU(43," Cantidad: "),e.qZA(),e.TgZ(44,"ion-col",9)(45,"ion-input",11),e.NdJ("ngModelChange",function(s){return o.FormModel.cantidad_scc=s}),e.qZA(),e._UZ(46,"div"),e.qZA()()()()()(),e.TgZ(47,"ion-footer")(48,"ion-grid")(49,"ion-row"),e._UZ(50,"ion-col"),e.TgZ(51,"ion-col",12)(52,"ion-buttons")(53,"ion-button",13),e.NdJ("click",function(){return o.FCancelarForm()}),e._UZ(54,"ion-icon",14),e._uU(55,"\xa0 Cancelar "),e.qZA(),e._uU(56," \xa0\xa0\xa0\xa0 "),e.TgZ(57,"ion-button",15),e.NdJ("click",function(){return o.FSaveForm()}),e._UZ(58,"ion-icon",16),e._uU(59,"\xa0 "),e.TgZ(60,"strong"),e._uU(61," Iniciar "),e.qZA()()()(),e._UZ(62,"ion-col"),e.qZA()()()),2&a&&(e.xp6(5),e.Q6J("text",o.Cancelar),e.xp6(9),e.Q6J("ngModel",o.FormModel.correorden),e.xp6(5),e.Q6J("ngModel",o.FormModel.codigo_pt),e.uIk("disabled",o.readonly_qr),e.xp6(5),e.Q6J("ngModel",o.FormModel.descripcion_pt),e.uIk("disabled",o.readonly_qr),e.xp6(5),e.s9C("value",o.FormModel.nombres_tecnico),e.Q6J("ngModel",o.FormModel.nombres_tecnico),e.xp6(1),e.Tol(o.CssNotiTecnico),e.xp6(5),e.Q6J("ngModel",o.FormModel.cantidad),e.xp6(5),e.Q6J("ngModel",o.FormModel.cantidad_atendido),e.xp6(5),e.Q6J("ngModel",o.FormModel.cantidad_scc),e.xp6(1),e.Tol(o.CssNotiCantidad),e.xp6(7),e.Q6J("disabled",o.disableButton),e.xp6(4),e.Q6J("disabled",o.disableButton))},dependencies:[l.Pc,l.oU,l.YG,l.Sm,l.wI,l.W2,l.fr,l.jY,l.Gu,l.gu,l.pK,l.Ie,l.q_,l.Nd,l.wd,l.sr,l.as,l.j9,l.cs,g.ez,m.u5,m.JJ,m.On]}),t})()},5155:(f,P,c)=>{c.r(P),c.d(P,{ProdAteServPopPersonalPage:()=>t});var v=c(5861),g=c(6895),m=c(433),l=c(5562),d=c(8256),e=c(5719),u=c(849);const C=["IdHtmlInputSearch"];function n(r,a){if(1&r){const o=d.EpF();d.TgZ(0,"ion-list",7)(1,"ion-item",8),d.NdJ("click",function(){const s=d.CHM(o),_=s.$implicit,h=s.index,p=d.oxw();return d.KtG(p.FSelectedItem(_.id_personal,_.nombres_tecnico,h))}),d.TgZ(2,"ion-label")(3,"strong"),d._uU(4),d.qZA(),d.TgZ(5,"p"),d._uU(6),d.qZA()()()()}if(2&r){const o=a.$implicit,s=a.even;d.ekj("odd",a.odd)("even",s),d.xp6(4),d.Oqu(o.nombres_tecnico),d.xp6(2),d.Oqu(o.cargo)}}let t=(()=>{class r{constructor(o,i,s,_){let h;this.ApiService=o,this.loadingCtrl=i,this.modalCtrl=s,this.storage=_,this.storage.get("USER_INFO").then(p=>{h=p,this.NombresUsuarioLocal=h.user_name,this.IdUsuarioLocal=h.user_id}),this.storage.get("DEVICE_INFO").then(p=>{h=p,this.NombreDispositivo=h.name,this.IdDispositivo=h.uuid})}ngOnInit(){this.nombre_tecnico=null==this.nombre_tecnico?"":this.nombre_tecnico,this.FFindRows()}FOnCloseModel(o,i,s){var _=this;return(0,v.Z)(function*(){const h={id:o,nombres:i};console.log(h),yield _.modalCtrl.dismiss(h)})()}FSelectedItem(o,i,s){this.FOnCloseModel(o,i,s)}FCloseModal(){this.nombre_tecnico=null==this.nombre_tecnico?"":this.nombre_tecnico,this.id_personal=null==this.id_personal?"":this.id_personal,this.FOnCloseModel(this.id_personal,this.nombre_tecnico,0)}FFindRows(){this.loadingCtrl.create({message:"Cargando lista...",translucent:!0}).then(i=>{i.present(),this.ApiService.ListFindPersonal(this.NgModInputSearch,this.IdUsuarioLocal,this.IdDispositivo).then(s=>{this.DataSetGrid=s}).finally(()=>{this.loadingCtrl.dismiss()})})}}return r.\u0275fac=function(o){return new(o||r)(d.Y36(e.Z),d.Y36(l.HT),d.Y36(l.IN),d.Y36(u.K))},r.\u0275cmp=d.Xpm({type:r,selectors:[["app-prod-ate-serv-pop-personal"]],viewQuery:function(o,i){if(1&o&&d.Gf(C,5),2&o){let s;d.iGM(s=d.CRH())&&(i.IdHtmlInputSearch=s.first)}},inputs:{titulo_modal:"titulo_modal",nombre_tecnico:"nombre_tecnico",id_personal:"id_personal"},standalone:!0,features:[d.jDz],decls:13,vars:3,consts:[["mode","ios"],["slot","start"],[1,"",3,"click"],["part","icon","aria-hidden","true","role","img","name","chevron-back-outline",1,"md","hydrated"],["mode","ios","debounce","1700","cancelButtonText","Cancelar","enterkeyhint","done","placeholder","Filtrar parametros",2,"width","100%",3,"ngModel","ngModelChange","ionChange"],["IdHtmlInputSearch",""],["lines","full","inset","true",3,"odd","even",4,"ngFor","ngForOf"],["lines","full","inset","true"],["button","",3,"click"]],template:function(o,i){1&o&&(d.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),d._uU(3),d.qZA(),d.TgZ(4,"ion-buttons",1)(5,"ion-button",2),d.NdJ("click",function(){return i.FCloseModal()}),d._UZ(6,"ion-icon",3),d._uU(7," Cancelar "),d.qZA()()()(),d.TgZ(8,"ion-content")(9,"ion-item")(10,"ion-searchbar",4,5),d.NdJ("ngModelChange",function(_){return i.NgModInputSearch=_})("ionChange",function(){return i.FFindRows()}),d.qZA()(),d.YNc(12,n,7,6,"ion-list",6),d.qZA()),2&o&&(d.xp6(3),d.Oqu(i.titulo_modal),d.xp6(7),d.Q6J("ngModel",i.NgModInputSearch),d.xp6(2),d.Q6J("ngForOf",i.DataSetGrid))},dependencies:[l.Pc,l.YG,l.Sm,l.W2,l.Gu,l.gu,l.Ie,l.Q$,l.q_,l.VI,l.wd,l.sr,l.j9,g.ez,g.sg,m.u5,m.JJ,m.On],styles:[".back_button_geo[_ngcontent-%COMP%]{--background-hover: transparent;--background-hover-opacity: 1;--background-focused: currentColor;--background-focused-opacity: .1;--border-radius: 4px;--color: var(--ion-color-primary, #3880ff);--icon-margin-end: -5px;--icon-margin-start: -4px;--icon-font-size: 1.85em;--min-height: 32px;font-size:17px;--background: transparent;--color-focused: currentColor;--color-hover: currentColor;--icon-margin-top: 0;--icon-margin-bottom: 0;--icon-padding-top: 0;--icon-padding-end: 0;--icon-padding-bottom: 0;--icon-padding-start: 0;--margin-top: 0;--margin-end: 0;--margin-bottom: 0;--margin-start: 0;--min-width: auto;--min-height: auto;--padding-top: 0;--padding-end: 0;--padding-bottom: 0;--padding-start: 0;--opacity: 1;--ripple-color: currentColor;--transition: background-color, opacity .1s linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;user-select:none;font-kerning:none}"]}),r})()}}]);