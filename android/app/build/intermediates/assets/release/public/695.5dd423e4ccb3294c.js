"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[695,5719,1973,3384,9915],{5719:(y,S,p)=>{p.d(S,{Z:()=>O});var f=p(4053),A=p(8256),l=p(529);let O=(()=>{class P{constructor(t){this.httpClient=t,this.urlApiProd=f.N.UrlDomainLocal+"aw_modulos/prod/api/CAtencionServicios.php"}ListDatos(t,e,n,r){let a=JSON.stringify({s:t,acc:1,tipo:e,idtablet:n,idmenu:r});return this.httpClient.post(this.urlApiProd,a).toPromise().then(u=>u)}FUpdateEstadoServicio(t,e,n,r,a,u){let d=JSON.stringify({idofpterminado:t,acc:2,value:e,id_usuario_local:n,id_dispositivo:r,avatar:a,idasignaestacionof:u});return this.httpClient.post(this.urlApiProd,d).toPromise().then(_=>_)}ListSolsexQr(t,e,n,r,a){let u=JSON.stringify({idofpterminado:t,acc:2,value:e,id_usuario_local:n,id_dispositivo:r,avatar:a});return this.httpClient.post(this.urlApiProd,u).toPromise().then(d=>d)}load_cbos_pieza_material_maquina(t,e,n){let r=JSON.stringify({acc:3,id_usuario_local:e,id_dispositivo:n,idtipserv:t});return this.httpClient.post(this.urlApiProd,r).toPromise().then(a=>a)}ListFindPersonal(t,e,n){let r=JSON.stringify({acc:4,s:t,idusu:e,iddevice:n});return this.httpClient.post(this.urlApiProd,r).toPromise().then(a=>a)}ListFindServiciosByPieza(t,e,n,r,a,u){let d=JSON.stringify({acc:5,s:t,idpieza:e,tipServicio:n,idusu:r,iddevice:a,nomclase:u});return this.httpClient.post(this.urlApiProd,d).toPromise().then(_=>_)}ListFindPiezaByActividad(t,e,n,r,a,u,d,_){let o=JSON.stringify({acc:6,s:t,idpieza:e,tipServicio:n,idusu:r,iddevice:a,idclase:u,idsubfamilia:d,nomsubfam:_});return this.httpClient.post(this.urlApiProd,o).toPromise().then(s=>s)}SaveInicioActividad(t){let e=JSON.stringify(t);return this.httpClient.post(this.urlApiProd,e).toPromise().then(n=>n)}ListFindActividades(t,e,n){let r=JSON.stringify({acc:9,s:t,idusu:e,iddevice:n});return this.httpClient.post(this.urlApiProd,r).toPromise().then(a=>a)}ListFindClaseByPieza(t,e,n,r,a){let u=JSON.stringify({acc:10,s:t,idpieza:e,tipServicio:n,idusu:r,iddevice:a});return this.httpClient.post(this.urlApiProd,u).toPromise().then(d=>d)}ListFindOfByClase(t,e,n,r,a,u){let d=JSON.stringify({acc:11,s:t,idsubfamilia:e,idclase:n,tipServicio:r,idusu:a,iddevice:u});return this.httpClient.post(this.urlApiProd,d).toPromise().then(_=>_)}ListFindQrByOf(t,e,n,r,a,u){let d=JSON.stringify({acc:12,s:t,idpieza:e,tipServicio:n,idusu:r,iddevice:a,nomclase:u});return this.httpClient.post(this.urlApiProd,d).toPromise().then(_=>_)}SaveControlCalidadByOf(t){let e=JSON.stringify(t);return this.httpClient.post(this.urlApiProd,e).toPromise().then(n=>n)}ListFindSolicitudQcByOf(t,e,n,r){let a=JSON.stringify({acc:14,s:t,idofpterminado:e,idusu:n,iddevice:r});return this.httpClient.post(this.urlApiProd,a).toPromise().then(u=>u)}load_cbos_ma00(){let t=JSON.stringify({acc:15});return this.httpClient.post(this.urlApiProd,t).toPromise().then(e=>e)}FCreaCorrelativo(){let t=JSON.stringify({acc:16});return this.httpClient.post(this.urlApiProd,t).toPromise().then(e=>e)}SaveReporteFalla(t){let e=JSON.stringify(t);return this.httpClient.post(this.urlApiProd,e).toPromise().then(n=>n)}SaveRelevo(t){let e=JSON.stringify(t);return this.httpClient.post(this.urlApiProd,e).toPromise().then(n=>n)}FCreaCorrelativoRelevo(){let t=JSON.stringify({acc:18});return this.httpClient.post(this.urlApiProd,t).toPromise().then(e=>e)}load_cbo_subprocesos(t,e,n){let r=JSON.stringify({acc:20,idmaquina:t,nom_pieza:e,servicio:n});return this.httpClient.post(this.urlApiProd,r).toPromise().then(a=>a)}load_cbos_any_edit_ini_actvidad(t,e,n){let r=JSON.stringify({acc:22,id_usuario_local:e,id_dispositivo:n,idtipserv:t});return this.httpClient.post(this.urlApiProd,r).toPromise().then(a=>a)}ListActividadesxTecnico(t,e,n){let r=JSON.stringify({iduser:t,acc:23,horainicio_filtro:e,horafin_filtro:n});return this.httpClient.post(this.urlApiProd,r).toPromise().then(a=>a)}SaveResumenDia(t,e){let n=JSON.stringify(e);return this.httpClient.post(this.urlApiProd,n).toPromise().then(r=>r)}LoadFormDejarPiezasCalidad(t){let e=JSON.stringify({idpt:t,acc:25});return this.httpClient.post(this.urlApiProd,e).toPromise().then(n=>n)}LoadFormIniciaActividad(t,e){let n=JSON.stringify({idpt:t,avatar:e,acc:26});return this.httpClient.post(this.urlApiProd,n).toPromise().then(r=>r)}}return P.\u0275fac=function(t){return new(t||P)(A.LFG(l.eN))},P.\u0275prov=A.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})()},695:(y,S,p)=>{p.r(S),p.d(S,{ProdAteServListActividadesPage:()=>u});var f=p(6895),A=p(433),l=p(5562),Z=p(3646),i=p(8256),O=p(5719),P=p(849),C=p(1407);const t=["IdHtmlInputSearch"];function e(d,_){1&d&&i._UZ(0,"ion-icon",32)}function n(d,_){1&d&&i._UZ(0,"ion-icon",33)}function r(d,_){if(1&d){const o=i.EpF();i.TgZ(0,"ion-item",34),i.NdJ("click",function(){const h=i.CHM(o).$implicit,v=i.oxw(2);return i.KtG(v.FSelectedItem(h))}),i.TgZ(1,"ion-grid",35)(2,"ion-row",36)(3,"ion-col",37)(4,"ion-label",38),i._uU(5),i.qZA()(),i.TgZ(6,"ion-col",39)(7,"ion-label",38),i._uU(8),i.qZA()(),i.TgZ(9,"ion-col",39),i._uU(10),i.qZA(),i.TgZ(11,"ion-col",39)(12,"ion-label",40),i._uU(13),i.qZA()(),i.TgZ(14,"ion-col",39),i._uU(15),i.qZA(),i.TgZ(16,"ion-col",41),i._uU(17),i.qZA(),i.TgZ(18,"ion-col",39),i._uU(19),i.qZA(),i.TgZ(20,"ion-col",39),i._uU(21),i.qZA(),i.TgZ(22,"ion-col",39),i._uU(23),i.qZA(),i.TgZ(24,"ion-col",39),i._uU(25),i.qZA(),i.TgZ(26,"ion-col",39),i._uU(27),i.qZA()()()()}if(2&d){const o=_.$implicit,s=i.oxw(2);i.Q6J("hidden",s.scanActive),i.xp6(4),i.Q6J("color","3"!=o.idestado?"warning":"dark"),i.xp6(1),i.Oqu(o.Nsemanaofmes),i.xp6(2),i.Q6J("color","3"!=o.idestado?"warning":"dark"),i.xp6(1),i.Oqu(o.codsmg),i.xp6(2),i.Oqu(o.correorden),i.xp6(3),i.Oqu(o.nomclase),i.xp6(2),i.Oqu(o.maquina),i.xp6(2),i.Oqu(o.Y04002),i.xp6(2),i.Oqu(o.fecha_inicio),i.xp6(2),i.Oqu(o.fecha_fin),i.xp6(2),i.Oqu(o.tiempo),i.xp6(2),i.Oqu(o.cantidad),i.xp6(2),i.Oqu(o.observacion)}}function a(d,_){if(1&d&&(i.TgZ(0,"ion-item-group")(1,"ion-item-divider",27),i.YNc(2,e,1,0,"ion-icon",28),i.YNc(3,n,1,0,"ion-icon",29),i.TgZ(4,"div",30),i._uU(5),i.qZA()(),i.YNc(6,r,28,14,"ion-item",31),i.qZA()),2&d){const o=_.$implicit,s=i.oxw();i.Udp("--background",s.scanActive?"#00000000":"#fff"),i.xp6(1),i.Q6J("hidden",s.scanActive),i.xp6(1),i.Q6J("ngIf",0==o.values[0].flag_pendientes),i.xp6(1),i.Q6J("ngIf",0!=o.values[0].flag_pendientes),i.xp6(2),i.Oqu(o.key),i.xp6(1),i.Q6J("ngForOf",o.values)}}let u=(()=>{class d{constructor(o,s,c,h,v){let g;this.loadingController=o,this.prodGestionServicioService=s,this.storage=c,this.navCtrl=h,this.router=v,this.TituloDinamico="Tabla de Actividades",this.NgModInputSearch="",this.scanActive=!1,this.navParams=this.router.getCurrentNavigation().extras.state,console.log("this.navParams::>",this.navParams),this.idMenu=this.navParams.idmenu,this.menu=this.navParams.menu,this.storage.get("USER_INFO").then(m=>{g=m,this.NombresUsuarioLocal=g.user_name,this.IdUsuarioLocal=g.user_id}),this.storage.get("DEVICE_INFO").then(m=>{g=m,this.NombreDispositivo=g.name,this.IdDispositivo=g.uuid})}ngOnInit(){this.FFindRows()}ionViewDidLoad(){}ionViewDidEnter(){}ngOnDestroy(){}FSelectedItem(o){console.log(o);let s={state:o};console.log(s),this.navCtrl.navigateForward(["prod-ate-serv-inicia-actividad"],s)}FReporteFalla(){console.log("row"),this.navCtrl.navigateForward(["prod-ate-serv-reporte-falla"],{state:{idmenu:this.idMenu,menu:this.menu}})}FRelevo(){this.navCtrl.navigateForward(["prod-ate-serv-relevo"],{state:{idmenu:this.idMenu,menu:this.menu}})}FIniciarActvividad(){let o;o={},o.CONCOMPONENTE=1,this.navCtrl.navigateForward(["addserviciostodet"],{state:o})}FFindRows(){this.loadingController.create({message:"Cargando lista...",translucent:!0}).then(s=>{s.present(),this.prodGestionServicioService.ListFindActividades(this.NgModInputSearch,this.IdUsuarioLocal,this.IdDispositivo).then(c=>{this.MultiArrayServicios=c,this.MultiArrayServicios=this.groupByArray(this.MultiArrayServicios,"nombres_tecnico","hora_ini_acti_otd")}).finally(()=>{this.loadingController.dismiss()})})}groupByArray(o,s,c){return o.reduce(function(h,v){let g=s instanceof Function?s(v):v[s],m=h.find(T=>T&&T.key===g);return m?m.values.push(v):h.push({key:g,values:[v]}),h},[])}sortArray(o,s,c){return c=c||1,o.sort(function(v,g){let m=0;return v[s]>g[s]?m=1*c:v[s]<g[s]&&(m=-1*c),m}),o}}return d.\u0275fac=function(o){return new(o||d)(i.Y36(l.HT),i.Y36(O.Z),i.Y36(P.K),i.Y36(l.SH),i.Y36(C.F0))},d.\u0275cmp=i.Xpm({type:d,selectors:[["app-prod-ate-serv-list-actividades"]],viewQuery:function(o,s){if(1&o&&i.Gf(t,5),2&o){let c;i.iGM(c=i.CRH())&&(s.idInputSearch=c.first)}},standalone:!0,features:[i.jDz],decls:51,vars:3,consts:[[1,"ion-no-border"],[1,"ion-justify-content-start"],["size","10",1,"ion-align-self-start"],[3,"titulo"],["size","2",1,"ion-align-self-end"],["position","fixed","color","secondary",1,"label-nameusuario"],["mode","ios","debounce","1700","cancelButtonText","Cancelar","enterkeyhint","done","placeholder","Filtrar par\xe1metros",3,"ngModel","ngModelChange","ionChange"],["IdHtmlInputSearch",""],["slot","end","name","sync-outline",3,"click"],["idIconButtonSync",""],["scroll-x","true"],[1,"",2,"width","150% !important"],[2,"width","100% !important"],["size-sm","0.5","size-md","0.5","size-xl","0.5",1,"headgrid"],["size-sm","1","size-md","1","size-xl","1",1,"headgrid"],["size-sm","2","size-md","2","size-xl","2",1,"headgrid"],[3,"--background",4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed"],["title","REPORTE FALLA EQUIPO",3,"click"],["name","build-outline"],["title","RELEVO",3,"click"],["name","log-out-outline"],["title","Nueva Actividad",3,"click"],["name","grid-outline"],["mode","ios",2,"align-items","center"],["fill","clear","expand","block",2,"width","30%",3,"click"],["color","primary",2,"font","size 6px"],["color","light",2,"height","30px !important",3,"hidden"],["name","ellipse","color","danger","slot","start",4,"ngIf"],["name","ellipse","color","success","slot","start",4,"ngIf"],[1,"ion-text-uppercase"],["button","",3,"hidden","click",4,"ngFor","ngForOf"],["name","ellipse","color","danger","slot","start"],["name","ellipse","color","success","slot","start"],["button","",3,"hidden","click"],["fixed","false",2,"width","150% !important"],[2,"width","100% !important","font-size","0.7em"],["size-sm","0.5","size-md","0.5","size-xl","0.5"],[3,"color"],["size-sm","1","size-md","1","size-xl","1"],[1,"ion-text-wrap"],["size-sm","2","size-md","2","size-xl","2"]],template:function(o,s){1&o&&(i.TgZ(0,"ion-toolbar",0)(1,"ion-grid")(2,"ion-row",1)(3,"ion-col",2),i._UZ(4,"app-header",3),i.qZA(),i.TgZ(5,"ion-col",4),i._UZ(6,"ion-label",5),i.qZA()()(),i.TgZ(7,"ion-item")(8,"ion-searchbar",6,7),i.NdJ("ngModelChange",function(h){return s.NgModInputSearch=h})("ionChange",function(){return s.FFindRows()}),i.qZA(),i.TgZ(10,"ion-icon",8,9),i.NdJ("click",function(){return s.FFindRows()}),i.qZA()()(),i.TgZ(12,"ion-content",10)(13,"ion-list",11)(14,"ion-row",12)(15,"ion-col",13),i._uU(16,"Semana"),i.qZA(),i.TgZ(17,"ion-col",14),i._uU(18,"Equipo"),i.qZA(),i.TgZ(19,"ion-col",14),i._uU(20,"Nro. OT/OF"),i.qZA(),i.TgZ(21,"ion-col",14),i._uU(22,"Pieza"),i.qZA(),i.TgZ(23,"ion-col",14),i._uU(24,"Maquina"),i.qZA(),i.TgZ(25,"ion-col",15),i._uU(26,"Servicio"),i.qZA(),i.TgZ(27,"ion-col",14),i._uU(28,"F. Inicio"),i.qZA(),i.TgZ(29,"ion-col",14),i._uU(30,"F. Fin"),i.qZA(),i.TgZ(31,"ion-col",14),i._uU(32,"Tiempo"),i.qZA(),i.TgZ(33,"ion-col",14),i._uU(34,"Cantidad"),i.qZA(),i.TgZ(35,"ion-col",14),i._uU(36,"Observacion"),i.qZA()(),i.YNc(37,a,7,7,"ion-item-group",16),i.qZA(),i.TgZ(38,"ion-fab",17)(39,"ion-fab-button",18),i.NdJ("click",function(){return s.FReporteFalla()}),i._UZ(40,"ion-icon",19),i.qZA(),i.TgZ(41,"ion-fab-button",20),i.NdJ("click",function(){return s.FRelevo()}),i._UZ(42,"ion-icon",21),i.qZA(),i.TgZ(43,"ion-fab-button",22),i.NdJ("click",function(){return s.FIniciarActvividad()}),i._UZ(44,"ion-icon",23),i.qZA()()(),i.TgZ(45,"ion-footer")(46,"ion-card",24)(47,"ion-button",25),i.NdJ("click",function(){return s.FFindRows()}),i.TgZ(48,"ion-label",26),i._UZ(49,"ion-icon",23),i._uU(50," Tabla de actividades "),i.qZA()()()()),2&o&&(i.xp6(4),i.s9C("titulo",s.TituloDinamico),i.xp6(4),i.Q6J("ngModel",s.NgModInputSearch),i.xp6(29),i.Q6J("ngForOf",s.MultiArrayServicios))},dependencies:[l.Pc,l.YG,l.PM,l.wI,l.W2,l.IJ,l.W4,l.fr,l.jY,l.gu,l.Ie,l.rH,l.Ub,l.Q$,l.q_,l.Nd,l.VI,l.sr,l.j9,f.ez,f.sg,f.O5,A.u5,A.JJ,A.On,Z.G],styles:[".forecast_container[_ngcontent-%COMP%]{flex-wrap:nowrap;overflow-x:scroll!important;overflow-y:hidden;overflow-x:visible!important}"]}),d})()}}]);