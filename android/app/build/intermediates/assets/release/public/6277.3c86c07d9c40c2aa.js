"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6277,7883,4285,8458,323,7025,4589,8962,9945,7151,4373],{7883:(C,g,n)=>{n.d(g,{X:()=>h});var d=n(8256);let h=(()=>{class s{constructor(){console.log("UserProfileService.Constructor invoked.")}}return s.\u0275fac=function(f){return new(f||s)},s.\u0275prov=d.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},6277:(C,g,n)=>{n.r(g),n.d(g,{MttoListOrdenTrabajoPage:()=>P});var d=n(5861),h=n(6895),s=n(433),i=n(5562),f=n(3646),b=n(4661),o=n(8256),O=n(1456),v=n(849),M=n(7883);const E=["IdHtmlInputSearch"];function A(l,_){if(1&l){const t=o.EpF();o.TgZ(0,"ion-item",17),o.NdJ("click",function(){const r=o.CHM(t).$implicit,u=o.oxw();return o.KtG(u.FNuevaCheckList(r))}),o.TgZ(1,"ion-badge",18),o._uU(2),o.qZA(),o.TgZ(3,"ion-label",19)(4,"strong")(5,"div"),o._uU(6),o.qZA()(),o.TgZ(7,"p"),o._uU(8," Nro.O.T.:\xa0"),o.TgZ(9,"ion-text",20),o._uU(10),o.qZA(),o._uU(11," Procedencia:\xa0"),o.TgZ(12,"ion-text",21),o._uU(13),o.qZA(),o._uU(14," F.Creacion:\xa0"),o.TgZ(15,"ion-text",22),o._uU(16),o.qZA(),o._uU(17," Modelo:\xa0"),o.TgZ(18,"ion-text",23),o._uU(19),o.qZA(),o._uU(20,"\xa0 "),o.qZA()(),o.TgZ(21,"ion-badge",24),o._uU(22),o.qZA()()}if(2&l){const t=_.$implicit,e=o.oxw();o.xp6(1),o.s9C("color",t.color_rep_fab),o.xp6(1),o.Oqu(t.rep_fab),o.xp6(1),o.Q6J("hidden",e.scanActive),o.xp6(2),o.Jzz("color:",t.color_reproceso,";"),o.xp6(1),o.hij("",t.codsmg," "),o.xp6(4),o.hij("",t.id_orden_trab_fis_cab," \xa0"),o.xp6(3),o.hij("",t.Y06002," \xa0"),o.xp6(3),o.hij("",t.ot_fech_inicio_labor," \xa0"),o.xp6(3),o.Oqu(t.modelo),o.xp6(2),o.s9C("color",t.color_atendido),o.xp6(1),o.Oqu(t.ma00estado_nombre)}}let P=(()=>{class l{constructor(t,e,a,r,u,c,m){this.navCtrl=t,this.loadingController=e,this.ApiService=a,this.storage=r,this.alertController=u,this.globalVal=c,this.modalCtrl=m,this.estaCargando=!1,this.scanActive=!0,this.disableButton=!0,this.searchTerm=""}ngOnInit(){let t;this.estaCargando=!0,this.storage.get("USER_INFO").then(e=>{t=e,this.NombresUsuarioLocal=t.user_name,this.IdUsuarioLocal=t.user_id,console.log(t)})}InputChange(t){console.log(t),console.log(t.inputType),this.disableButton=""===this.searchTerm.trim()||"deleteContentBackward"===t.inputType}FListaEquipos(t){this.searchTerm=t.target.value,console.log(t),console.log(t.inputType),this.disableButton=""===this.searchTerm.trim()||"deleteContentBackward"===t.inputType,this.searchTerm.trim().length>=6&&this.loadingController.create({message:"Cargando lista...",translucent:!0}).then(a=>{a.present(),this.ApiService.ListFindOts(this.NgModInputSearch,this.IdUsuarioLocal,"H").then(r=>{this.DataSetGrid=r,this.loadingController.dismiss(),this.estaCargando=!1}).finally(()=>{this.loadingController.dismiss(),setTimeout(()=>{},600)}).catch(()=>{}).then(r=>{console.log("thennnnn",r),a.dismiss()})})}FListaEquiposAlterno(){this.loadingController.create({message:"Cargando lista...",translucent:!0}).then(e=>{e.present(),this.ApiService.ListFindOts(this.NgModInputSearch,this.IdUsuarioLocal,"H").then(a=>{this.DataSetGrid=a,this.loadingController.dismiss(),this.estaCargando=!1}).finally(()=>{this.loadingController.dismiss(),setTimeout(()=>{},600)}).catch(()=>{}).then(a=>{console.log("thennnnn",a),e.dismiss()})})}FNuevaCheckList(t){let e={state:{Row:t}};console.log(e),this.globalVal.checklist_paso_pivot="",this.navCtrl.navigateForward(["/mtto-win-orden-trabajo"],e)}ionViewWillEnter(){let t;this.estaCargando=!0,this.storage.get("USER_INFO").then(e=>{t=e,this.NombresUsuarioLocal=t.user_name,this.IdUsuarioLocal=t.user_id,this.FListaEquiposAlterno()})}ngAfterContentChecked(){console.log("ngAfterContentChecked")}ngAfterViewInit(){console.log("ngAfterViewInit")}ngAfterViewChecked(){}FGenerarOtxProduccion(){let e={state:{Row:{familia:1,idusuario:this.IdUsuarioLocal}}};this.globalVal.checklist_paso_pivot="",this.navCtrl.navigateForward(["/mtto-otis-pop-up-equipo"],e)}FGenerarOtxTablero(){let e={state:{Row:{familia:2,idusuario:this.IdUsuarioLocal}}};this.globalVal.checklist_paso_pivot="",this.navCtrl.navigateForward(["/mtto-otis-pop-up-equipo"],e)}OpenModalEquipos(t){var e=this;return(0,d.Z)(function*(){let a;a="1"==t?{familia:1,idusuario:e.IdUsuarioLocal}:{familia:2,idusuario:e.IdUsuarioLocal};const r=yield e.modalCtrl.create({component:b.MttoOtisPopUpEquipoPage,backdropDismiss:!0,showBackdrop:!0,mode:"ios",componentProps:{Row:a}});return r.onDidDismiss().then(function(){var u=(0,d.Z)(function*(c){if(null!==c){let m;e.dataReturned=c.data,console.log("Modal Sent Data :",e.dataReturned),e.globalVal.checklist_paso_pivot="",m={idequipo:c.data.idequipo,familia:t,idusuario:e.IdUsuarioLocal,idofcab:c.data.idofcab},"0"!=c.data.idequipo&&(e.loadingController.create({message:"Guardando Paso 1...",translucent:!0}).then(p=>{p.present()}),yield e.ApiService.GuardarNuevoEquipo(m).then(function(){var p=(0,d.Z)(function*(T){e.loadingController.dismiss(),console.log(T),e.navCtrl.navigateForward(["/mtto-win-orden-trabajo"],{state:{Row:T.form[0]}})});return function(T){return p.apply(this,arguments)}}()).finally(()=>{console.log("finally:::>>LN:394")}).catch(p=>{console.log("errror:::>>>>>>>>>",p)}))}});return function(c){return u.apply(this,arguments)}}()),yield r.present()})()}}return l.\u0275fac=function(t){return new(t||l)(o.Y36(i.SH),o.Y36(i.HT),o.Y36(O.k),o.Y36(v.K),o.Y36(i.Br),o.Y36(M.X),o.Y36(i.IN))},l.\u0275cmp=o.Xpm({type:l,selectors:[["app-mtto-list-orden-trabajo"]],viewQuery:function(t,e){if(1&t&&o.Gf(E,5),2&t){let a;o.iGM(a=o.CRH())&&(e.IdHtmlInputSearch=a.first)}},standalone:!0,features:[o.jDz],decls:20,vars:3,consts:[[1,"ion-no-border"],[1,"ion-justify-content-start"],["size","10",1,"ion-align-self-start"],["titulo","Lista de Ordenes de Trabajo"],["size","2",1,"ion-align-self-end"],["position","fixed","color","secondary",1,"label-nameusuario"],["mode","ios","animated","true","cancelButtonText","Cancelar","enterkeyhint","done","placeholder","Filtrar Parametros","color","secondary","search-icon","search-circle",3,"ngModel","ngModelChange","ionInput"],["IdHtmlInputSearch",""],["slot","end","name","sync-outline",3,"click"],["idIconButtonSync",""],[3,"inset"],["button","","detail","true","detail-icon","caret-forward-outline","mode","ios",3,"click",4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed"],["color","primary","mode","ios","title","O.T. de Produccion",3,"click"],[1,"icon-bomba"],["color","primary","mode","ios","title","O.T. de Tablero",3,"click"],["name","today-sharp"],["button","","detail","true","detail-icon","caret-forward-outline","mode","ios",3,"click"],["slot","start",3,"color"],[3,"hidden"],["color","danger"],["color","secondary"],["color","success"],["color","primary"],["slot","end",3,"color"]],template:function(t,e){1&t&&(o.TgZ(0,"ion-toolbar",0)(1,"ion-grid")(2,"ion-row",1)(3,"ion-col",2),o._UZ(4,"app-header",3),o.qZA(),o.TgZ(5,"ion-col",4),o._UZ(6,"ion-label",5),o.qZA()()(),o.TgZ(7,"ion-item")(8,"ion-searchbar",6,7),o.NdJ("ngModelChange",function(r){return e.NgModInputSearch=r})("ionInput",function(r){return e.FListaEquipos(r)}),o.qZA(),o.TgZ(10,"ion-icon",8,9),o.NdJ("click",function(){return e.FListaEquiposAlterno()}),o.qZA()()(),o.TgZ(12,"ion-content")(13,"ion-list",10),o.YNc(14,A,23,13,"ion-item",11),o.qZA(),o.TgZ(15,"ion-fab",12)(16,"ion-fab-button",13),o.NdJ("click",function(){return e.OpenModalEquipos("1")}),o._UZ(17,"ion-icon",14),o.qZA(),o.TgZ(18,"ion-fab-button",15),o.NdJ("click",function(){return e.OpenModalEquipos("2")}),o._UZ(19,"ion-icon",16),o.qZA()()()),2&t&&(o.xp6(8),o.Q6J("ngModel",e.NgModInputSearch),o.xp6(5),o.Q6J("inset",!0),o.xp6(1),o.Q6J("ngForOf",e.DataSetGrid))},dependencies:[i.Pc,i.yp,i.wI,i.W2,i.IJ,i.W4,i.jY,i.gu,i.Ie,i.Q$,i.q_,i.Nd,i.VI,i.yW,i.sr,i.j9,h.ez,h.sg,s.u5,s.JJ,s.On,f.G]}),l})()}}]);