"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3665,5719,1973,3384,9915],{5719:(E,A,_)=>{_.d(A,{Z:()=>C});var v=_(4053),f=_(8256),d=_(529);let C=(()=>{class g{constructor(t){this.httpClient=t,this.urlApiProd=v.N.UrlDomainLocal+"aw_modulos/prod/api/CAtencionServicios.php"}ListDatos(t,o,s,a){let l=JSON.stringify({s:t,acc:1,tipo:o,idtablet:s,idmenu:a});return this.httpClient.post(this.urlApiProd,l).toPromise().then(c=>c)}FUpdateEstadoServicio(t,o,s,a,l,c){let m=JSON.stringify({idofpterminado:t,acc:2,value:o,id_usuario_local:s,id_dispositivo:a,avatar:l,idasignaestacionof:c});return this.httpClient.post(this.urlApiProd,m).toPromise().then(n=>n)}ListSolsexQr(t,o,s,a,l){let c=JSON.stringify({idofpterminado:t,acc:2,value:o,id_usuario_local:s,id_dispositivo:a,avatar:l});return this.httpClient.post(this.urlApiProd,c).toPromise().then(m=>m)}load_cbos_pieza_material_maquina(t,o,s){let a=JSON.stringify({acc:3,id_usuario_local:o,id_dispositivo:s,idtipserv:t});return this.httpClient.post(this.urlApiProd,a).toPromise().then(l=>l)}ListFindPersonal(t,o,s){let a=JSON.stringify({acc:4,s:t,idusu:o,iddevice:s});return this.httpClient.post(this.urlApiProd,a).toPromise().then(l=>l)}ListFindServiciosByPieza(t,o,s,a,l,c){let m=JSON.stringify({acc:5,s:t,idpieza:o,tipServicio:s,idusu:a,iddevice:l,nomclase:c});return this.httpClient.post(this.urlApiProd,m).toPromise().then(n=>n)}ListFindPiezaByActividad(t,o,s,a,l,c,m,n){let h=JSON.stringify({acc:6,s:t,idpieza:o,tipServicio:s,idusu:a,iddevice:l,idclase:c,idsubfamilia:m,nomsubfam:n});return this.httpClient.post(this.urlApiProd,h).toPromise().then(e=>e)}SaveInicioActividad(t){let o=JSON.stringify(t);return this.httpClient.post(this.urlApiProd,o).toPromise().then(s=>s)}ListFindActividades(t,o,s){let a=JSON.stringify({acc:9,s:t,idusu:o,iddevice:s});return this.httpClient.post(this.urlApiProd,a).toPromise().then(l=>l)}ListFindClaseByPieza(t,o,s,a,l){let c=JSON.stringify({acc:10,s:t,idpieza:o,tipServicio:s,idusu:a,iddevice:l});return this.httpClient.post(this.urlApiProd,c).toPromise().then(m=>m)}ListFindOfByClase(t,o,s,a,l,c){let m=JSON.stringify({acc:11,s:t,idsubfamilia:o,idclase:s,tipServicio:a,idusu:l,iddevice:c});return this.httpClient.post(this.urlApiProd,m).toPromise().then(n=>n)}ListFindQrByOf(t,o,s,a,l,c){let m=JSON.stringify({acc:12,s:t,idpieza:o,tipServicio:s,idusu:a,iddevice:l,nomclase:c});return this.httpClient.post(this.urlApiProd,m).toPromise().then(n=>n)}SaveControlCalidadByOf(t){let o=JSON.stringify(t);return this.httpClient.post(this.urlApiProd,o).toPromise().then(s=>s)}ListFindSolicitudQcByOf(t,o,s,a){let l=JSON.stringify({acc:14,s:t,idofpterminado:o,idusu:s,iddevice:a});return this.httpClient.post(this.urlApiProd,l).toPromise().then(c=>c)}load_cbos_ma00(){let t=JSON.stringify({acc:15});return this.httpClient.post(this.urlApiProd,t).toPromise().then(o=>o)}FCreaCorrelativo(){let t=JSON.stringify({acc:16});return this.httpClient.post(this.urlApiProd,t).toPromise().then(o=>o)}SaveReporteFalla(t){let o=JSON.stringify(t);return this.httpClient.post(this.urlApiProd,o).toPromise().then(s=>s)}SaveRelevo(t){let o=JSON.stringify(t);return this.httpClient.post(this.urlApiProd,o).toPromise().then(s=>s)}FCreaCorrelativoRelevo(){let t=JSON.stringify({acc:18});return this.httpClient.post(this.urlApiProd,t).toPromise().then(o=>o)}load_cbo_subprocesos(t,o,s){let a=JSON.stringify({acc:20,idmaquina:t,nom_pieza:o,servicio:s});return this.httpClient.post(this.urlApiProd,a).toPromise().then(l=>l)}load_cbos_any_edit_ini_actvidad(t,o,s){let a=JSON.stringify({acc:22,id_usuario_local:o,id_dispositivo:s,idtipserv:t});return this.httpClient.post(this.urlApiProd,a).toPromise().then(l=>l)}ListActividadesxTecnico(t,o,s){let a=JSON.stringify({iduser:t,acc:23,horainicio_filtro:o,horafin_filtro:s});return this.httpClient.post(this.urlApiProd,a).toPromise().then(l=>l)}SaveResumenDia(t,o){let s=JSON.stringify(o);return this.httpClient.post(this.urlApiProd,s).toPromise().then(a=>a)}LoadFormDejarPiezasCalidad(t){let o=JSON.stringify({idpt:t,acc:25});return this.httpClient.post(this.urlApiProd,o).toPromise().then(s=>s)}LoadFormIniciaActividad(t,o){let s=JSON.stringify({idpt:t,avatar:o,acc:26});return this.httpClient.post(this.urlApiProd,s).toPromise().then(a=>a)}}return g.\u0275fac=function(t){return new(t||g)(f.LFG(d.eN))},g.\u0275prov=f.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},3665:(E,A,_)=>{_.r(A),_.d(A,{ProdAteServAsignaEstadoPage:()=>m});var v=_(6895),f=_(433),d=_(5562),i=_(8256),J=_(1407),C=_(5719),g=_(849);function F(n,h){if(1&n&&(i.TgZ(0,"ion-item")(1,"ion-row",15)(2,"ion-col",16),i._uU(3,"Actividad:"),i.qZA(),i.TgZ(4,"ion-col",17)(5,"div"),i._uU(6,"por Reproceso"),i.qZA()(),i.TgZ(7,"ion-col",16),i._uU(8," F. Revision: "),i.qZA(),i.TgZ(9,"ion-col",17)(10,"div"),i._uU(11),i.qZA()()()()),2&n){const e=i.oxw();i.xp6(5),i.Tol(e.CssReproceso),i.xp6(5),i.Tol(e.CssReproceso),i.xp6(1),i.Oqu(e.FormHtmlJs.fecha_reproceso)}}function t(n,h){1&n&&i._UZ(0,"ion-icon",18)}function o(n,h){1&n&&i._UZ(0,"ion-icon",19)}function s(n,h){if(1&n){const e=i.EpF();i.TgZ(0,"ion-item")(1,"ion-label")(2,"p"),i._uU(3,"Calidad"),i.qZA(),i.TgZ(4,"ion-row")(5,"ion-col",20)(6,"ion-button",21),i.NdJ("click",function(){i.CHM(e);const p=i.oxw();return i.KtG(p.FDejarCalidad())}),i.TgZ(7,"ion-text",22),i._uU(8," Dejar piezas en calidad "),i.qZA()()(),i.TgZ(9,"ion-col",23),i._UZ(10,"ion-icon",24),i.qZA()()()()}}function a(n,h){if(1&n&&(i.TgZ(0,"ion-item")(1,"ion-label"),i._uU(2," Historial Engregas Calidad "),i.TgZ(3,"ion-chip")(4,"ion-label",25),i._uU(5),i.qZA()()()()),2&n){const e=i.oxw();i.xp6(5),i.hij(" ",e.CantEntregasCalidad," ")}}function l(n,h){if(1&n){const e=i.EpF();i.TgZ(0,"ion-row")(1,"ion-item",30),i.NdJ("click",function(){const P=i.CHM(e).$implicit,u=i.oxw(2);return i.KtG(u.showDetailCalidad(P))}),i.TgZ(2,"ion-col",31),i._uU(3),i.qZA(),i.TgZ(4,"ion-col",32),i._uU(5),i.qZA(),i.TgZ(6,"ion-col",33),i._uU(7),i.qZA()()()}if(2&n){const e=h.$implicit;i.xp6(3),i.hij("",e.fch_solicitud_scc," "),i.xp6(2),i.Oqu(e.nombres_tecnico),i.xp6(2),i.Oqu(e.cantidad_scc)}}function c(n,h){if(1&n&&(i.TgZ(0,"ion-item")(1,"ion-grid")(2,"ion-row")(3,"ion-col",26),i._uU(4,"Fecha "),i.qZA(),i.TgZ(5,"ion-col",27),i._uU(6,"Responsable Registro"),i.qZA(),i.TgZ(7,"ion-col",28),i._uU(8,"Cantidad"),i.qZA()(),i.YNc(9,l,8,3,"ion-row",29),i.qZA()()),2&n){const e=i.oxw();i.xp6(9),i.Q6J("ngForOf",e.DsGridSolicitudQc)}}let m=(()=>{class n{constructor(e,r,p,P){let u;this.router=e,this.prodservice=r,this.storage=p,this.navCtrl=P,this.CantEntregasCalidad=0,this.FlagCCalidad=!1,this.hide_div_reproceso=!1,this.Cancelar="Cancelar",this.disableButton=!0,this.scanActive=!0,this.FormHtmlJs={},this.navParams=this.router.getCurrentNavigation().extras.state,this.storage.get("USER_INFO").then(S=>{u=S,this.nombres_usuario_local=u.user_name,this.id_usuario_local=u.user_id,console.log(u),console.log(this.navParams),this.navParams&&(this.FormHtmlJs.maquina=this.navParams.maquina,this.FormHtmlJs.idofpterminado=this.navParams.idofpterminado,this.FormHtmlJs.EQUIPOID=this.navParams.EQUIPOID,this.FormHtmlJs.fasignado=this.navParams.fasignado,this.FormHtmlJs.avatar=this.navParams.avatar,this.FormHtmlJs.correorden=this.navParams.correorden,this.FormHtmlJs.Y04001=this.navParams.Y04001,this.FormHtmlJs.Y04002=this.navParams.Y04002,this.FormHtmlJs.descripcion_pt=this.navParams.descripcion_pt,this.FormHtmlJs.cantidad=this.navParams.cantidad,this.FormHtmlJs.idestado=this.navParams.idestado,this.IdCboEstadoActual=this.navParams.idestado,this.FormHtmlJs.nomclase=this.navParams.nomclase,this.FormHtmlJs.idasignaestacionof=this.navParams.idasignaestacionof,this.FormHtmlJs.cnt_29012_peso_ini=this.navParams.cnt_29012_peso_ini,this.FormHtmlJs.cnt_50000_peso_ini=this.navParams.cnt_50000_peso_ini,this.FormHtmlJs.cnt_metalizado_obs=this.navParams.cnt_metalizado_obs,this.FormHtmlJs.codigo_qr=this.navParams.codigo_qr,this.FormHtmlJs.codsmg=this.navParams.codsmg,this.FormHtmlJs.descrip=this.navParams.descrip,this.FormHtmlJs.idmaquina=this.navParams.idmaquina,this.FormHtmlJs.idordenfabricab=this.navParams.idordenfabricab,this.FormHtmlJs.idsubfamilia=this.navParams.idsubfamilia,this.FormHtmlJs.nomsubfam=this.navParams.nomsubfam,this.FormHtmlJs.proceso_metalizado=this.navParams.proceso_metalizado,this.FormHtmlJs.servicio_metalizado=this.navParams.servicio_metalizado,this.CssReproceso=1==this.navParams.flag_reproceso?"CssReproceso":"",this.hide_div_reproceso=1==this.navParams.flag_reproceso,this.FormHtmlJs.fecha_reproceso=this.navParams.fecha_reproceso,this.FormHtmlJs.cantidad_reproceso=this.navParams.cantidad_reproceso,this.FormHtmlJs.idrevisiondet_reproceso=this.navParams.idrevisiondet_reproceso,this.FormHtmlJs.CONCOMPONENTE=this.navParams.CONCOMPONENTE,"O.F"==this.FormHtmlJs.avatar&&(this.FlagCCalidad=!0)),this.FormHtmlJs.nombres_tecnico=this.nombres_usuario_local,this.FormHtmlJs.idsolicitante_scc=this.id_usuario_local,console.log("this.FormHtmlJs",this.FormHtmlJs)}),this.storage.get("DEVICE_INFO").then(S=>{u=S,this.nombre_dispositivo=u.name,this.id_dispositivo=u.uuid,console.log("localStorage Device",u)})}FIniciarActvividad(){let e=this.FormHtmlJs;e.maquina="Iniciar Actividad",this.navCtrl.navigateForward(["addserviciostodet"],{state:e})}cancelar_ejecucion(){this.navCtrl.navigateForward("prod-list-acti-programada")}CboEstadoChange(e){console.log("CboEstadoChange",e),console.log(e.detail),console.log(e.detail.value),this.IdCboEstadoActual=e.detail.value,this.prodservice.FUpdateEstadoServicio(this.FormHtmlJs.idofpterminado,e.detail.value,this.id_usuario_local,this.id_dispositivo,this.FormHtmlJs.avatar,this.FormHtmlJs.idasignaestacionof).then(r=>{this.ResptApi=r,console.log(this.ResptApi)}).finally(()=>{setTimeout(()=>{},600)})}CboEstadoCancel(e){console.log("CboEstadoCancel",e)}CboEstadoBlur(e){console.log("CboEstadoBlur",e)}ngOnInit(){}ionViewDidEnter(){this.prodservice.ListFindSolicitudQcByOf("",this.FormHtmlJs.idofpterminado,this.id_usuario_local,this.id_dispositivo).then(e=>{console.log(e),this.DsGridSolicitudQc=e,this.CantEntregasCalidad=this.DsGridSolicitudQc.length}).finally(()=>{})}FDejarCalidad(){this.navCtrl.navigateForward(["prod-ate-serv-dejar-pieza-calidad"],{state:this.FormHtmlJs})}showDetailCalidad(e){this.navCtrl.navigateForward(["prod-ate-serv-view-dejar-pieza-calidad"],{state:e})}cboEstadoSelect(){}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(J.F0),i.Y36(C.Z),i.Y36(g.K),i.Y36(d.SH))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-prod-ate-serv-asigna-estado"]],standalone:!0,features:[i.jDz],decls:81,vars:19,consts:[["mode","ios"],["text-capitalize",""],["slot","start"],["defaultHref","prod-list-acti-programada",3,"text"],["expand","block","color","white","size","small","slot","end","title","Iniciar Actividad",3,"click"],["color","danger"],["expand","block","color","dark","size","small","name","play-forward",3,"hidden"],[4,"ngIf"],[3,"value"],[2,"width","100%"],["color","warning","size","small","name","ellipse",4,"ngIf"],["color","success","size","small","name","ellipse",4,"ngIf"],["okText","Terminado","cancelText","Limpiar",2,"width","100%",3,"value","ionChange","ionCancel","ionBlur"],["value","1",3,"ionSelect"],["value","2",3,"ionSelect"],[1,"ion-text-left",2,"width","100%"],["size","3",1,"ion-text-right"],["size","3",1,"ion-text-left"],["color","warning","size","small","name","ellipse"],["color","success","size","small","name","ellipse"],["size","10"],["expand","full","color","white","title","Dejar en Calidad",2,"background-color","transparent !important",3,"click"],["color","dark"],["size","2"],["color","dark","size","small","name","cart"],["color","secondary"],["size-sm","4","size-md","4","size-xl","4",1,"headgrid"],["size-sm","5","size-md","5","size-xl","5",1,"headgrid"],["size-sm","3","size-md","3","size-xl","3",1,"headgrid"],[4,"ngFor","ngForOf"],["mode","ios","button","",2,"width","100% !important",3,"click"],["size-sm","4","size-md","4","size-xl","4"],["size-sm","5","size-md","5","size-xl","5"],["size-sm","3","size-md","3","size-xl","3"]],template:function(e,r){1&e&&(i.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title",1),i._uU(3,"Asignar Estado"),i.qZA(),i.TgZ(4,"ion-buttons",2),i._UZ(5,"ion-back-button",3),i.qZA()()(),i.TgZ(6,"ion-content")(7,"ion-list")(8,"ion-item")(9,"ion-label")(10,"p"),i._uU(11,"Maquina"),i.qZA(),i.TgZ(12,"h1"),i._uU(13),i.qZA()(),i.TgZ(14,"ion-button",4),i.NdJ("click",function(){return r.FIniciarActvividad()}),i.TgZ(15,"ion-text",5),i._uU(16,"\xa0Iniciar Actividad \xa0"),i.qZA(),i._UZ(17,"ion-icon",6),i.qZA()(),i.YNc(18,F,12,7,"ion-item",7),i.TgZ(19,"ion-item")(20,"ion-label")(21,"p"),i._uU(22,"Centro de Costos"),i.qZA(),i.TgZ(23,"h1"),i._uU(24),i.qZA()()(),i.TgZ(25,"ion-item")(26,"ion-label")(27,"p"),i._uU(28,"F. Asignado"),i.qZA(),i.TgZ(29,"h1"),i._uU(30),i.qZA()()(),i.TgZ(31,"ion-item")(32,"ion-label")(33,"p"),i._uU(34),i.qZA(),i.TgZ(35,"h1"),i._uU(36),i.qZA()()(),i.TgZ(37,"ion-item")(38,"ion-label")(39,"p"),i._uU(40,"Cod. P.T."),i.qZA(),i._UZ(41,"input",8),i.qZA()(),i.TgZ(42,"ion-item")(43,"ion-label")(44,"p"),i._uU(45,"Pieza"),i.qZA(),i.TgZ(46,"h1"),i._uU(47),i.qZA()()(),i.TgZ(48,"ion-item")(49,"ion-label")(50,"p"),i._uU(51,"Nom. P.T."),i.qZA(),i.TgZ(52,"h1"),i._uU(53),i.qZA()()(),i.TgZ(54,"ion-item")(55,"ion-label")(56,"p"),i._uU(57,"Total Piezas"),i.qZA(),i.TgZ(58,"h1"),i._uU(59),i.qZA()()(),i.TgZ(60,"ion-item")(61,"ion-card")(62,"p"),i._uU(63,"Estado"),i.qZA(),i.TgZ(64,"ion-input",9),i.YNc(65,t,1,0,"ion-icon",10),i.YNc(66,o,1,0,"ion-icon",11),i.TgZ(67,"ion-select",12),i.NdJ("ionChange",function(P){return r.CboEstadoChange(P)})("ionCancel",function(P){return r.CboEstadoCancel(P)})("ionBlur",function(P){return r.CboEstadoBlur(P)}),i.TgZ(68,"ion-select-option",13),i.NdJ("ionSelect",function(){return r.cboEstadoSelect()}),i._uU(69,"Asignado"),i.qZA(),i.TgZ(70,"ion-select-option",14),i.NdJ("ionSelect",function(){return r.cboEstadoSelect()}),i._uU(71,"Completo"),i.qZA()()()()(),i.TgZ(72,"ion-item")(73,"ion-label")(74,"p"),i._uU(75,"F. Cierre"),i.qZA(),i.TgZ(76,"h1"),i._uU(77),i.qZA()()(),i.YNc(78,s,11,0,"ion-item",7),i.YNc(79,a,6,1,"ion-item",7),i.YNc(80,c,10,1,"ion-item",7),i.qZA()()),2&e&&(i.xp6(5),i.Q6J("text",r.Cancelar),i.xp6(8),i.Oqu(r.FormHtmlJs.maquina),i.xp6(4),i.Q6J("hidden",r.scanActive),i.xp6(1),i.Q6J("ngIf",r.hide_div_reproceso),i.xp6(6),i.Oqu(r.FormHtmlJs.EQUIPOID),i.xp6(6),i.Oqu(r.FormHtmlJs.fasignado),i.xp6(4),i.hij("Nro. ",r.FormHtmlJs.avatar,""),i.xp6(2),i.Oqu(r.FormHtmlJs.correorden),i.xp6(5),i.s9C("value",r.FormHtmlJs.Y04001),i.xp6(6),i.Oqu(r.FormHtmlJs.nomclase),i.xp6(6),i.Oqu(r.FormHtmlJs.Y04002),i.xp6(6),i.Oqu(r.FormHtmlJs.cantidad),i.xp6(6),i.Q6J("ngIf","1"==r.IdCboEstadoActual),i.xp6(1),i.Q6J("ngIf","2"==r.IdCboEstadoActual),i.xp6(1),i.s9C("value",r.FormHtmlJs.idestado),i.xp6(10),i.Oqu(r.FormHtmlJs.fch_cierre_servicios_opt),i.xp6(1),i.Q6J("ngIf",r.FlagCCalidad),i.xp6(1),i.Q6J("ngIf",r.FlagCCalidad),i.xp6(1),i.Q6J("ngIf",r.FlagCCalidad))},dependencies:[d.Pc,d.oU,d.YG,d.Sm,d.PM,d.hM,d.wI,d.W2,d.jY,d.Gu,d.gu,d.pK,d.Ie,d.Q$,d.q_,d.Nd,d.t9,d.n0,d.yW,d.wd,d.sr,d.QI,d.j9,d.cs,v.ez,v.sg,v.O5,f.u5],styles:[".selector[_ngcontent-%COMP%]{font-family:SFNSDisplay;font-size:12px;line-height:1.2;letter-spacing:.1px;color:#29235e;width:100%!important;max-width:100%!important;justify-content:center;border:solid 2px #e8ebf0;background-color:#fff;text-align:center}.CssReproceso[_ngcontent-%COMP%]{color:#b52024!important;font-size:large}"]}),n})()}}]);