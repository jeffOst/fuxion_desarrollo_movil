"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9514],{6101:(F,C,d)=>{d.d(C,{J:()=>O});var p=d(5861),v=d(4053),a=d(8256),t=d(529),A=d(849);let O=(()=>{class m{constructor(i,e){this.httpClient=i,this.storage=e,this.urlApiProd=v.N.UrlDomainLocal+"aw_modulos/mante/api/CApiInformeTecnico.php",this.confirmRequest=""}ListFindOts(i,e,s){let o=JSON.stringify({acc:1,s:i,idusu:e,iddevice:s});return this.httpClient.post(this.urlApiProd,o).toPromise().then(r=>r)}SaveCheckListCab(i,e,s){let o=JSON.stringify({acc:2,id_orden_trab_cab:i,idusu:e,iddevice:s});return this.httpClient.post(this.urlApiProd,o).toPromise().then(r=>r)}FormFindPaso1(i,e,s){let o=JSON.stringify({acc:3,idchecklistcab:i,idusu:e,iddevice:s});return this.httpClient.post(this.urlApiProd,o).toPromise().then(r=>r)}FLoadPiezasAcordion(i,e){let s=JSON.stringify({acc:7,id:i,p2:e});return this.httpClient.post(this.urlApiProd,s).toPromise().then(o=>o)}FLoadServiciosxPiezas(i,e){let s=JSON.stringify({acc:8,id:i,p2:e});return this.httpClient.post(this.urlApiProd,s).toPromise().then(o=>o)}GuardarFormPaso1(i){var e=this;return(0,p.Z)(function*(){console.log("Dentro::GuardarFormulario::>",i);let o=e.urlApiProd,r=JSON.stringify(i);return e.httpClient.post(o+"?acc=4",r).toPromise()})()}GuardarFormPaso2(i,e,s,o,r,u){var n=this;return(0,p.Z)(function*(){let c,h=n.urlApiProd,_=JSON.stringify({idservicio:i,idpapa:e,idhijo:s,idusuario:o,acc:9,idclase:r,ck:u});return n.httpClient.post(h+"?acc=6",_).toPromise().then(g=>{console.log(g),c=g,n.confirmSaveBd=c[0].o_nres,n.confirmRequest=c},g=>{console.log(g,"Error- something is wrong!")})})()}FormFindPaso3(i,e,s){let o=JSON.stringify({acc:7,idchecklistcab:i,idusu:e,iddevice:s});return this.httpClient.post(this.urlApiProd,o).toPromise().then(r=>r)}GuardarFormPaso3(i){var e=this;return(0,p.Z)(function*(){let s,o=e.urlApiProd,r=JSON.stringify(i);return e.httpClient.post(o+"?acc=8",r).toPromise().then(u=>{console.log(u),s=u,e.confirmSaveBd=s[0].o_nres,e.confirmRequest=s},u=>{console.log(u,"Error- something is wrong!")})})()}FormFindPaso5(i,e,s){let o=JSON.stringify({acc:10,id:i,idusu:e,iddevice:s});return this.httpClient.post(this.urlApiProd,o).toPromise().then(r=>r)}GuardarFormPaso5(i){var e=this;return(0,p.Z)(function*(){let o=e.urlApiProd,r=JSON.stringify(i);return e.httpClient.post(o+"?acc=11",r).toPromise()})()}FormFindPaso6(i,e,s){let o=JSON.stringify({acc:12,idchecklistcab:i,idusu:e,iddevice:s});return this.httpClient.post(this.urlApiProd,o).toPromise().then(r=>r)}GuardarFormPaso6(i){var e=this;return(0,p.Z)(function*(){let o=e.urlApiProd,r=JSON.stringify(i);return e.httpClient.post(o+"?acc=13",r).toPromise()})()}GuardarAplicaPaso(i,e,s){var o=this;return(0,p.Z)(function*(){let r,n,u=o.urlApiProd;n={idchecklistcab:i,numeroPaso:e,ck:s};let c=JSON.stringify(n);return o.httpClient.post(u+"?acc=15",c).toPromise().then(l=>{console.log(l),r=l,o.confirmSaveBd=r[0].o_nres,o.confirmRequest=r},l=>{console.log(l,"Error- something is wrong!")})})()}getImages(i){return this.httpClient.get(`${this.urlApiProd}?acc=5&id=`+i)}uploadImage(i,e,s){let o=new FormData;return o.append("file",i,"myimage."+s),o.append("id",e),o.append("acc","6"),o.append("type","image/png"),this.httpClient.post(this.urlApiProd,o)}UpLoadImageMultiple(i,e,s){try{let o=new FormData;o.append("id",e),o.append("acc","15"),o.append("type","image/png");for(let r=0;r<i.length;r++)console.log("image::ruta=>::>",i[r]),o.append("images[]",i[r],`image_${r}.jpg`);return this.httpClient.post(this.urlApiProd,o)}catch(o){console.error("Error al enviar im\xe1genes al API:",o)}}LoadPdfInformeTecnico(i){let e=JSON.stringify({acc:14,idchecklistcab:i});return this.httpClient.post(this.urlApiProd,e).toPromise().then(s=>s)}deleteImage(i){return this.httpClient.delete(`${this.urlApiProd}?acc=16&id=${i}`)}}return m.\u0275fac=function(i){return new(i||m)(a.LFG(t.eN),a.LFG(A.K))},m.\u0275prov=a.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},9514:(F,C,d)=>{d.r(C),d.d(C,{MttoWinInformeTecnico2Page:()=>o});var p=d(6895),v=d(433),a=d(5562),t=d(8256),A=d(6101),O=d(849),m=d(1407),E=d(7883);const i=["listenerOut"];function e(r,u){if(1&r){const n=t.EpF();t.TgZ(0,"ion-item")(1,"ion-toggle",6),t.NdJ("ionChange",function(l){const _=t.CHM(n).$implicit,g=t.oxw().$implicit,P=t.oxw();return t.KtG(P.FasignaServicio(l,_.seqmaserv_is,P.globalVal.corre_inf_cab,_.idinformeservicio,g.idclase))}),t.TgZ(2,"ion-label",7),t._uU(3),t.qZA()()()}if(2&r){const n=u.$implicit;t.xp6(1),t.Q6J("checked","1"===n.idestado_is),t.xp6(2),t.Oqu(n.Y04002)}}function s(r,u){if(1&r){const n=t.EpF();t.TgZ(0,"ion-item-group")(1,"ion-item-divider",4),t.NdJ("click",function(){const h=t.CHM(n).$implicit,_=t.oxw();return t.KtG(_.accordionGroupChange(h.idclase))}),t.TgZ(2,"ion-label"),t._uU(3,"\xa0"),t.TgZ(4,"strong"),t._uU(5),t.qZA()(),t._UZ(6,"ion-icon",5),t.qZA(),t.YNc(7,e,4,2,"ion-item",3),t.qZA()}if(2&r){const n=u.$implicit,c=t.oxw();t.xp6(5),t.Oqu(n.nomclase),t.xp6(2),t.Q6J("ngForOf",c.DsServiciosxPieza[n.idclase])}}let o=(()=>{class r{constructor(n,c,l,h,_,g,P,I,D){let f;this.navCtrl=n,this.loadingController=c,this.ApiService=l,this.storage=h,this.alertController=_,this.router=g,this.globalVal=P,this.ref=I,this.actionSheetCtrl=D,this.DsServiciosxPieza={},this.ValuesAcordionGroup=["551571","551579"],this.storage.get("USER_INFO").then(M=>{f=M,this.NombresUsuarioLocal=f.user_name,this.IdUsuarioLocal=f.user_id,this.storage.get("DEVICE_INFO").then(T=>{f=T,this.NombreDispositivo=f.name,this.IdDispositivo=f.uuid})})}ngOnInit(){}ionViewWillEnter(){this.FLoadPiezasAcordion()}FLoadPiezasAcordion(){this.loadingController.create({message:"Cargando lista....",translucent:!0}).then(c=>{c.present(),console.log(this.corre_inf_cab),this.ApiService.FLoadPiezasAcordion("1","").then(l=>{console.log(l),this.EditDataRest=l,this.EditDataRest.forEach(h=>{console.log(h),console.log(h.idclase),console.log(this.ValuesAcordionGroup)}),console.log(this.ValuesAcordionGroup)}).finally(()=>{this.loadingController.dismiss()})})}FasignaServicio(n,c,l,h,_){console.log(n),this.ApiService.GuardarFormPaso2(c,l,h,this.IdUsuarioLocal,_,n.detail.checked?"1":"0").then(P=>{}).finally(()=>{}).catch(P=>{console.log("errror:::>>>>>>>>>",P)})}FLoadServiciosxPiezas(n){this.loadingController.create({message:"Cargando lista....",translucent:!0}).then(l=>{l.present(),console.log(this.corre_inf_cab),this.ApiService.FLoadServiciosxPiezas(n,this.globalVal.corre_inf_cab).then(h=>{console.log(h),console.log(this.DsServiciosxPieza),console.log(n.length),n.length>0&&(console.log("ingresooo"),this.DsServiciosxPieza[n]=h,console.log("ingresooo 23222"),console.log(this.DsServiciosxPieza))}).finally(()=>{this.loadingController.dismiss()})})}accordionGroupChange(n){console.log(n),n.length>0&&(console.log("ingreso carga detalles"),this.FLoadServiciosxPiezas(n))}}return r.\u0275fac=function(n){return new(n||r)(t.Y36(a.SH),t.Y36(a.HT),t.Y36(A.J),t.Y36(O.K),t.Y36(a.Br),t.Y36(m.F0),t.Y36(E.X),t.Y36(t.sBO),t.Y36(a.BX))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-mtto-win-informe-tecnico2"]],viewQuery:function(n,c){if(1&n&&t.Gf(i,7),2&n){let l;t.iGM(l=t.CRH())&&(c.listenerOut=l.first)}},standalone:!0,features:[t.jDz],decls:11,vars:1,consts:[["mode","ios"],["text-capitalize",""],[1,"ion-padding"],[4,"ngFor","ngForOf"],["button","true",1,"divider",3,"click"],["name","refresh-circle-outline","slot","end"],["mode","ios","labelPlacement","start",2,"width","80%",3,"checked","ionChange"],[2,"font-size","small"]],template:function(n,c){1&n&&(t.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-item")(3,"ion-title",1)(4,"ion-label"),t._uU(5,"ELECTRICA "),t._UZ(6,"p"),t.qZA()()()()(),t.TgZ(7,"ion-content",2)(8,"ion-list"),t.YNc(9,s,8,2,"ion-item-group",3),t.qZA()(),t._UZ(10,"ion-footer")),2&n&&(t.xp6(9),t.Q6J("ngForOf",c.EditDataRest))},dependencies:[a.Pc,a.W2,a.fr,a.Gu,a.gu,a.Ie,a.rH,a.Ub,a.Q$,a.q_,a.wd,a.ho,a.sr,a.w,p.ez,p.sg,v.u5],styles:[".divider[_ngcontent-%COMP%]{color:#000;font-weight:700;background-color:#d7d8da;padding:0!important;border-radius:5px;border-width:2px;font-weight:bolder}"]}),r})()}}]);