"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4229,6485,5610,531,6702,6026],{6485:(O,_,c)=>{c.d(_,{Z:()=>P});var m=c(2519),h=c(6242),p=c(9862);let P=(()=>{var u;class v{constructor(i){this.httpClient=i,this.urlApiProd=m.N.UrlDomainLocal+"aw_modulos/prod/api/CAtencionServicios.php"}ListDatos(i,t,o,s){let e=JSON.stringify({s:i,acc:1,tipo:t,idtablet:o,idmenu:s});return this.httpClient.post(this.urlApiProd,e).toPromise().then(r=>r)}FUpdateEstadoServicio(i,t,o,s,e,r){let n=JSON.stringify({idofpterminado:i,acc:2,value:t,id_usuario_local:o,id_dispositivo:s,avatar:e,idasignaestacionof:r});return this.httpClient.post(this.urlApiProd,n).toPromise().then(l=>l)}ListSolsexQr(i,t,o,s,e){let r=JSON.stringify({idofpterminado:i,acc:2,value:t,id_usuario_local:o,id_dispositivo:s,avatar:e});return this.httpClient.post(this.urlApiProd,r).toPromise().then(n=>n)}load_cbos_pieza_material_maquina(i,t,o){let s=JSON.stringify({acc:3,id_usuario_local:t,id_dispositivo:o,idtipserv:i});return this.httpClient.post(this.urlApiProd,s).toPromise().then(e=>e)}load_cbos_motivo_pausa_maquina(){let i=JSON.stringify({acc:34});return this.httpClient.post(this.urlApiProd,i).toPromise().then(t=>t)}ListFindPersonal(i,t,o){let s=JSON.stringify({acc:4,s:i,idusu:t,iddevice:o});return this.httpClient.post(this.urlApiProd,s).toPromise().then(e=>e)}ListFindServiciosByPieza(i,t,o,s,e,r){let n=JSON.stringify({acc:5,s:i,idpieza:t,tipServicio:o,idusu:s,iddevice:e,nomclase:r});return this.httpClient.post(this.urlApiProd,n).toPromise().then(l=>l)}agregarServiciosByPieza(i,t,o,s,e,r){let n=JSON.stringify({acc:32,s:i,nomclase:r,idpieza:t,tipServicio:o,idusu:s,iddevice:e});return this.httpClient.post(this.urlApiProd,n).toPromise().then(l=>l)}ListFindPiezaByActividad(i,t,o,s,e,r,n,l){let f=JSON.stringify({acc:6,s:i,idpieza:t,tipServicio:o,idusu:s,iddevice:e,idclase:r,idsubfamilia:n,nomsubfam:l});return this.httpClient.post(this.urlApiProd,f).toPromise().then(C=>C)}SaveInicioActividad(i){let t=JSON.stringify(i);return this.httpClient.post(this.urlApiProd,t).toPromise().then(o=>o)}UpdateFechaInicioProd(i,t,o,s){let e=JSON.stringify({acc:28,fecha:i,pk_idservicio:t,avatar:o,idusuario:s});return this.httpClient.post(this.urlApiProd,e).toPromise().then(r=>r)}UpdateFechaFinProd(i,t,o,s){let e=JSON.stringify({acc:29,fecha:i,pk_idservicio:t,avatar:o,idusuario:s});return this.httpClient.post(this.urlApiProd,e).toPromise().then(r=>r)}ListFindActividades(i,t,o){let s=JSON.stringify({acc:9,s:i,idusu:t,iddevice:o});return this.httpClient.post(this.urlApiProd,s).toPromise().then(e=>e)}ListFindActividadesHistorico(i,t,o){let s=JSON.stringify({acc:31,s:i,idusu:t,iddevice:o});return this.httpClient.post(this.urlApiProd,s).toPromise().then(e=>e)}ListFindClaseByPieza(i,t,o,s,e){let r=JSON.stringify({acc:10,s:i,idpieza:t,tipServicio:o,idusu:s,iddevice:e});return this.httpClient.post(this.urlApiProd,r).toPromise().then(n=>n)}ListFindOfByClase(i,t,o,s,e,r){let n=JSON.stringify({acc:11,s:i,idsubfamilia:t,idclase:o,tipServicio:s,idusu:e,iddevice:r});return this.httpClient.post(this.urlApiProd,n).toPromise().then(l=>l)}ListFindQrByOf(i,t,o,s,e,r){let n=JSON.stringify({acc:12,s:i,idpieza:t,tipServicio:o,idusu:s,iddevice:e,nomclase:r});return this.httpClient.post(this.urlApiProd,n).toPromise().then(l=>l)}SaveControlCalidadByOf(i){let t=JSON.stringify(i);return this.httpClient.post(this.urlApiProd,t).toPromise().then(o=>o)}ListFindSolicitudQcByOf(i,t,o,s){let e=JSON.stringify({acc:14,s:i,idofpterminado:t,idusu:o,iddevice:s});return this.httpClient.post(this.urlApiProd,e).toPromise().then(r=>r)}load_cbos_ma00(){let i=JSON.stringify({acc:15});return this.httpClient.post(this.urlApiProd,i).toPromise().then(t=>t)}FCreaCorrelativo(){let i=JSON.stringify({acc:16});return this.httpClient.post(this.urlApiProd,i).toPromise().then(t=>t)}SaveReporteFalla(i){let t=JSON.stringify(i);return this.httpClient.post(this.urlApiProd,t).toPromise().then(o=>o)}SaveRelevo(i){let t=JSON.stringify(i);return this.httpClient.post(this.urlApiProd,t).toPromise().then(o=>o)}FCreaCorrelativoRelevo(){let i=JSON.stringify({acc:18});return this.httpClient.post(this.urlApiProd,i).toPromise().then(t=>t)}load_cbo_subprocesos(i,t,o){let s=JSON.stringify({acc:20,idmaquina:i,nom_pieza:t,servicio:o});return this.httpClient.post(this.urlApiProd,s).toPromise().then(e=>e)}load_cbos_any_edit_ini_actvidad(i,t,o){let s=JSON.stringify({acc:22,id_usuario_local:t,id_dispositivo:o,idtipserv:i});return this.httpClient.post(this.urlApiProd,s).toPromise().then(e=>e)}ListActividadesxTecnico(i,t,o){let s=JSON.stringify({iduser:i,acc:23,horainicio_filtro:t,horafin_filtro:o});return this.httpClient.post(this.urlApiProd,s).toPromise().then(e=>e)}SaveResumenDia(i,t){let o=JSON.stringify(t);return this.httpClient.post(this.urlApiProd,o).toPromise().then(s=>s)}LoadFormDejarPiezasCalidad(i){let t=JSON.stringify({idpt:i,acc:25});return this.httpClient.post(this.urlApiProd,t).toPromise().then(o=>o)}LoadFormIniciaActividad(i,t){let o=JSON.stringify({idpt:i,avatar:t,acc:26});return this.httpClient.post(this.urlApiProd,o).toPromise().then(s=>s)}listado_principal_resumen_horas(i,t,o,s,e){let r=JSON.stringify({s:i,acc:o,tipo:t,idtablet:"this.device.uuid",madre_hija:s,idusuario:e});return this.httpClient.post(this.urlApiProd,r).toPromise().then(n=>n)}listado_principal_cabecera(i,t,o,s,e){let r=JSON.stringify({s:i,acc:o,tipo:t,idtablet:"this.device.uuid",madre_hija:s,idusuario:e});return this.httpClient.post(this.urlApiProd,r).toPromise().then(n=>n)}}return(u=v).\u0275fac=function(i){return new(i||u)(h.LFG(p.eN))},u.\u0275prov=h.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),v})()},4229:(O,_,c)=>{c.r(_),c.d(_,{MotivoPausaPage:()=>i});var m=c(5861),h=c(6814),p=c(95),d=c(6728),a=c(6242),P=c(5472),u=c(6485);function v(t,o){if(1&t&&(a.TgZ(0,"ion-select-option",7),a._uU(1),a.qZA()),2&t){const s=o.$implicit;a.Q6J("value",s.codigo),a.xp6(1),a.hij(" ",s.nombre," ")}}function g(t,o){if(1&t){const s=a.EpF();a.TgZ(0,"ion-item",8)(1,"ion-label",2),a._uU(2,"Escribe el Motivo de la Pausa de Actividad"),a.qZA(),a.TgZ(3,"ion-textarea",9),a.NdJ("ngModelChange",function(r){a.CHM(s);const n=a.oxw();return a.KtG(n.observaciones=r)}),a.qZA()()}if(2&t){const s=a.oxw();a.xp6(3),a.Q6J("ngModel",s.observaciones)}}let i=(()=>{var t;class o{constructor(e,r,n,l,f,C){this.navParams=e,this.modalController=r,this.alertController=n,this.navCtrl=l,this.loadingController=f,this.ApiServices=C,this.observaciones="",this.motivosPausa=[],this.ArrayItemsSelectedDesti=[],this.mostrarTextoObservaciones=!1,this.valorModal=this.navParams.get("valorModal")}dismiss(){this.modalController.dismiss({observaciones:"",flag_guardar:0})}ngOnInit(){this.load_cbos_motivo_pausa()}ionViewDidEnter(){}load_cbos_motivo_pausa(){this.loadingController.create({message:"Cargando motivos de pausa...",translucent:!0}).then(e=>{e.present(),this.ApiServices.load_cbos_motivo_pausa_maquina().then(r=>{this.motivosPausa=r.motivo_parada}).finally(()=>{e.dismiss()})})}onMotivoChange(e){const r=this.motivosPausa.find(n=>n.codigo===e.detail.value);r&&(15!==r.codigo?(this.observaciones=r.nombre,this.mostrarTextoObservaciones=!1):(this.observaciones="",this.mostrarTextoObservaciones=!0))}guardar(){var e=this;return(0,m.Z)(function*(){e.observaciones&&""!==e.observaciones.trim()?e.modalController.dismiss({observaciones:e.observaciones,flag_guardar:1}):yield(yield e.alertController.create({header:"Error",message:"El campo de observaciones no puede estar vac\xedo.",buttons:["OK"]})).present()})()}}return(t=o).\u0275fac=function(e){return new(e||t)(a.Y36(P.X1),a.Y36(d.IN),a.Y36(d.Br),a.Y36(P.SH),a.Y36(d.HT),a.Y36(u.Z))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-motivo-pausa"]],standalone:!0,features:[a.jDz],decls:17,vars:3,consts:[["slot","end"],[3,"click"],["position","floating"],["placeholder","Selecciona un motivo","interface","action-sheet",1,"custom-select",3,"ngModel","ngModelChange","ionChange"],[3,"value",4,"ngFor","ngForOf"],["id","texto_observaciones",4,"ngIf"],["expand","full",1,"boton-guardar",3,"click"],[3,"value"],["id","texto_observaciones"],[1,"custom-textarea",3,"ngModel","ngModelChange"]],template:function(e,r){1&e&&(a.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),a._uU(3,"Ingresar Motivo de Maquina Parada"),a.qZA(),a.TgZ(4,"ion-buttons",0)(5,"ion-button",1),a.NdJ("click",function(){return r.dismiss()}),a._uU(6,"Cancelar"),a.qZA()()()(),a.TgZ(7,"ion-content")(8,"ion-item")(9,"ion-label",2),a._uU(10,"Motivo de Pausa"),a.qZA(),a.TgZ(11,"ion-select",3),a.NdJ("ngModelChange",function(l){return r.CssMotiParada=l})("ionChange",function(l){return r.onMotivoChange(l)}),a.YNc(12,v,2,2,"ion-select-option",4),a.qZA()(),a.YNc(13,g,4,1,"ion-item",5),a.TgZ(14,"ion-footer")(15,"ion-button",6),a.NdJ("click",function(){return r.guardar()}),a._uU(16,"Guardar"),a.qZA()()()),2&e&&(a.xp6(11),a.Q6J("ngModel",r.CssMotiParada),a.xp6(1),a.Q6J("ngForOf",r.motivosPausa),a.xp6(1),a.Q6J("ngIf",r.mostrarTextoObservaciones))},dependencies:[d.Pc,d.YG,d.Sm,d.W2,d.fr,d.Gu,d.Ie,d.Q$,d.t9,d.n0,d.g2,d.wd,d.sr,d.QI,d.j9,h.ez,h.sg,h.O5,p.u5,p.JJ,p.On],styles:['@charset "UTF-8";.custom-textarea[_ngcontent-%COMP%]{min-height:200px;height:100%}.custom-select[_ngcontent-%COMP%]{width:100%}#texto_observaciones[_ngcontent-%COMP%]{margin-top:20px}.boton-guardar[_ngcontent-%COMP%]{margin-top:50px}ion-item[_ngcontent-%COMP%]{--inner-padding-end: 0;--inner-padding-start: 0;--padding-start: 0;--padding-end: 0;width:100%}']}),o})()}}]);