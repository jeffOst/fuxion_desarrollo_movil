"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1303],{1303:(O,u,s)=>{s.r(u),s.d(u,{MttoWinMantoPendPage:()=>P});var g=s(5861),d=s(6814),_=s(95),i=s(6728),t=s(6242),h=s(4248),m=s(5472),b=s(2014),p=s(1991);const C=r=>({color:r});function Z(r,l){if(1&r){const a=t.EpF();t.TgZ(0,"ion-item-sliding")(1,"ion-item")(2,"ion-label")(3,"div"),t._uU(4),t.qZA(),t.TgZ(5,"p"),t._uU(6," Solicitado: "),t.TgZ(7,"span"),t._uU(8),t.qZA(),t.TgZ(9,"span",20),t._uU(10),t.qZA()(),t.TgZ(11,"p"),t._uU(12," Stock-Ubicacion: ["),t.TgZ(13,"span",21),t._uU(14),t.qZA(),t._uU(15," | "),t.TgZ(16,"span"),t._uU(17),t.qZA(),t._uU(18,"] "),t.qZA()(),t.TgZ(19,"ion-badge",22),t._uU(20),t.qZA(),t.TgZ(21,"ion-checkbox",23),t.NdJ("ngModelChange",function(e){const c=t.CHM(a).$implicit;return t.KtG(c.flag_ejecuta_bgd=e)})("ionChange",function(){const o=t.CHM(a).$implicit,c=t.oxw();return t.KtG(c.onCheckboxChange(o))}),t.qZA()()()}if(2&r){const a=l.$implicit,n=l.index;t.xp6(4),t.HOy("",n+1,". Item: ",a.prdid," - ",a.prdtxt," - ",a["ma00unidad#nombre"],""),t.xp6(4),t.Oqu(a.prdcant),t.xp6(2),t.hij("Ejecuta ",a.cantejecutada,""),t.xp6(3),t.Q6J("ngStyle",t.VKq(12,C,a.stock_sxu>0?"green":"red")),t.xp6(1),t.Oqu(a.stock_sxu),t.xp6(3),t.Oqu(a.nombre_ua),t.xp6(3),t.Oqu(a.Y06002),t.xp6(1),t.Q6J("ngModel",a.flag_ejecuta_bgd)("disabled",a.cantejecutada<=0)}}let P=(()=>{var r;class l{constructor(n,e,o,c,M,T,A){this.router=n,this.alertController=e,this.loadingController=o,this.storage=c,this.ApiService=M,this.navCtrl=T,this.location=A,this.Cancelar="Cancelar",this.disableButton=!1,this.estaCargando=!1,this.selectedItems=[],this.scanActive=!0,this.navParamsAny=this.router.getCurrentNavigation().extras.state.Row}ngOnInit(){let n;this.estaCargando=!0,this.storage.get("USER_INFO").then(e=>{n=e,this.NombresUsuarioLocal=n.user_name,this.IdUsuarioLocal=n.user_id})}ionViewWillEnter(){this.id_ot_vale_salida_bgc=this.navParamsAny.id_ot_vale_salida_bgc,this.cod_bomba=this.navParamsAny.cod_bomba,this.nro_oti=this.navParamsAny.nro_oti,this.correguia=this.navParamsAny.correguia,this.idblockguiaremicab=this.navParamsAny.idblockguiaremicab,this.estaboBtnGuia=this.navParamsAny["ma00estado#nombre"],this.ListBlockGuiasRemiDetOtis()}ListBlockGuiasRemiDetOtis(){this.loadingController.create({message:"Cargando lista...",translucent:!0}).then(e=>{e.present(),this.ApiService.FlistBlockGuiasRemiDetOtis("44",this.idblockguiaremicab,"").then(o=>{this.DataSetGrid=o,this.loadingController.dismiss(),this.estaCargando=!1}).finally(()=>{this.loadingController.dismiss(),setTimeout(()=>{},600)}).catch(()=>{}).then(o=>{e.dismiss()})})}AprobacionItemsOt(){this.loadingController.create({message:"Cargando lista...",translucent:!0}).then(e=>{e.present(),this.ApiService.FAprobacionItemsOt("50",this.idblockguiaremicab).then(o=>{this.loadingController.dismiss(),this.estaCargando=!1,this.location.back()}).finally(()=>{this.loadingController.dismiss(),setTimeout(()=>{},600)}).catch(()=>{}).then(o=>{e.dismiss()})})}onCheckboxChange(n){var e=this;return(0,g.Z)(function*(){e.ApiService.SaveCheckAtencionDet("46",n.iddetguiaremi,n.flag_ejecuta_bgd?"1":"0").then(o=>{})})()}CreaDetalleGuiaOti(){this.loadingController.create({message:"Cargando lista...",translucent:!0}).then(e=>{e.present(),this.ApiService.FCreaDetalleGuiaOti("49",this.id_ot_vale_salida_bgc,this.idblockguiaremicab).then(o=>{this.loadingController.dismiss(),this.estaCargando=!1,this.ListBlockGuiasRemiDetOtis()}).finally(()=>{this.loadingController.dismiss(),setTimeout(()=>{},600)}).catch(()=>{}).then(o=>{e.dismiss()})})}}return(r=l).\u0275fac=function(n){return new(n||r)(t.Y36(h.F0),t.Y36(i.Br),t.Y36(i.HT),t.Y36(b.K),t.Y36(p.k),t.Y36(m.SH),t.Y36(d.Ye))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-mtto-win-manto-pend"]],standalone:!0,features:[t.jDz],decls:54,vars:9,consts:[[3,"translucent"],["mode","ios","color","primary"],["text-capitalize",""],["slot","start"],["defaultHref","prod-list-acti-programada",3,"text","disabled"],[1,"ion-no-border"],["color","secondary",3,"disabled","click"],["color","success",3,"disabled","click"],["mode","ios","debounce","1700","cancelButtonText","Cancelar","enterkeyhint","done","placeholder","Filtrar Parametros"],["IdHtmlInputSearch",""],["slot","end","name","sync-outline",3,"click"],["idIconButtonSync",""],[4,"ngFor","ngForOf"],["slot","fixed","vertical","bottom","horizontal","end"],["name","chevron-up-circle"],["side","top"],[1,"fab-with-text"],["name","document"],["name","color-palette"],["name","globe"],[1,"ion-margin"],[3,"ngStyle"],["slot","end",1,"ion-margin"],["slot","end","aria-label","Toggle task completion",3,"ngModel","disabled","ngModelChange","ionChange"]],template:function(n,e){1&n&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title",2),t._uU(3,"Materiales"),t.qZA(),t.TgZ(4,"ion-buttons",3),t._UZ(5,"ion-back-button",4),t.qZA()()(),t.TgZ(6,"ion-toolbar",5)(7,"ion-list")(8,"ion-item")(9,"ion-label")(10,"h1"),t._uU(11),t.qZA()(),t.TgZ(12,"ion-label")(13,"h1"),t._uU(14),t.qZA()(),t.TgZ(15,"ion-label")(16,"h1"),t._uU(17),t.qZA()(),t.TgZ(18,"ion-item")(19,"ion-label")(20,"div")(21,"ion-button",6),t.NdJ("click",function(){return e.CreaDetalleGuiaOti()}),t._uU(22,"Cargar Detalle"),t.qZA(),t.TgZ(23,"ion-button",7),t.NdJ("click",function(){return e.AprobacionItemsOt()}),t._uU(24,"Atender"),t.qZA()()()()()()(),t.TgZ(25,"ion-content")(26,"ion-card")(27,"ion-item"),t._UZ(28,"ion-searchbar",8,9),t.TgZ(30,"ion-icon",10,11),t.NdJ("click",function(){return e.ListBlockGuiasRemiDetOtis()}),t.qZA()(),t.TgZ(32,"ion-card-header")(33,"div")(34,"div")(35,"ion-card-subtitle"),t._uU(36,"Materiales"),t.qZA()()()(),t.YNc(37,Z,22,14,"ion-item-sliding",12),t.qZA(),t.TgZ(38,"ion-fab",13)(39,"ion-fab-button"),t._UZ(40,"ion-icon",14),t.qZA(),t.TgZ(41,"ion-fab-list",15)(42,"ion-fab-button",16),t._UZ(43,"ion-icon",17),t.TgZ(44,"span"),t._uU(45,"Documento"),t.qZA()(),t.TgZ(46,"ion-fab-button",16),t._UZ(47,"ion-icon",18),t.TgZ(48,"span"),t._uU(49,"Paleta"),t.qZA()(),t.TgZ(50,"ion-fab-button",16),t._UZ(51,"ion-icon",19),t.TgZ(52,"span"),t._uU(53,"Globo"),t.qZA()()()()()),2&n&&(t.Q6J("translucent",!0),t.xp6(5),t.Q6J("text",e.Cancelar)("disabled",e.disableButton),t.xp6(6),t.Oqu(e.cod_bomba),t.xp6(3),t.hij("N\xb0 O.T: ",e.nro_oti,""),t.xp6(3),t.hij("N\xb0 Guia: ",e.correguia,""),t.xp6(4),t.Q6J("disabled","Terminado"===e.estaboBtnGuia),t.xp6(2),t.Q6J("disabled","Terminado"===e.estaboBtnGuia),t.xp6(14),t.Q6J("ngForOf",e.DataSetGrid))},dependencies:[i.Pc,i.yp,i.YG,i.Sm,i.PM,i.Zi,i.tO,i.nz,i.W2,i.IJ,i.W4,i.zq,i.Gu,i.gu,i.Ie,i.td,i.Q$,i.q_,i.VI,i.wd,i.sr,i.w,i.j9,i.oU,d.ez,d.sg,d.PC,_.u5,_.JJ,_.On],styles:['@charset "UTF-8";ion-label[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:4px}.headerContentManto[_ngcontent-%COMP%]{display:flex;width:100%;gap:10px;justify-content:space-between}']}),l})()}}]);