"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5751],{5346:(m,l,n)=>{n.d(l,{ez:()=>_,tP:()=>c});var c=function(e){return e.Documents="DOCUMENTS",e.Data="DATA",e.Library="LIBRARY",e.Cache="CACHE",e.External="EXTERNAL",e.ExternalStorage="EXTERNAL_STORAGE",e}(c||{}),_=function(e){return e.UTF8="utf8",e.ASCII="ascii",e.UTF16="utf16",e}(_||{})},1461:(m,l,n)=>{n.d(l,{fy:()=>u,tP:()=>_.tP});var c=n(2726),_=n(5346);const u=(0,c.fo)("Filesystem",{web:()=>n.e(4522).then(n.bind(n,4522)).then(a=>new a.FilesystemWeb)})},5751:(m,l,n)=>{n.r(l),n.d(l,{PdfViewerPage:()=>D});var c=n(5861),_=n(6814),u=n(95),a=n(6728),e=n(4874),P=n(2519),E=n(2726),f=n(1461),o=n(6242),p=n(5472),g=n(4248);let D=(()=>{var d;class h{constructor(t,i,s,r){this.navCtrl=t,this.router=i,this.route=s,this.loadingController=r,this.zoom=1,this.navParams=this.router.getCurrentNavigation().extras.state,this.flagResumenDiario="0",this.navParams&&(this.DsviewPDF={},this.idTargetMenu=this.navParams.idTargetMenu,this.DsviewPDF.EQUIPOID="Repuestos")}ngOnInit(){this.route.queryParams.subscribe(t=>{this.valor=t.valor}),this.pdfSrc=P.N.UrlDomainLocal+"/aw_file/diseno_plano/"+this.valor}descargarPDF(){var t=this;return(0,c.Z)(function*(){try{t.route.queryParams.subscribe(r=>{t.valor=r.valor}),t.pdfSrc=P.N.UrlDomainLocal+"/aw_file/diseno_plano/"+t.valor,console.log("URLLLLLLL",t.pdfSrc);const s=yield(yield fetch(t.pdfSrc)).blob();if(E.dV.isNative){const r=t.valor;yield f.fy.writeFile({path:r,data:s,directory:f.tP.Documents}),console.log("PDF descargado correctamente.")}else{const r=window.URL.createObjectURL(s);window.open(r)}}catch(i){console.error("Error en la descarga del PDF:",i)}})()}FCloseWin(){this.route.queryParams.subscribe(t=>{this.flaglistaprod=t.flaglistaprod}),"1"==this.flaglistaprod?(console.log("cancelar 1"),this.navCtrl.navigateForward("prod-ate-serv-asigna-estado")):"2"==this.flaglistaprod?(console.log("cancelar 2"),this.navCtrl.navigateForward("prod-ate-serv-inicia-actividad")):(console.log("cancelar 3"),this.navCtrl.navigateForward("prod-ate-serv-list-actividades"))}zoomIn(){this.zoom+=.1}zoomOut(){this.zoom>.2&&(this.zoom-=.1)}resetZoom(){this.zoom=1}onPinch(t){this.zoom*=t.scale,this.zoom<.5&&(this.zoom=.5),this.zoom>2&&(this.zoom=2)}}return(d=h).\u0275fac=function(t){return new(t||d)(o.Y36(p.SH),o.Y36(g.F0),o.Y36(g.gz),o.Y36(a.HT))},d.\u0275cmp=o.Xpm({type:d,selectors:[["app-pdf-viewer"]],standalone:!0,features:[o.jDz],decls:19,vars:3,consts:[["mode","ios"],["slot","start"],[3,"click"],["slot","icon-only","name","chevron-back-outline"],["slot","end"],["color","primary",3,"click"],["slot","icon-only","name","add"],["color","primary",2,"margin-left","18px",3,"click"],["slot","icon-only","name","remove"],["slot","icon-only","name","refresh-outline"],[3,"pinch"],[2,"display","block","width","99%","height","99%",3,"src","zoom","original-size"]],template:function(t,i){1&t&&(o.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1)(3,"ion-button",2),o.NdJ("click",function(){return i.FCloseWin()}),o._UZ(4,"ion-icon",3),o._uU(5," Cancelar "),o.qZA()(),o.TgZ(6,"ion-buttons",4)(7,"ion-button",5),o.NdJ("click",function(){return i.zoomIn()}),o._UZ(8,"ion-icon",6),o._uU(9," Aumentar "),o.qZA(),o.TgZ(10,"ion-button",7),o.NdJ("click",function(){return i.zoomOut()}),o._UZ(11,"ion-icon",8),o._uU(12," Reducir "),o.qZA(),o.TgZ(13,"ion-button",7),o.NdJ("click",function(){return i.resetZoom()}),o._UZ(14,"ion-icon",9),o._uU(15," Restablecer "),o.qZA()()()(),o.TgZ(16,"ion-content",10),o.NdJ("pinch",function(r){return i.onPinch(r)}),o._UZ(17,"pdf-viewer",11),o.qZA(),o._UZ(18,"ion-footer")),2&t&&(o.xp6(17),o.Q6J("src",i.pdfSrc)("zoom",i.zoom)("original-size",!1))},dependencies:[a.Pc,a.YG,a.Sm,a.W2,a.fr,a.Gu,a.gu,a.sr,_.ez,u.u5,e.xC,e.rQ],styles:[".zoom-buttons[_ngcontent-%COMP%] {\n    display: flex;\n    justify-content: space-between;\n    margin-top: 20px;\n  }\n  \n  .zoom-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%] {\n    flex: 1;\n    margin: 0 10px;\n    border-radius: 20px; \n\n  }\n  \n  .zoom-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%] {\n    margin-right: 8px;\n  }"]}),h})()}}]);