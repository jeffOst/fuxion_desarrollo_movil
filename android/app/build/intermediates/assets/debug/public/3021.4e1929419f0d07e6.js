"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3021,4771,7287,9811],{4771:(D,C,l)=>{l.d(C,{Q:()=>E});var m=l(5861),f=l(2519),g=l(6242),n=l(9862),I=l(2014);let E=(()=>{var t;class A{constructor(e,r){this.httpClient=e,this.storage=r,this.urlApiProd=f.N.UrlDomainLocal+"aw_modulos/mante/api/CApiCheckListHerramientras.php",this.confirmRequest=""}ListFindcheck(e,r,a,i,c){let p=JSON.stringify({acc:1,s:e,idusu:r,iddevice:a,SelectFiltra:i,SelectFiltra2:c});return this.httpClient.post(this.urlApiProd,p).toPromise().then(_=>_)}cargawin1(e,r){let a=JSON.stringify({acc:2,id_usuario:e,idreg:r});return this.httpClient.post(this.urlApiProd,a).toPromise().then(i=>i)}LisTecnicos(e){let r=JSON.stringify({acc:3,s:e});return this.httpClient.post(this.urlApiProd,r).toPromise().then(a=>a)}LisHerramienta(e){let r=JSON.stringify({acc:4,s:e});return this.httpClient.post(this.urlApiProd,r).toPromise().then(a=>a)}NewForm(e,r){let a=JSON.stringify({acc:5,idusu:e,cod:r});return this.httpClient.post(this.urlApiProd,a).toPromise().then(i=>i)}GuardarFormPaso1(e,r){var a=this;return(0,m.Z)(function*(){console.log("Dentro::GuardarFormulario::>",e);let c=a.urlApiProd,p=JSON.stringify({paramsToBd:e,idregistro:r});return console.log("dataPost",p),a.httpClient.post(c+"?acc=6",p).toPromise().then(_=>_)})()}GuardarFormPaso2(e,r,a){var i=this;return(0,m.Z)(function*(){return i.httpClient.post(i.urlApiProd+"?acc=7",JSON.stringify({row:e,idestado:a,IdUsuarioLocal:r})).toPromise()})()}GuardarlistHerra(e,r,a,i){var c=this;return(0,m.Z)(function*(){return c.httpClient.post(c.urlApiProd+"?acc=13",JSON.stringify({row:e,idestado:a,IdUsuarioLocal:r,idregistro:i})).toPromise()})()}uploadImage(e,r,a){let i=new FormData;return i.append("file",e,"myimage."+a),i.append("id",r),i.append("acc","8"),i.append("type","image/png"),this.httpClient.post(this.urlApiProd,i)}getImages(e){return this.httpClient.get(`${this.urlApiProd}?acc=9&id=`+e)}UpLoadImageMultiple(e,r,a){try{let i=new FormData;i.append("id",r),i.append("acc","10"),i.append("type","image/png");for(let c=0;c<e.length;c++)console.log("image::ruta=>::>",e[c]),i.append("images[]",e[c],`image_${c}.jpg`);return this.httpClient.post(this.urlApiProd,i)}catch(i){console.error("Error al enviar im\xe1genes al API:",i)}}deleteImage(e){return this.httpClient.delete(`${this.urlApiProd}?acc=11&id=${e}`)}Lisherra(e,r,a){let i=JSON.stringify({acc:12,s:e,usuario:r,idregistro:a});return this.httpClient.post(this.urlApiProd,i).toPromise().then(c=>c)}}return(t=A).\u0275fac=function(e){return new(e||t)(g.LFG(n.eN),g.LFG(I.K))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),A})()},3021:(D,C,l)=>{l.r(C),l.d(C,{MttoListChecklistHerraPage:()=>p});var m=l(5861),f=l(6814),g=l(95),n=l(6728),I=l(6471),E=l(8279),t=l(6242),A=l(6172),v=l(2014),e=l(5472),r=l(4771);function a(_,P){1&_&&t._UZ(0,"img",28)}function i(_,P){1&_&&t._UZ(0,"img",29)}function c(_,P){if(1&_){const u=t.EpF();t.TgZ(0,"ion-item",21),t.NdJ("click",function(){const d=t.CHM(u).$implicit,h=t.oxw();return t.KtG(h.FNuevaCheckList(d))}),t.TgZ(1,"ion-avatar"),t.YNc(2,a,1,0,"img",22)(3,i,1,0,"img",23),t.qZA(),t.TgZ(4,"ion-label")(5,"strong")(6,"div"),t._uU(7),t.qZA()(),t.TgZ(8,"p"),t._uU(9," Correlativo:\xa0"),t.TgZ(10,"ion-text",24),t._uU(11),t.qZA(),t._uU(12," Fecha:\xa0"),t.TgZ(13,"ion-text",25),t._uU(14),t.qZA(),t._uU(15," Isla:\xa0"),t.TgZ(16,"ion-text",26),t._uU(17),t.qZA(),t._uU(18," Area:\xa0"),t.TgZ(19,"ion-text",27),t._uU(20),t.qZA()()()()}if(2&_){const u=P.$implicit;t.xp6(2),t.Q6J("ngIf",1==u.tipo_doc_ch),t.xp6(1),t.Q6J("ngIf",2==u.tipo_doc_ch),t.xp6(4),t.AsE("",u.tec_res_ch," ",u.indicador_ch,""),t.xp6(4),t.hij("",u.corre_ch," \xa0"),t.xp6(3),t.hij("",u.fch_inspec_ch," \xa0"),t.xp6(3),t.hij("",u.ubi_isla_ch," \xa0"),t.xp6(3),t.hij("",u.DESCRIPCION," \xa0")}}let p=(()=>{var _;class P{constructor(o,s,d,h,M,L){this.globalVal=o,this.storage=s,this.loadingController=d,this.navCtrl=h,this.modalCtrl=M,this.ApiService=L,this.disableButton=!0,this.searchTerm="",this.estaCargando=!1}ngOnInit(){let o;this.estaCargando=!0,this.storage.get("USER_INFO").then(s=>{o=s,this.IdUsuarioLocal=o.user_id,console.log(o)})}ionViewWillEnter(){let o;this.estaCargando=!0,this.storage.get("USER_INFO").then(s=>{o=s,this.IdUsuarioLocal=o.user_id,this.FListaEquipos(event)})}FNuevaCheckList(o){let s={state:{Row:o}};console.log(s),this.globalVal.checklist_paso_pivot="",this.navCtrl.navigateForward(["/mtto-win-checklist-herra"],s)}FNewherra2(o,s){this.ApiService.NewForm(this.IdUsuarioLocal,s).then(d=>{this.EditDataRest=d.form,console.log("forrrrrmmmmm",this.EditDataRest);try{o=this.EditDataRest[0]}catch(M){console.log("error:::>",M)}let h={state:{Row:o}};console.log("navigationExtras1111",h),this.globalVal.checklist_paso_pivot="",this.navCtrl.navigateForward(["/mtto-win-checklist-herra"],h)})}FListaEquipos(o){this.searchTerm=o.target.value,this.loadingController.create({message:"Cargando lista...",translucent:!0}).then(d=>{d.present(),this.ApiService.ListFindcheck(this.NgModInputSearch,this.IdUsuarioLocal,"H",this.SelectFiltra,this.SelectFiltra2).then(h=>{this.DataSetGrid=h,this.loadingController.dismiss(),this.estaCargando=!1}).finally(()=>{this.loadingController.dismiss(),setTimeout(()=>{},600)}).catch(()=>{}).then(h=>{console.log("thennnnn",h),d.dismiss()})})}PopUpItemsHerramienta(){var o=this;return(0,m.Z)(function*(){const s=yield o.modalCtrl.create({component:E.PopUpFormHerraPage,backdropDismiss:!0,showBackdrop:!0,mode:"ios",componentProps:{}});return s.onDidDismiss().then(d=>{null!==d&&(o.dataReturned=d.data,console.log("datos",o.dataReturned))}),yield s.present()})()}open_popup_tecni(){var o=this;return(0,m.Z)(function*(){yield o.modalCtrl.create({component:E.PopUpFormHerraPage,backdropDismiss:!0,showBackdrop:!0,mode:"ios",componentProps:{}})})()}}return(_=P).\u0275fac=function(o){return new(o||_)(t.Y36(A.X),t.Y36(v.K),t.Y36(n.HT),t.Y36(e.SH),t.Y36(n.IN),t.Y36(r.Q))},_.\u0275cmp=t.Xpm({type:_,selectors:[["app-mtto-list-checklist-herra"]],standalone:!0,features:[t.jDz],decls:24,vars:5,consts:[[3,"translucent"],[1,"ion-no-border"],[1,"ion-justify-content-start"],["size","10",1,"ion-align-self-start"],["titulo","CheckList Herramientas"],["size","2",1,"ion-align-self-end"],["position","fixed","color","secondary",1,"label-nameusuario"],["mode","ios","animated","true","cancelButtonText","Cancelar","enterkeyhint","done","placeholder","Filtrar Parametros","color","secondary","search-icon","search-circle",3,"ngModel","ngModelChange"],["IdHtmlInputSearch",""],["slot","end","name","sync-outline",3,"click"],["idIconButtonSync",""],[3,"fullscreen"],[3,"inset"],["button","","detail","true","detail-icon","caret-forward-outline","mode","ios",3,"click",4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed"],["name","add-outline"],["side","top"],["color","success","mode","ios","title","Tecnico",3,"click"],["name","person-outline"],["color","dark","mode","ios","title","Isla",3,"click"],["name","golf-outline"],["button","","detail","true","detail-icon","caret-forward-outline","mode","ios",3,"click"],["alt","Imagen 1","src","../../../../../../assets/imgs/tecnico.jpg",4,"ngIf"],["alt","Imagen 2","src","../../../../../../assets/imgs/isla.png",4,"ngIf"],["color","secondary"],["color","success"],["color","primary"],["color","warning"],["alt","Imagen 1","src","../../../../../../assets/imgs/tecnico.jpg"],["alt","Imagen 2","src","../../../../../../assets/imgs/isla.png"]],template:function(o,s){1&o&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-grid")(3,"ion-row",2)(4,"ion-col",3),t._UZ(5,"app-header",4),t.qZA(),t.TgZ(6,"ion-col",5),t._UZ(7,"ion-label",6),t.qZA()()(),t.TgZ(8,"ion-item")(9,"ion-searchbar",7,8),t.NdJ("ngModelChange",function(h){return s.NgModInputSearch=h}),t.qZA(),t.TgZ(11,"ion-icon",9,10),t.NdJ("click",function(h){return s.FListaEquipos(h)}),t.qZA()()()(),t.TgZ(13,"ion-content",11)(14,"ion-list",12),t.YNc(15,c,21,8,"ion-item",13),t.qZA()(),t.TgZ(16,"ion-fab",14)(17,"ion-fab-button"),t._UZ(18,"ion-icon",15),t.qZA(),t.TgZ(19,"ion-fab-list",16)(20,"ion-fab-button",17),t.NdJ("click",function(){return s.FNewherra2(0,1)}),t._UZ(21,"ion-icon",18),t.qZA(),t.TgZ(22,"ion-fab-button",19),t.NdJ("click",function(){return s.FNewherra2(0,2)}),t._UZ(23,"ion-icon",20),t.qZA()()()),2&o&&(t.Q6J("translucent",!0),t.xp6(9),t.Q6J("ngModel",s.NgModInputSearch),t.xp6(4),t.Q6J("fullscreen",!0),t.xp6(1),t.Q6J("inset",!0),t.xp6(1),t.Q6J("ngForOf",s.DataSetGrid))},dependencies:[n.Pc,n.BJ,n.wI,n.W2,n.IJ,n.W4,n.zq,n.jY,n.Gu,n.gu,n.Ie,n.Q$,n.q_,n.Nd,n.VI,n.yW,n.sr,n.j9,f.ez,f.sg,f.O5,g.u5,g.JJ,g.On,I.G]}),P})()}}]);