"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9205,6485,5610,531,6702,6026],{6485:(E,O,h)=>{h.d(O,{Z:()=>T});var S=h(2519),f=h(6242),u=h(9862);let T=(()=>{var P;class C{constructor(t){this.httpClient=t,this.urlApiProd=S.N.UrlDomainLocal+"aw_modulos/prod/api/CAtencionServicios.php"}ListDatos(t,e,o,n){let s=JSON.stringify({s:t,acc:1,tipo:e,idtablet:o,idmenu:n});return this.httpClient.post(this.urlApiProd,s).toPromise().then(d=>d)}FUpdateEstadoServicio(t,e,o,n,s,d){let a=JSON.stringify({idofpterminado:t,acc:2,value:e,id_usuario_local:o,id_dispositivo:n,avatar:s,idasignaestacionof:d});return this.httpClient.post(this.urlApiProd,a).toPromise().then(p=>p)}ListSolsexQr(t,e,o,n,s){let d=JSON.stringify({idofpterminado:t,acc:2,value:e,id_usuario_local:o,id_dispositivo:n,avatar:s});return this.httpClient.post(this.urlApiProd,d).toPromise().then(a=>a)}load_cbos_pieza_material_maquina(t,e,o){let n=JSON.stringify({acc:3,id_usuario_local:e,id_dispositivo:o,idtipserv:t});return this.httpClient.post(this.urlApiProd,n).toPromise().then(s=>s)}ListFindPersonal(t,e,o){let n=JSON.stringify({acc:4,s:t,idusu:e,iddevice:o});return this.httpClient.post(this.urlApiProd,n).toPromise().then(s=>s)}ListFindServiciosByPieza(t,e,o,n,s,d){let a=JSON.stringify({acc:5,s:t,idpieza:e,tipServicio:o,idusu:n,iddevice:s,nomclase:d});return this.httpClient.post(this.urlApiProd,a).toPromise().then(p=>p)}ListFindPiezaByActividad(t,e,o,n,s,d,a,p){let c=JSON.stringify({acc:6,s:t,idpieza:e,tipServicio:o,idusu:n,iddevice:s,idclase:d,idsubfamilia:a,nomsubfam:p});return this.httpClient.post(this.urlApiProd,c).toPromise().then(r=>r)}SaveInicioActividad(t){let e=JSON.stringify(t);return this.httpClient.post(this.urlApiProd,e).toPromise().then(o=>o)}UpdateFechaInicioProd(t,e,o,n){let s=JSON.stringify({acc:28,fecha:t,pk_idservicio:e,avatar:o,idusuario:n});return this.httpClient.post(this.urlApiProd,s).toPromise().then(d=>d)}UpdateFechaFinProd(t,e,o,n){let s=JSON.stringify({acc:29,fecha:t,pk_idservicio:e,avatar:o,idusuario:n});return this.httpClient.post(this.urlApiProd,s).toPromise().then(d=>d)}ListFindActividades(t,e,o){let n=JSON.stringify({acc:9,s:t,idusu:e,iddevice:o});return this.httpClient.post(this.urlApiProd,n).toPromise().then(s=>s)}ListFindClaseByPieza(t,e,o,n,s){let d=JSON.stringify({acc:10,s:t,idpieza:e,tipServicio:o,idusu:n,iddevice:s});return this.httpClient.post(this.urlApiProd,d).toPromise().then(a=>a)}ListFindOfByClase(t,e,o,n,s,d){let a=JSON.stringify({acc:11,s:t,idsubfamilia:e,idclase:o,tipServicio:n,idusu:s,iddevice:d});return this.httpClient.post(this.urlApiProd,a).toPromise().then(p=>p)}ListFindQrByOf(t,e,o,n,s,d){let a=JSON.stringify({acc:12,s:t,idpieza:e,tipServicio:o,idusu:n,iddevice:s,nomclase:d});return this.httpClient.post(this.urlApiProd,a).toPromise().then(p=>p)}SaveControlCalidadByOf(t){let e=JSON.stringify(t);return this.httpClient.post(this.urlApiProd,e).toPromise().then(o=>o)}ListFindSolicitudQcByOf(t,e,o,n){let s=JSON.stringify({acc:14,s:t,idofpterminado:e,idusu:o,iddevice:n});return this.httpClient.post(this.urlApiProd,s).toPromise().then(d=>d)}load_cbos_ma00(){let t=JSON.stringify({acc:15});return this.httpClient.post(this.urlApiProd,t).toPromise().then(e=>e)}FCreaCorrelativo(){let t=JSON.stringify({acc:16});return this.httpClient.post(this.urlApiProd,t).toPromise().then(e=>e)}SaveReporteFalla(t){let e=JSON.stringify(t);return this.httpClient.post(this.urlApiProd,e).toPromise().then(o=>o)}SaveRelevo(t){let e=JSON.stringify(t);return this.httpClient.post(this.urlApiProd,e).toPromise().then(o=>o)}FCreaCorrelativoRelevo(){let t=JSON.stringify({acc:18});return this.httpClient.post(this.urlApiProd,t).toPromise().then(e=>e)}load_cbo_subprocesos(t,e,o){let n=JSON.stringify({acc:20,idmaquina:t,nom_pieza:e,servicio:o});return this.httpClient.post(this.urlApiProd,n).toPromise().then(s=>s)}load_cbos_any_edit_ini_actvidad(t,e,o){let n=JSON.stringify({acc:22,id_usuario_local:e,id_dispositivo:o,idtipserv:t});return this.httpClient.post(this.urlApiProd,n).toPromise().then(s=>s)}ListActividadesxTecnico(t,e,o){let n=JSON.stringify({iduser:t,acc:23,horainicio_filtro:e,horafin_filtro:o});return this.httpClient.post(this.urlApiProd,n).toPromise().then(s=>s)}SaveResumenDia(t,e){let o=JSON.stringify(e);return this.httpClient.post(this.urlApiProd,o).toPromise().then(n=>n)}LoadFormDejarPiezasCalidad(t){let e=JSON.stringify({idpt:t,acc:25});return this.httpClient.post(this.urlApiProd,e).toPromise().then(o=>o)}LoadFormIniciaActividad(t,e){let o=JSON.stringify({idpt:t,avatar:e,acc:26});return this.httpClient.post(this.urlApiProd,o).toPromise().then(n=>n)}listado_principal_resumen_horas(t,e,o,n,s){let d=JSON.stringify({s:t,acc:o,tipo:e,idtablet:"this.device.uuid",madre_hija:n,idusuario:s});return this.httpClient.post(this.urlApiProd,d).toPromise().then(a=>a)}listado_principal_cabecera(t,e,o,n,s){let d=JSON.stringify({s:t,acc:o,tipo:e,idtablet:"this.device.uuid",madre_hija:n,idusuario:s});return this.httpClient.post(this.urlApiProd,d).toPromise().then(a=>a)}}return(P=C).\u0275fac=function(t){return new(t||P)(f.LFG(u.eN))},P.\u0275prov=f.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),C})()},6429:(E,O,h)=>{h.r(O),h.d(O,{ProdAteServListActividadesPage:()=>d});var S=h(6814),f=h(95),u=h(6728),Z=h(6471),i=h(6242),T=h(5472),P=h(6485),C=h(2014),F=h(4248);const t=["IdHtmlInputSearch"];function e(a,p){1&a&&i._UZ(0,"ion-icon",33)}function o(a,p){1&a&&i._UZ(0,"ion-icon",34)}function n(a,p){if(1&a){const c=i.EpF();i.TgZ(0,"ion-item",35),i.NdJ("click",function(){const _=i.CHM(c).$implicit,g=i.oxw(2);return i.KtG(g.FSelectedItem(_))}),i.TgZ(1,"ion-grid",36)(2,"ion-row",37)(3,"ion-col",38)(4,"ion-label",39),i._uU(5),i.qZA()(),i.TgZ(6,"ion-col",40)(7,"ion-label",39),i._uU(8),i.qZA()(),i.TgZ(9,"ion-col",40),i._uU(10),i.qZA(),i.TgZ(11,"ion-col",40)(12,"ion-label",41),i._uU(13),i.qZA()(),i.TgZ(14,"ion-col",40),i._uU(15),i.qZA(),i.TgZ(16,"ion-col",42),i._uU(17),i.qZA(),i.TgZ(18,"ion-col",40),i._uU(19),i.qZA(),i.TgZ(20,"ion-col",40),i._uU(21),i.qZA(),i.TgZ(22,"ion-col",40),i._uU(23),i.qZA(),i.TgZ(24,"ion-col",40),i._uU(25),i.qZA(),i.TgZ(26,"ion-col",40),i._uU(27),i.qZA()()()()}if(2&a){const c=p.$implicit,r=i.oxw(2);i.Q6J("hidden",r.scanActive),i.xp6(4),i.Q6J("color","3"!=c.idestado?"warning":"dark"),i.xp6(1),i.Oqu(c.Nsemanaofmes),i.xp6(2),i.Q6J("color","3"!=c.idestado?"warning":"dark"),i.xp6(1),i.Oqu(c.codsmg),i.xp6(2),i.Oqu(c.correorden),i.xp6(3),i.Oqu(c.nomclase),i.xp6(2),i.Oqu(c.maquina),i.xp6(2),i.Oqu(c.Y04002),i.xp6(2),i.Oqu(c.fecha_inicio),i.xp6(2),i.Oqu(c.fecha_fin),i.xp6(2),i.Oqu(c.tiempo),i.xp6(2),i.Oqu(c.cantidad),i.xp6(2),i.Oqu(c.observacion)}}function s(a,p){if(1&a&&(i.TgZ(0,"ion-item-group")(1,"ion-item-divider",28),i.YNc(2,e,1,0,"ion-icon",29)(3,o,1,0,"ion-icon",30),i.TgZ(4,"div",31),i._uU(5),i.qZA()(),i.YNc(6,n,28,14,"ion-item",32),i.qZA()),2&a){const c=p.$implicit,r=i.oxw();i.Udp("--background",r.scanActive?"#00000000":"#fff"),i.xp6(1),i.Q6J("hidden",r.scanActive),i.xp6(1),i.Q6J("ngIf",0==c.values[0].flag_pendientes),i.xp6(1),i.Q6J("ngIf",0!=c.values[0].flag_pendientes),i.xp6(2),i.Oqu(c.key),i.xp6(1),i.Q6J("ngForOf",c.values)}}let d=(()=>{var a;class p{constructor(r,l,_,g,A){let v;this.loadingController=r,this.prodGestionServicioService=l,this.storage=_,this.navCtrl=g,this.router=A,this.TituloDinamico="Tabla de Actividades",this.NgModInputSearch="",this.scanActive=!1,this.navParams=this.router.getCurrentNavigation().extras.state,console.log("this.navParams::>",this.navParams),this.idMenu=this.navParams.idmenu,this.menu=this.navParams.menu,this.storage.get("USER_INFO").then(m=>{v=m,this.NombresUsuarioLocal=v.user_name,this.IdUsuarioLocal=v.user_id}),this.storage.get("DEVICE_INFO").then(m=>{v=m,this.NombreDispositivo=v.name,this.IdDispositivo=v.uuid})}ngOnInit(){this.FFindRows()}ionViewDidLoad(){}ionViewDidEnter(){}ngOnDestroy(){}FSelectedItem(r){console.log(r);let l={state:r};console.log(l),this.navCtrl.navigateForward(["prod-ate-serv-inicia-actividad"],l)}FReporteFalla(){console.log("row"),this.navCtrl.navigateForward(["prod-ate-serv-reporte-falla"],{state:{idmenu:this.idMenu,menu:this.menu}})}FRelevo(){this.navCtrl.navigateForward(["prod-ate-serv-relevo"],{state:{idmenu:this.idMenu,menu:this.menu}})}FIniciarActvividad(){let r;r={},r.CONCOMPONENTE=1,this.navCtrl.navigateForward(["addserviciostodet"],{state:r})}FFindRows(){this.loadingController.create({message:"Cargando lista...",translucent:!0}).then(l=>{l.present(),this.prodGestionServicioService.ListFindActividades(this.NgModInputSearch,this.IdUsuarioLocal,this.IdDispositivo).then(_=>{this.MultiArrayServicios=_,this.MultiArrayServicios=this.groupByArray(this.MultiArrayServicios,"nombres_tecnico","hora_ini_acti_otd")}).finally(()=>{this.loadingController.dismiss()})})}groupByArray(r,l,_){return r.reduce(function(g,A){let v=l instanceof Function?l(A):A[l],m=g.find(y=>y&&y.key===v);return m?m.values.push(A):g.push({key:v,values:[A]}),g},[])}sortArray(r,l,_){return _=_||1,r.sort(function(A,v){let m=0;return A[l]>v[l]?m=1*_:A[l]<v[l]&&(m=-1*_),m}),r}}return(a=p).\u0275fac=function(r){return new(r||a)(i.Y36(u.HT),i.Y36(P.Z),i.Y36(C.K),i.Y36(T.SH),i.Y36(F.F0))},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-prod-ate-serv-list-actividades"]],viewQuery:function(r,l){if(1&r&&i.Gf(t,5),2&r){let _;i.iGM(_=i.CRH())&&(l.idInputSearch=_.first)}},standalone:!0,features:[i.jDz],decls:62,vars:3,consts:[[1,"ion-no-border"],[1,"ion-justify-content-start"],["size","10",1,"ion-align-self-start"],[3,"titulo"],["size","2",1,"ion-align-self-end"],["position","fixed","color","secondary",1,"label-nameusuario"],["mode","ios","debounce","1700","cancelButtonText","Cancelar","enterkeyhint","done","placeholder","Filtrar par\xe1metros",3,"ngModel","ngModelChange","ionChange"],["IdHtmlInputSearch",""],["slot","end","name","sync-outline",3,"click"],["idIconButtonSync",""],["scroll-x","true"],[1,"",2,"width","150% !important"],[2,"width","100% !important"],["size-sm","0.5","size-md","0.5","size-xl","0.5",1,"headgrid"],[2,"color","black"],["size-sm","1","size-md","1","size-xl","1",1,"headgrid"],["size-sm","2","size-md","2","size-xl","2",1,"headgrid"],[3,"--background",4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed"],["title","REPORTE FALLA EQUIPO",3,"click"],["name","build-outline"],["title","RELEVO",3,"click"],["name","log-out-outline"],["title","Nueva Actividad",3,"click"],["name","grid-outline"],["mode","ios",2,"align-items","center"],["fill","clear","expand","block",2,"width","30%",3,"click"],["color","primary",2,"font","size 6px"],["color","light",2,"height","30px !important",3,"hidden"],["name","ellipse","color","danger","slot","start",4,"ngIf"],["name","ellipse","color","success","slot","start",4,"ngIf"],[1,"ion-text-uppercase"],["button","",3,"hidden","click",4,"ngFor","ngForOf"],["name","ellipse","color","danger","slot","start"],["name","ellipse","color","success","slot","start"],["button","",3,"hidden","click"],["fixed","false",2,"width","150% !important"],[2,"width","100% !important","font-size","0.7em"],["size-sm","0.5","size-md","0.5","size-xl","0.5"],[3,"color"],["size-sm","1","size-md","1","size-xl","1"],[1,"ion-text-wrap"],["size-sm","2","size-md","2","size-xl","2"]],template:function(r,l){1&r&&(i.TgZ(0,"ion-toolbar",0)(1,"ion-grid")(2,"ion-row",1)(3,"ion-col",2),i._UZ(4,"app-header",3),i.qZA(),i.TgZ(5,"ion-col",4),i._UZ(6,"ion-label",5),i.qZA()()(),i.TgZ(7,"ion-item")(8,"ion-searchbar",6,7),i.NdJ("ngModelChange",function(g){return l.NgModInputSearch=g})("ionChange",function(){return l.FFindRows()}),i.qZA(),i.TgZ(10,"ion-icon",8,9),i.NdJ("click",function(){return l.FFindRows()}),i.qZA()()(),i.TgZ(12,"ion-content",10)(13,"ion-list",11)(14,"ion-row",12)(15,"ion-col",13)(16,"ion-label",14),i._uU(17,"Semana"),i.qZA()(),i.TgZ(18,"ion-col",15)(19,"ion-label",14),i._uU(20,"Equipo"),i.qZA()(),i.TgZ(21,"ion-col",15)(22,"ion-label",14),i._uU(23,"Nro. OT/OF"),i.qZA()(),i.TgZ(24,"ion-col",15)(25,"ion-label",14),i._uU(26,"Pieza"),i.qZA()(),i.TgZ(27,"ion-col",15)(28,"ion-label",14),i._uU(29,"Maquina"),i.qZA()(),i.TgZ(30,"ion-col",16)(31,"ion-label",14),i._uU(32,"Servicio"),i.qZA()(),i.TgZ(33,"ion-col",15)(34,"ion-label",14),i._uU(35,"F. Inicio"),i.qZA()(),i.TgZ(36,"ion-col",15)(37,"ion-label",14),i._uU(38,"F. Fin"),i.qZA()(),i.TgZ(39,"ion-col",15)(40,"ion-label",14),i._uU(41,"Tiempo"),i.qZA()(),i.TgZ(42,"ion-col",15)(43,"ion-label",14),i._uU(44,"Cantidad"),i.qZA()(),i.TgZ(45,"ion-col",15)(46,"ion-label",14),i._uU(47,"Observacion"),i.qZA()()(),i.YNc(48,s,7,7,"ion-item-group",17),i.qZA(),i.TgZ(49,"ion-fab",18)(50,"ion-fab-button",19),i.NdJ("click",function(){return l.FReporteFalla()}),i._UZ(51,"ion-icon",20),i.qZA(),i.TgZ(52,"ion-fab-button",21),i.NdJ("click",function(){return l.FRelevo()}),i._UZ(53,"ion-icon",22),i.qZA(),i.TgZ(54,"ion-fab-button",23),i.NdJ("click",function(){return l.FIniciarActvividad()}),i._UZ(55,"ion-icon",24),i.qZA()()(),i.TgZ(56,"ion-footer")(57,"ion-card",25)(58,"ion-button",26),i.NdJ("click",function(){return l.FFindRows()}),i.TgZ(59,"ion-label",27),i._UZ(60,"ion-icon",24),i._uU(61," Tabla de actividades "),i.qZA()()()()),2&r&&(i.xp6(4),i.s9C("titulo",l.TituloDinamico),i.xp6(4),i.Q6J("ngModel",l.NgModInputSearch),i.xp6(40),i.Q6J("ngForOf",l.MultiArrayServicios))},dependencies:[u.Pc,u.YG,u.PM,u.wI,u.W2,u.IJ,u.W4,u.fr,u.jY,u.gu,u.Ie,u.rH,u.Ub,u.Q$,u.q_,u.Nd,u.VI,u.sr,u.j9,S.ez,S.sg,S.O5,f.u5,f.JJ,f.On,Z.G],styles:[".forecast_container[_ngcontent-%COMP%]{flex-wrap:nowrap;overflow-x:scroll!important;overflow-y:hidden;overflow-x:visible!important}"]}),p})()}}]);