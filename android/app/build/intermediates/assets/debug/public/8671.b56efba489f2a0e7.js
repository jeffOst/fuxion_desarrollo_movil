"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8671],{8671:(q,g,n)=>{n.r(g),n.d(g,{ProdAteServAsignaEstadoPage:()=>H});var u=n(5861),m=n(6814),h=n(95),e=n(6728),i=n(6242),p=n(4248),v=n(6485),A=n(2014),P=n(5472);function Z(s,r){if(1&s){const t=i.EpF();i.TgZ(0,"ion-button",20),i.NdJ("click",function(){i.CHM(t);const a=i.oxw().$implicit,l=i.oxw();return i.KtG(l.FIniciarActvividad(a.idsubestacion_asof))}),i.TgZ(1,"ion-text",9),i._uU(2,"\xa0INICIAR ACTIVIDAD \xa0"),i.qZA(),i._UZ(3,"ion-icon",10),i.qZA()}if(2&s){const t=i.oxw(2);i.xp6(3),i.Q6J("hidden",t.scanActive)}}function f(s,r){if(1&s&&(i.TgZ(0,"ion-row")(1,"ion-item",15)(2,"ion-col",16),i._uU(3),i.qZA(),i.TgZ(4,"ion-col",16),i._uU(5),i.qZA(),i.TgZ(6,"ion-col",17),i._uU(7),i.qZA(),i.TgZ(8,"ion-col",18),i._uU(9),i.qZA(),i.TgZ(10,"ion-col",18),i._uU(11),i.qZA(),i.TgZ(12,"ion-col",18),i._uU(13),i.qZA(),i.YNc(14,Z,4,1,"ion-button",19),i.qZA()()),2&s){const t=r.$implicit,o=i.oxw();i.xp6(3),i.hij("",t.secuencia_proc_of," "),i.xp6(2),i.Oqu(t.nombre_maquina),i.xp6(2),i.Oqu(t.descripcion_proceso_ofd),i.xp6(2),i.Oqu(t.cnt_plan),i.xp6(2),i.Oqu(t.nombre_estado),i.xp6(2),i.Oqu(t.cantidad_revisada),i.xp6(1),i.Q6J("ngIf",t.nombre_maquina==o.FormHtmlJs.maquina&&t.cantidad_revisada<t.cnt_plan)}}function F(s,r){if(1&s&&(i.TgZ(0,"ion-item")(1,"ion-row",21)(2,"ion-col",22),i._uU(3,"Actividad:"),i.qZA(),i.TgZ(4,"ion-col",23)(5,"div"),i._uU(6,"por Reproceso"),i.qZA()(),i.TgZ(7,"ion-col",22),i._uU(8," F. Revision: "),i.qZA(),i.TgZ(9,"ion-col",23)(10,"div"),i._uU(11),i.qZA()()()()),2&s){const t=i.oxw();i.xp6(5),i.Tol(t.CssReproceso),i.xp6(5),i.Tol(t.CssReproceso),i.xp6(1),i.Oqu(t.FormHtmlJs.fecha_reproceso)}}function C(s,r){if(1&s){const t=i.EpF();i.TgZ(0,"ion-item")(1,"ion-label")(2,"p"),i._uU(3,"Calidad"),i.qZA(),i.TgZ(4,"ion-row")(5,"ion-col",24)(6,"ion-button",25),i.NdJ("click",function(){i.CHM(t);const a=i.oxw();return i.KtG(a.FDejarCalidad())}),i.TgZ(7,"ion-text",26),i._uU(8," Dejar piezas en calidad "),i.qZA()()(),i.TgZ(9,"ion-col",27),i._UZ(10,"ion-icon",28),i.qZA()()()()}}function E(s,r){if(1&s&&(i.TgZ(0,"ion-item")(1,"ion-label"),i._uU(2," Historial Engregas Calidad "),i.TgZ(3,"ion-chip")(4,"ion-label",4),i._uU(5),i.qZA()()()()),2&s){const t=i.oxw();i.xp6(5),i.hij(" ",t.CantEntregasCalidad," ")}}function T(s,r){if(1&s){const t=i.EpF();i.TgZ(0,"ion-row")(1,"ion-item",32),i.NdJ("click",function(){const l=i.CHM(t).$implicit,c=i.oxw(2);return i.KtG(c.showDetailCalidad(l))}),i.TgZ(2,"ion-col",33),i._uU(3),i.qZA(),i.TgZ(4,"ion-col",34),i._uU(5),i.qZA(),i.TgZ(6,"ion-col",35),i._uU(7),i.qZA()()()}if(2&s){const t=r.$implicit;i.xp6(3),i.hij("",t.fch_solicitud_scc," "),i.xp6(2),i.Oqu(t.nombres_tecnico),i.xp6(2),i.Oqu(t.cantidad_scc)}}function J(s,r){if(1&s&&(i.TgZ(0,"ion-item")(1,"ion-grid")(2,"ion-row")(3,"ion-col",29),i._uU(4,"Fecha "),i.qZA(),i.TgZ(5,"ion-col",30),i._uU(6,"Responsable Registro"),i.qZA(),i.TgZ(7,"ion-col",31),i._uU(8,"Cantidad"),i.qZA()(),i.YNc(9,T,8,3,"ion-row",7),i.qZA()()),2&s){const t=i.oxw();i.xp6(9),i.Q6J("ngForOf",t.DsGridSolicitudQc)}}let H=(()=>{var s;class r{constructor(o,a,l,c,x){let d;this.router=o,this.prodservice=a,this.storage=l,this.navCtrl=c,this.alertController=x,this.CantEntregasCalidad=0,this.CantItemsHojaRuta=0,this.FlagCCalidad=!1,this.hide_div_reproceso=!1,this.Cancelar="Cancelar",this.disableButton=!0,this.scanActive=!0,this.FormHtmlJs={},this.navParams=this.router.getCurrentNavigation().extras.state,this.storage.get("USER_INFO").then(_=>{d=_,this.nombres_usuario_local=d.user_name,this.id_usuario_local=d.user_id,console.log(d),console.log(this.navParams),this.navParams&&(this.FormHtmlJs.maquina=this.navParams.maquina,this.FormHtmlJs.idofpterminado=this.navParams.idofpterminado,this.FormHtmlJs.EQUIPOID=this.navParams.EQUIPOID,this.FormHtmlJs.fasignado=this.navParams.fasignado,this.FormHtmlJs.avatar=this.navParams.avatar,this.FormHtmlJs.correorden=this.navParams.correorden,this.FormHtmlJs.Y04001=this.navParams.Y04001,this.FormHtmlJs.Y04002=this.navParams.Y04002,this.FormHtmlJs.descripcion_pt=this.navParams.descripcion_pt,this.FormHtmlJs.cantidad=this.navParams.cantidad,this.FormHtmlJs.idestado=this.navParams.idestado,this.IdCboEstadoActual=this.navParams.idestado,this.FormHtmlJs.nomclase=this.navParams.nomclase,this.FormHtmlJs.idasignaestacionof=this.navParams.idasignaestacionof,this.FormHtmlJs.cnt_29012_peso_ini=this.navParams.cnt_29012_peso_ini,this.FormHtmlJs.cnt_50000_peso_ini=this.navParams.cnt_50000_peso_ini,this.FormHtmlJs.cnt_metalizado_obs=this.navParams.cnt_metalizado_obs,this.FormHtmlJs.codigo_qr=this.navParams.codigo_qr,this.FormHtmlJs.codsmg=this.navParams.codsmg,this.FormHtmlJs.descrip=this.navParams.descrip,this.FormHtmlJs.idmaquina=this.navParams.idmaquina,this.FormHtmlJs.idordenfabricab=this.navParams.idordenfabricab,this.FormHtmlJs.idsubfamilia=this.navParams.idsubfamilia,this.FormHtmlJs.nomsubfam=this.navParams.nomsubfam,this.FormHtmlJs.proceso_metalizado=this.navParams.proceso_metalizado,this.FormHtmlJs.servicio_metalizado=this.navParams.servicio_metalizado,this.CssReproceso=1==this.navParams.flag_reproceso?"CssReproceso":"",this.hide_div_reproceso=1==this.navParams.flag_reproceso,this.FormHtmlJs.fecha_reproceso=this.navParams.fecha_reproceso,this.FormHtmlJs.cantidad_reproceso=this.navParams.cantidad_reproceso,this.FormHtmlJs.idrevisiondet_reproceso=this.navParams.idrevisiondet_reproceso,this.FormHtmlJs.codigo_pt=this.navParams.Y04001,this.FormHtmlJs.CONCOMPONENTE=this.navParams.CONCOMPONENTE,"O.F"==this.FormHtmlJs.avatar&&(this.FlagCCalidad=!0)),this.FormHtmlJs.nombres_tecnico=this.nombres_usuario_local,this.FormHtmlJs.idsolicitante_scc=this.id_usuario_local,this.FormHtmlJs.plano_diseno=this.navParams.plano_diseno,this.FormHtmlJs.cantidad_total=this.navParams.cantidad,this.FormHtmlJs.cantidad_revisada=this.navParams.cantidad_revisada,this.FormHtmlJs.cantidad_pendiente=this.navParams.cantidad_pendiente,console.log("this.FormHtmlJs",this.FormHtmlJs)}),this.storage.get("DEVICE_INFO").then(_=>{d=_,this.nombre_dispositivo=d.name,this.id_dispositivo=d.uuid,console.log("localStorage Device",d)})}FIniciarActvividad(o){var a=this;return(0,u.Z)(function*(){if(console.log("verificar el estado actual"),console.log(a.navParams.idestado),2!=a.navParams.idestado){console.log("recisar este console log"),console.log(a.FormHtmlJs);let l=a.FormHtmlJs;l.idsubestacion_asof=o,a.navCtrl.navigateForward(["addserviciostodet"],{state:l})}else yield(yield a.alertController.create({header:"Alerta",message:"Este registro se encuentra completado, no se puede iniciar otra actividad. (Se debe volver a asignar la Actividad.)",buttons:["Aceptar"]})).present()})()}cancelar_ejecucion(){this.navCtrl.navigateForward("prod-list-acti-programada")}CboEstadoChange(o){console.log("CboEstadoChange",o),console.log(o.detail),console.log(o.detail.value),this.IdCboEstadoActual=o.detail.value,this.prodservice.FUpdateEstadoServicio(this.FormHtmlJs.idofpterminado,o.detail.value,this.id_usuario_local,this.id_dispositivo,this.FormHtmlJs.avatar,this.FormHtmlJs.idasignaestacionof).then(a=>{this.ResptApi=a,console.log(this.ResptApi)}).finally(()=>{setTimeout(()=>{},600)})}CboEstadoCancel(o){console.log("CboEstadoCancel",o)}CboEstadoBlur(o){console.log("CboEstadoBlur",o)}ngOnInit(){}ionViewDidEnter(){this.prodservice.ListFindSolicitudQcByOf("",this.FormHtmlJs.idofpterminado,this.id_usuario_local,this.id_dispositivo).then(o=>{console.log(o),this.DsGridSolicitudQc=o,this.CantEntregasCalidad=this.DsGridSolicitudQc.length}).finally(()=>{}),this.prodservice.ListFindHojaRuta("",this.FormHtmlJs.idofpterminado,this.id_usuario_local,this.id_dispositivo).then(o=>{console.log(o),this.DsGridHojaRuta=o,this.CantItemsHojaRuta=this.DsGridHojaRuta.length}).finally(()=>{})}FDejarCalidad(){this.navCtrl.navigateForward(["prod-ate-serv-dejar-pieza-calidad"],{state:this.FormHtmlJs})}showDetailCalidad(o){this.navCtrl.navigateForward(["prod-ate-serv-view-dejar-pieza-calidad"],{state:o})}cboEstadoSelect(){}visualizar_pdf(o){this.navCtrl.navigateForward("pdf-viewer",{queryParams:{valor:o,flaglistaprod:1}})}}return(s=r).\u0275fac=function(o){return new(o||s)(i.Y36(p.F0),i.Y36(v.Z),i.Y36(A.K),i.Y36(P.SH),i.Y36(e.Br))},s.\u0275cmp=i.Xpm({type:s,selectors:[["app-prod-ate-serv-asigna-estado"]],standalone:!0,features:[i.jDz],decls:72,vars:14,consts:[["mode","ios"],["text-capitalize",""],["slot","start"],["defaultHref","prod-list-acti-programada",3,"text"],["color","secondary"],["size-sm","1","size-md","1","size-xl","1",1,"headgrid"],["size-sm","2","size-md","2","size-xl","2",1,"headgrid"],[4,"ngFor","ngForOf"],["expand","block","color","white","size","small","slot","end","title","Iniciar Actividad",3,"click"],["color","danger"],["expand","block","color","dark","size","small","name","play-forward",3,"hidden"],[4,"ngIf"],[3,"value"],["size","default",3,"click"],["slot","start","name","star"],["mode","ios","button","",2,"width","100% !important"],["size-sm","1","size-md","1","size-xl","1"],["size-sm","2.2","size-md","2.2","size-xl","2.2"],["size-sm","2","size-md","2","size-xl","2"],["color","warning","size","small",3,"click",4,"ngIf"],["color","warning","size","small",3,"click"],[1,"ion-text-left",2,"width","100%"],["size","3",1,"ion-text-right"],["size","3",1,"ion-text-left"],["size","10"],["expand","full","color","white","title","Dejar en Calidad",2,"background-color","transparent !important",3,"click"],["color","dark"],["size","2"],["color","dark","size","small","name","cart"],["size-sm","4","size-md","4","size-xl","4",1,"headgrid"],["size-sm","5","size-md","5","size-xl","5",1,"headgrid"],["size-sm","3","size-md","3","size-xl","3",1,"headgrid"],["mode","ios","button","",2,"width","100% !important",3,"click"],["size-sm","4","size-md","4","size-xl","4"],["size-sm","5","size-md","5","size-xl","5"],["size-sm","3","size-md","3","size-xl","3"]],template:function(o,a){1&o&&(i.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title",1),i._uU(3,"Asignar Estado"),i.qZA(),i.TgZ(4,"ion-buttons",2),i._UZ(5,"ion-back-button",3),i.qZA()()(),i.TgZ(6,"ion-content")(7,"ion-list")(8,"ion-item")(9,"ion-label"),i._uU(10," Hoja de Ruta "),i.TgZ(11,"ion-chip")(12,"ion-label",4),i._uU(13),i.qZA()()()(),i.TgZ(14,"ion-item")(15,"ion-grid")(16,"ion-row")(17,"ion-col",5),i._uU(18,"Secuencia "),i.qZA(),i.TgZ(19,"ion-col",5),i._uU(20,"Maquina"),i.qZA(),i.TgZ(21,"ion-col",6),i._uU(22,"Descripcion"),i.qZA(),i.TgZ(23,"ion-col",6),i._uU(24,"Cant Piezas"),i.qZA(),i.TgZ(25,"ion-col",6),i._uU(26,"Estado"),i.qZA(),i.TgZ(27,"ion-col",6),i._uU(28,"Piezas Revisadas"),i.qZA(),i.TgZ(29,"ion-col",6),i._uU(30,"Acciones"),i.qZA()(),i.YNc(31,f,15,7,"ion-row",7),i.qZA()(),i.TgZ(32,"ion-item")(33,"ion-label")(34,"p"),i._uU(35,"Maquina"),i.qZA(),i.TgZ(36,"h1"),i._uU(37),i.qZA()(),i.TgZ(38,"ion-button",8),i.NdJ("click",function(){return a.FIniciarActvividad(0)}),i.TgZ(39,"ion-text",9),i._uU(40,"\xa0Iniciar Actividad \xa0"),i.qZA(),i._UZ(41,"ion-icon",10),i.qZA()(),i.YNc(42,F,12,7,"ion-item",11),i.TgZ(43,"ion-item")(44,"ion-label")(45,"p"),i._uU(46,"Centro de Costos"),i.qZA(),i.TgZ(47,"h1"),i._uU(48),i.qZA()()(),i.TgZ(49,"ion-item")(50,"ion-label")(51,"p"),i._uU(52,"F. Asignado"),i.qZA(),i.TgZ(53,"h1"),i._uU(54),i.qZA()()(),i.TgZ(55,"ion-item")(56,"ion-label")(57,"p"),i._uU(58),i.qZA(),i.TgZ(59,"h1"),i._uU(60),i.qZA()()(),i.TgZ(61,"ion-item")(62,"ion-label")(63,"p"),i._uU(64,"Cod. P.T."),i.qZA(),i._UZ(65,"input",12),i.TgZ(66,"ion-button",13),i.NdJ("click",function(){return a.visualizar_pdf(a.FormHtmlJs.plano_diseno)}),i._UZ(67,"ion-icon",14),i._uU(68," Ver Plano "),i.qZA()()(),i.YNc(69,C,11,0,"ion-item",11)(70,E,6,1,"ion-item",11)(71,J,10,1,"ion-item",11),i.qZA()()),2&o&&(i.xp6(5),i.Q6J("text",a.Cancelar),i.xp6(8),i.hij(" ",a.CantItemsHojaRuta," "),i.xp6(18),i.Q6J("ngForOf",a.DsGridHojaRuta),i.xp6(6),i.Oqu(a.FormHtmlJs.maquina),i.xp6(4),i.Q6J("hidden",a.scanActive),i.xp6(1),i.Q6J("ngIf",a.hide_div_reproceso),i.xp6(6),i.Oqu(a.FormHtmlJs.EQUIPOID),i.xp6(6),i.Oqu(a.FormHtmlJs.fasignado),i.xp6(4),i.hij("Nro. ",a.FormHtmlJs.avatar,""),i.xp6(2),i.Oqu(a.FormHtmlJs.correorden),i.xp6(5),i.s9C("value",a.FormHtmlJs.Y04001),i.xp6(4),i.Q6J("ngIf",a.FlagCCalidad),i.xp6(1),i.Q6J("ngIf",a.FlagCCalidad),i.xp6(1),i.Q6J("ngIf",a.FlagCCalidad))},dependencies:[e.Pc,e.YG,e.Sm,e.hM,e.wI,e.W2,e.jY,e.Gu,e.gu,e.Ie,e.Q$,e.q_,e.Nd,e.yW,e.wd,e.sr,e.oU,m.ez,m.sg,m.O5,h.u5],styles:[".selector[_ngcontent-%COMP%]{font-family:SFNSDisplay;font-size:12px;line-height:1.2;letter-spacing:.1px;color:#29235e;width:100%!important;max-width:100%!important;justify-content:center;border:solid 2px #e8ebf0;background-color:#fff;text-align:center}.CssReproceso[_ngcontent-%COMP%]{color:#b52024!important;font-size:large}"]}),r})()}}]);