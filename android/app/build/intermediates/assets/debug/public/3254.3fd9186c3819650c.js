"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3254],{3254:(de,I,f)=>{f.r(I),f.d(I,{AddserviciostodetPage:()=>ce});var v=f(5861),C=f(6814),D=f(95),u=f(6728),x=f(6608),M=f(4571),S=f(1811),T=f(190),w=f(1383),Z=f(1246),q=f(5334),z=f(8736),e=f(6242),y=f(5472),E=f(6919),k=f(6485),U=f(2014),b=f(4248);const O=["idInputSearch"],N=["idinputsearch_equipo"];function F(n,h){if(1&n){const s=e.EpF();e.TgZ(0,"ion-row",11)(1,"ion-col",12),e._uU(2," C\xf3digo Q.R.: "),e.qZA(),e.TgZ(3,"ion-col",33)(4,"ion-input",34),e.NdJ("ngModelChange",function(t){e.CHM(s);const o=e.oxw().$implicit;return e.KtG(o.codigo_qr=t)})("click",function(){e.CHM(s);const t=e.oxw().index,o=e.oxw();return e.KtG(o.FOpenPopUpQrByOf(t))}),e.qZA(),e._UZ(5,"div"),e.qZA(),e.TgZ(6,"ion-col",35)(7,"ion-button",36),e.NdJ("click",function(){e.CHM(s);const t=e.oxw().index,o=e.oxw();return e.KtG(o.FOpenPopUpQrByOf(t))}),e.TgZ(8,"ion-text",37),e._uU(9,"Abrir"),e.qZA(),e._UZ(10,"ion-icon",38),e.qZA()()()}if(2&n){const s=e.oxw().$implicit,i=e.oxw();e.xp6(4),e.Tol(i.ClassNotiPieza),e.Q6J("ngModel",s.codigo_qr),e.uIk("disabled",i.readonly_qr),e.xp6(1),e.Tol(i.ClassNotiPieza),e.xp6(2),e.Q6J("hidden",i.scanActive)}}function J(n,h){if(1&n){const s=e.EpF();e.TgZ(0,"ion-row",11)(1,"ion-col",39)(2,"ion-label",40),e._uU(3,"Pieza P.T. "),e.TgZ(4,"p")(5,"font",41),e._uU(6,"(referencial):"),e.qZA()()()(),e.TgZ(7,"ion-col",13)(8,"ion-input",42),e.NdJ("ngModelChange",function(t){e.CHM(s);const o=e.oxw().$implicit;return e.KtG(o.nomclase_pt=t)}),e.qZA()()()}if(2&n){const s=e.oxw().$implicit;e.xp6(8),e.s9C("value",s.nomclase_pt),e.Q6J("ngModel",s.nomclase_pt)}}function Q(n,h){if(1&n&&(e.TgZ(0,"ion-row",11)(1,"ion-col",43)(2,"ion-row")(3,"ion-col",44),e._uU(4,"Actividad:"),e.qZA(),e.TgZ(5,"ion-col",45)(6,"div"),e._uU(7,"por Reproceso"),e.qZA()(),e.TgZ(8,"ion-col",44),e._uU(9," F. Revision: "),e.qZA(),e.TgZ(10,"ion-col",45)(11,"div"),e._uU(12),e.qZA()()()()()),2&n){const s=e.oxw().$implicit,i=e.oxw();e.xp6(6),e.Tol(i.CssReproceso),e.xp6(5),e.Tol(i.CssReproceso),e.xp6(1),e.Oqu(s.fecha_reproceso)}}function H(n,h){if(1&n){const s=e.EpF();e.TgZ(0,"ion-row",11)(1,"ion-col",12),e._uU(2,"Clase: "),e.qZA(),e.TgZ(3,"ion-col",13)(4,"ion-item")(5,"ion-searchbar",46),e.NdJ("click",function(){e.CHM(s);const t=e.oxw().index,o=e.oxw();return e.KtG(o.FOpenPopUpClaseByPieza(t))})("ngModelChange",function(t){e.CHM(s);const o=e.oxw().$implicit;return e.KtG(o.nomsubfam=t)}),e.qZA()(),e._UZ(6,"div"),e.qZA()()}if(2&n){const s=e.oxw().$implicit,i=e.oxw();e.xp6(5),e.s9C("value",s.nomsubfam),e.Q6J("ngModel",s.nomsubfam),e.xp6(1),e.Tol(i.CssNotiPieza)}}function Y(n,h){if(1&n){const s=e.EpF();e.TgZ(0,"ion-row",11)(1,"ion-col",12),e._uU(2,"Pieza Servicio: "),e.qZA(),e.TgZ(3,"ion-col",33)(4,"ion-item")(5,"ion-searchbar",47),e.NdJ("click",function(){e.CHM(s);const t=e.oxw().index,o=e.oxw();return e.KtG(o.FOpenModalPieza(t))})("ngModelChange",function(t){e.CHM(s);const o=e.oxw().$implicit;return e.KtG(o.nomclase=t)}),e.qZA()(),e._UZ(6,"div"),e.qZA(),e.TgZ(7,"ion-col",35)(8,"ion-button",36),e.NdJ("click",function(){e.CHM(s);const t=e.oxw().index,o=e.oxw();return e.KtG(o.limpiar_cbo_pieza(t))}),e.TgZ(9,"ion-text",37),e._uU(10,"Limpiar"),e.qZA(),e._UZ(11,"ion-icon",48),e.qZA()()()}if(2&n){const s=e.oxw().$implicit,i=e.oxw();e.xp6(5),e.s9C("value",s.nomclase),e.Q6J("ngModel",s.nomclase),e.xp6(1),e.Tol(i.CssNotiPieza),e.xp6(2),e.Q6J("hidden",i.scanActive)}}function K(n,h){if(1&n){const s=e.EpF();e.TgZ(0,"ion-row",11)(1,"ion-col",12),e._uU(2," Orden de Fabricaci\xf3n: "),e.qZA(),e.TgZ(3,"ion-col",13)(4,"ion-item")(5,"ion-searchbar",49),e.NdJ("click",function(){e.CHM(s);const t=e.oxw().index,o=e.oxw();return e.KtG(o.FOpenPopUpOfByClase(t))})("ngModelChange",function(t){e.CHM(s);const o=e.oxw().$implicit;return e.KtG(o.correorden=t)}),e.qZA()()()()}if(2&n){const s=e.oxw().$implicit;e.xp6(5),e.s9C("value",s.correorden),e.Q6J("ngModel",s.correorden)}}function B(n,h){if(1&n){const s=e.EpF();e.TgZ(0,"ion-row",11)(1,"ion-col",12),e._uU(2," Descripci\xf3n de Versi\xf3n: "),e.qZA(),e.TgZ(3,"ion-col",13)(4,"ion-input",50),e.NdJ("ngModelChange",function(t){e.CHM(s);const o=e.oxw().$implicit;return e.KtG(o.descripcion_pt=t)}),e.qZA()()()}if(2&n){const s=e.oxw().$implicit;e.xp6(4),e.s9C("value",s.descripcion_pt),e.Q6J("ngModel",s.descripcion_pt)}}function G(n,h){if(1&n){const s=e.EpF();e.TgZ(0,"ion-row",11)(1,"ion-col",12),e._uU(2," Codigo de Bomba: "),e.qZA(),e.TgZ(3,"ion-col",13)(4,"ion-input",51),e.NdJ("ngModelChange",function(t){e.CHM(s);const o=e.oxw().$implicit;return e.KtG(o.codsmg=t)})("click",function(){e.CHM(s);const t=e.oxw(2);return e.KtG(t.open_popup_equipos())}),e.qZA()()()}if(2&n){const s=e.oxw().$implicit;e.xp6(4),e.s9C("value",s.codsmg),e.Q6J("ngModel",s.codsmg)}}function $(n,h){if(1&n&&(e.TgZ(0,"ion-select-option",52),e._uU(1),e.qZA()),2&n){const s=h.$implicit;e.Q6J("value",s.codigo),e.xp6(1),e.hij("",s.nombre," ")}}function L(n,h){if(1&n&&(e.TgZ(0,"ion-select-option",52),e._uU(1),e.qZA()),2&n){const s=h.$implicit;e.Q6J("value",s.codigo),e.xp6(1),e.hij("",s.nombre," ")}}function W(n,h){if(1&n&&(e.TgZ(0,"ion-select-option",52),e._uU(1),e.qZA()),2&n){const s=h.$implicit;e.Q6J("value",s.idsubprocesosxservicio),e.xp6(1),e.hij("",s.nombre_proceso," ")}}function V(n,h){if(1&n){const s=e.EpF();e.TgZ(0,"ion-row",11)(1,"ion-col",12),e._uU(2,"Tipo Proceso: "),e.qZA(),e.TgZ(3,"ion-col",26)(4,"ion-select",53),e.NdJ("ionChange",function(t){e.CHM(s);const o=e.oxw().index,a=e.oxw();return e.KtG(a.select_change_proceso(t,o))})("ngModelChange",function(t){e.CHM(s);const o=e.oxw().$implicit;return e.KtG(o.idproceso=t)}),e.YNc(5,W,2,2,"ion-select-option",21),e.qZA(),e._UZ(6,"div"),e.qZA()()}if(2&n){const s=e.oxw().$implicit,i=e.oxw();e.xp6(4),e.Q6J("selectedText",s.proceso)("ngModel",s.idproceso),e.xp6(1),e.Q6J("ngForOf",i.rest_subprocesos),e.xp6(1),e.Tol(i.CssNotiProceso)}}function j(n,h){if(1&n&&(e.TgZ(0,"ion-select-option",52),e._uU(1),e.qZA()),2&n){const s=h.$implicit;e.Q6J("value",s.codigo),e.xp6(1),e.hij(" ",s.nombre," ")}}function R(n,h){if(1&n){const s=e.EpF();e.TgZ(0,"ion-row",11)(1,"ion-col",12),e._uU(2,"Tipo Proceso *: "),e.qZA(),e.TgZ(3,"ion-col",26)(4,"ion-select",54),e.NdJ("ionChange",function(t){e.CHM(s);const o=e.oxw().index,a=e.oxw();return e.KtG(a.select_change_proceso_metalizado(t,o))})("ngModelChange",function(t){e.CHM(s);const o=e.oxw().$implicit;return e.KtG(o.idproceso_metalizado_ofd=t)}),e.YNc(5,j,2,2,"ion-select-option",21),e.qZA(),e._UZ(6,"div"),e.qZA()()}if(2&n){const s=e.oxw().$implicit,i=e.oxw();e.xp6(4),e.Q6J("selectedText",s.proceso_metalizado)("ngModel",s.idproceso_metalizado_ofd),e.xp6(1),e.Q6J("ngForOf",i.rest_proceso_metalizado),e.xp6(1),e.Tol(i.CssNotiProcesoMetalizado)}}function X(n,h){if(1&n&&(e.TgZ(0,"ion-select-option",52),e._uU(1),e.qZA()),2&n){const s=h.$implicit;e.Q6J("value",s.SEQMASERV),e.xp6(1),e.hij(" ",s.Y04002," ")}}function ee(n,h){if(1&n){const s=e.EpF();e.TgZ(0,"ion-row",11)(1,"ion-col",12),e._uU(2,"Servicio Metalizado: "),e.qZA(),e.TgZ(3,"ion-col",26)(4,"ion-select",55),e.NdJ("ionChange",function(t){e.CHM(s);const o=e.oxw().index,a=e.oxw();return e.KtG(a.select_change_servicio_metalizado(t,o))})("ngModelChange",function(t){e.CHM(s);const o=e.oxw().$implicit;return e.KtG(o.idservicio_metalizado_ofd=t)}),e.YNc(5,X,2,2,"ion-select-option",21),e.qZA(),e._UZ(6,"div"),e.qZA()()}if(2&n){const s=e.oxw().$implicit,i=e.oxw();e.xp6(4),e.Q6J("selectedText",s.servicio_metalizado)("ngModel",s.idservicio_metalizado_ofd),e.xp6(1),e.Q6J("ngForOf",i.rest_servicio_metalizado),e.xp6(1),e.Tol(i.CssNotiServicioMetalizado)}}function te(n,h){if(1&n){const s=e.EpF();e.TgZ(0,"ion-row",11)(1,"ion-col",12),e._uU(2,"N. Metalizados Observados: "),e.qZA(),e.TgZ(3,"ion-col",26)(4,"ion-item")(5,"ion-input",56),e.NdJ("ngModelChange",function(t){e.CHM(s);const o=e.oxw().$implicit;return e.KtG(o.cnt_metalizado_obs=t)}),e.qZA()(),e._UZ(6,"div"),e.qZA()()}if(2&n){const s=e.oxw().$implicit,i=e.oxw();e.xp6(5),e.Q6J("ngModel",s.cnt_metalizado_obs),e.xp6(1),e.Tol(i.CssNotiServicioObservados)}}function ie(n,h){if(1&n){const s=e.EpF();e.TgZ(0,"ion-row",11)(1,"ion-col",12),e._uU(2,"MRTACERAM 29012 Peso Inicial(g): "),e.qZA(),e.TgZ(3,"ion-col",26)(4,"ion-item")(5,"ion-input",56),e.NdJ("ngModelChange",function(t){e.CHM(s);const o=e.oxw().$implicit;return e.KtG(o.cnt_29012_peso_ini=t)}),e.qZA()(),e._UZ(6,"div"),e.qZA()()}if(2&n){const s=e.oxw().$implicit,i=e.oxw();e.xp6(5),e.Q6J("ngModel",s.cnt_29012_peso_ini),e.xp6(1),e.Tol(i.CssNotiServicioPesoIni)}}function oe(n,h){if(1&n){const s=e.EpF();e.TgZ(0,"ion-row",11)(1,"ion-col",12),e._uU(2,"ULTRABON 50000 Peso Inicial(g): "),e.qZA(),e.TgZ(3,"ion-col",26)(4,"ion-item")(5,"ion-input",56),e.NdJ("ngModelChange",function(t){e.CHM(s);const o=e.oxw().$implicit;return e.KtG(o.cnt_50000_peso_ini=t)}),e.qZA()(),e._UZ(6,"div"),e.qZA()()}if(2&n){const s=e.oxw().$implicit,i=e.oxw();e.xp6(5),e.Q6J("ngModel",s.cnt_50000_peso_ini),e.xp6(1),e.Tol(i.CssNotiServicio500PesoInicial)}}const P=()=>({standalone:!0});function se(n,h){if(1&n){const s=e.EpF();e.TgZ(0,"ion-datetime",60),e.NdJ("ngModelChange",function(t){e.CHM(s);const o=e.oxw(3);return e.KtG(o.fechainicio_prod=t)})("ionChange",function(t){e.CHM(s);const o=e.oxw(3);return e.KtG(o.onFechaChangeInicio(t))}),e.qZA()}if(2&n){const s=e.oxw(3);e.Q6J("preferWheel",!0)("showDefaultButtons",!0)("ngModel",s.fechainicio_prod)("ngModelOptions",e.DdM(4,P))}}function re(n,h){1&n&&(e.TgZ(0,"ion-item")(1,"ion-col",57),e._uU(2,"Fecha y Hora de Inicio:"),e.qZA(),e._UZ(3,"ion-datetime-button",58),e.TgZ(4,"ion-popover",59),e.YNc(5,se,1,5,"ng-template"),e.qZA()()),2&n&&(e.xp6(4),e.Q6J("keepContentsMounted",!0))}function ae(n,h){if(1&n){const s=e.EpF();e.TgZ(0,"ion-datetime",62),e.NdJ("ngModelChange",function(t){e.CHM(s);const o=e.oxw(3);return e.KtG(o.fechafin_prod=t)})("ionChange",function(t){e.CHM(s);const o=e.oxw(3);return e.KtG(o.onFechaChangeFin(t))}),e.qZA()}if(2&n){const s=e.oxw(3);e.Q6J("preferWheel",!0)("showDefaultButtons",!0)("ngModel",s.fechafin_prod)("ngModelOptions",e.DdM(4,P))}}function ne(n,h){1&n&&(e.TgZ(0,"ion-item")(1,"ion-col",57),e._uU(2,"Fecha y Hora de Fin:"),e.qZA(),e._UZ(3,"ion-datetime-button",61),e.TgZ(4,"ion-popover",59),e.YNc(5,ae,1,5,"ng-template"),e.qZA()()),2&n&&(e.xp6(4),e.Q6J("keepContentsMounted",!0))}function le(n,h){if(1&n){const s=e.EpF();e.TgZ(0,"ion-list")(1,"ion-item",5)(2,"ion-grid",5)(3,"ion-row",11)(4,"ion-col",12),e._uU(5," OF/OT* \xa0:"),e.qZA(),e.TgZ(6,"ion-col",13)(7,"ion-segment",14),e.NdJ("ionChange",function(t){const o=e.CHM(s),a=o.index,l=o.$implicit,d=e.oxw();return e.KtG(d.segmento_cambiado(t,0,a,0,l.avatar))})("ngModelChange",function(t){const a=e.CHM(s).$implicit;return e.KtG(a.actividad=t)}),e.TgZ(8,"ion-segment-button",15)(9,"ion-label"),e._uU(10,"Servicios"),e.qZA()(),e.TgZ(11,"ion-segment-button",16)(12,"ion-label"),e._uU(13,"Repuestos"),e.qZA()(),e.TgZ(14,"ion-segment-button",17)(15,"ion-label"),e._uU(16,"Bomba"),e.qZA()(),e.TgZ(17,"ion-segment-button",18)(18,"ion-label"),e._uU(19,"Taller"),e.qZA()()()()(),e.TgZ(20,"ion-row",11)(21,"ion-col")(22,"ion-grid"),e.YNc(23,F,11,9,"ion-row",19)(24,J,9,2,"ion-row",19)(25,Q,13,7,"ion-row",19)(26,H,7,5,"ion-row",19)(27,Y,12,6,"ion-row",19)(28,K,6,2,"ion-row",19)(29,B,5,2,"ion-row",19)(30,G,5,2,"ion-row",19),e.TgZ(31,"ion-row",11)(32,"ion-col",12),e._uU(33," Material: "),e.qZA(),e.TgZ(34,"ion-col",13)(35,"ion-select",20),e.NdJ("ionChange",function(t){const a=e.CHM(s).index,l=e.oxw();return e.KtG(l.select_change_material(t,a))})("ngModelChange",function(t){const a=e.CHM(s).$implicit;return e.KtG(a.idmaterial=t)}),e.YNc(36,$,2,2,"ion-select-option",21),e.qZA(),e._UZ(37,"div"),e.qZA()(),e.TgZ(38,"ion-row",11)(39,"ion-col",12),e._uU(40," Tecnico: "),e.qZA(),e.TgZ(41,"ion-col",13)(42,"ion-item")(43,"ion-searchbar",22),e.NdJ("click",function(){const o=e.CHM(s).index,a=e.oxw();return e.KtG(a.FOpenModalTecnico(o))})("ngModelChange",function(t){const a=e.CHM(s).$implicit;return e.KtG(a.nombres_tecnico=t)}),e.qZA()(),e._UZ(44,"div"),e.qZA()(),e.TgZ(45,"ion-row",11)(46,"ion-col",12),e._uU(47,"Tipo de Registro:"),e.qZA(),e.TgZ(48,"ion-col",13)(49,"ion-item")(50,"ion-searchbar",23),e.NdJ("click",function(){const o=e.CHM(s).index,a=e.oxw();return e.KtG(a.FOpenModalTipoRegistro(o))})("ngModelChange",function(t){const a=e.CHM(s).$implicit;return e.KtG(a.nombres_tecnico=t)}),e.qZA()(),e._UZ(51,"div"),e.qZA()(),e.TgZ(52,"ion-row",11)(53,"ion-col",24),e._uU(54,"Maquina:"),e.qZA(),e.TgZ(55,"ion-col",13)(56,"ion-select",25),e.NdJ("ionChange",function(t){const a=e.CHM(s).index,l=e.oxw();return e.KtG(l.select_change_maquina(t,a))})("ngModelChange",function(t){const a=e.CHM(s).$implicit;return e.KtG(a.idmaquina=t)}),e.YNc(57,L,2,2,"ion-select-option",21),e.qZA(),e._UZ(58,"div"),e.qZA()()()()(),e.TgZ(59,"ion-row",11)(60,"ion-col",12),e._uU(61,"Servicio: "),e.qZA(),e.TgZ(62,"ion-col",26)(63,"ion-item")(64,"ion-searchbar",27),e.NdJ("click",function(){const o=e.CHM(s).index,a=e.oxw();return e.KtG(a.open_popup_servicios(o))})("ngModelChange",function(t){const a=e.CHM(s).$implicit;return e.KtG(a.Y04002=t)}),e.qZA()(),e._UZ(65,"div"),e.qZA()(),e.YNc(66,V,7,6,"ion-row",19)(67,R,7,6,"ion-row",19)(68,ee,7,6,"ion-row",19)(69,te,7,4,"ion-row",19)(70,ie,7,4,"ion-row",19)(71,oe,7,4,"ion-row",19),e.TgZ(72,"ion-row",28)(73,"ion-col",12),e._uU(74," Cantidad: "),e.qZA(),e.TgZ(75,"ion-col",13)(76,"ion-item")(77,"ion-input",29),e.NdJ("ngModelChange",function(t){const a=e.CHM(s).$implicit;return e.KtG(a.cantidad=t)}),e.qZA()()()(),e.TgZ(78,"ion-row",28)(79,"ion-col",12),e._uU(80," Tiempo Estandar: "),e.qZA(),e.TgZ(81,"ion-col",13)(82,"ion-item")(83,"ion-input",30),e.NdJ("ngModelChange",function(t){const a=e.CHM(s).$implicit;return e.KtG(a.tiempo_estandar=t)}),e.qZA()()()(),e.TgZ(84,"ion-row",28)(85,"ion-col",13),e.YNc(86,re,6,1,"ion-item",31),e.qZA(),e.TgZ(87,"ion-col",13),e.YNc(88,ne,6,1,"ion-item",31),e.qZA()()()(),e.TgZ(89,"ion-input",32),e.NdJ("ngModelChange",function(t){const a=e.CHM(s).$implicit;return e.KtG(a.id_personal=t)}),e.qZA()()}if(2&n){const s=h.$implicit,i=h.index,t=e.oxw();e.Udp("--background",t.scanActive?"#00000000":"#fff"),e.xp6(1),e.Q6J("hidden",t.scanActive),e.xp6(1),e.Q6J("hidden",t.scanActive),e.xp6(5),e.Q6J("ngModel",s.actividad),e.xp6(16),e.Q6J("ngIf",t.hide_div_equipo[i]),e.xp6(1),e.Q6J("ngIf",t.hide_div_equipo[i]),e.xp6(1),e.Q6J("ngIf",t.hide_div_reproceso),e.xp6(1),e.Q6J("ngIf",t.hide_div_pt[i]),e.xp6(1),e.Q6J("ngIf",t.hide_div_serv[i]),e.xp6(1),e.Q6J("ngIf",t.hide_div_pt[i]),e.xp6(1),e.Q6J("ngIf",t.hide_div_pt[i]),e.xp6(1),e.Q6J("ngIf",t.hide_div_equipo[i]),e.xp6(5),e.Q6J("selectedText",s.material)("ngModel",s.idmaterial),e.xp6(1),e.Q6J("ngForOf",t.rest_material),e.xp6(1),e.Tol(t.CssNotiMaterial),e.xp6(6),e.s9C("value",s.nombres_tecnico),e.Q6J("ngModel",s.nombres_tecnico),e.xp6(1),e.Tol(t.CssNotiTenico),e.xp6(6),e.s9C("value",s.nombres_tecnico),e.Q6J("ngModel",s.nombres_tecnico),e.xp6(1),e.Tol(t.CssNotiTenico),e.xp6(5),e.Q6J("selectedText",s.maquina)("ngModel",s.idmaquina),e.xp6(1),e.Q6J("ngForOf",t.rest_maquina),e.xp6(1),e.Tol(t.CssNotiMaquina),e.xp6(6),e.s9C("value",s.Y04002),e.Q6J("ngModel",s.Y04002),e.xp6(1),e.Tol(t.CssNotiServicio),e.xp6(1),e.Q6J("ngIf",t.hide_div_proceso[i]),e.xp6(1),e.Q6J("ngIf",t.hide_div_metalizado[i]),e.xp6(1),e.Q6J("ngIf",t.hide_div_metalizado[i]),e.xp6(1),e.Q6J("ngIf",t.hide_div_metalizado[i]),e.xp6(1),e.Q6J("ngIf",t.hide_div_metalizado[i]),e.xp6(1),e.Q6J("ngIf",t.hide_div_metalizado[i]),e.xp6(6),e.s9C("value",s.cantidad),e.Q6J("ngModel",s.cantidad),e.xp6(6),e.s9C("value",s.tiempo_estandar),e.Q6J("ngModel",s.tiempo_estandar),e.xp6(3),e.Q6J("ngIf",t.ItemVisibleFechaHora),e.xp6(2),e.Q6J("ngIf",t.ItemVisibleFechaHora),e.xp6(1),e.Q6J("ngModel",s.id_personal)}}let ce=(()=>{var n;class h{constructor(i,t,o,a,l,d,g,m,p,_){let r;this.navCtrl=i,this.loadingController=t,this.serviceProduccion=o,this.ApiServices=a,this.storage=l,this.route=d,this.router=g,this.alertController=m,this.modalCtrl=p,this.platform=_,this.IdFromModule=0,this.flg_from_que_windows="",this.i_row=-1,this.avatar_tv="",this.idtablet_="",this.ArrayItemsSelectedDesti=[],this.searchTerm="",this.search_term_equipo="",this.selected_equipo="",this.hide_div_equipo=[!1],this.hide_div_pt=[!1],this.hide_div_serv=[!1],this.hide_div_proceso=[!1],this.hide_div_metalizado=[!1],this.switchButtonSegmento="",this.ItemsSelectedServ="array_selected_det_np",this.ItemVisibleFechaHora=!0,this.scanActive=!1,this.hide_div_reproceso=!1,this.Cancelar="Cancelar",this.ClassNotiPieza="",document.addEventListener("backbutton",function(c){console.log("disable back button")},!0),this.platform.backButton.subscribeWithPriority(10,()=>{this.alertController.create({header:"Vales de Servicios",cssClass:"success",subHeader:"",mode:"ios",message:"No usar esta opcion para salir.",buttons:[{text:"Aceptar",cssClass:"bgcolor:danger",handler:()=>{}}]}).then(A=>{A.present()})}),this.storage.get("USER_INFO").then(c=>{r=c,this.NombresUsuarioLocal=r.user_name,this.IdUsuarioLocal=r.user_id,this.ArrayItemsSelectedDesti[0].nombres_tecnico=r.user_name,this.ArrayItemsSelectedDesti[0].id_personal=r.user_id}),this.storage.get("DEVICE_INFO").then(c=>{r=c,this.NombreDispositivo=r.name,this.IdDispositivo=r.uuid}),this.navParams=this.router.getCurrentNavigation().extras.state,console.log("this.navParams:::::>",this.navParams),this.actividad=this.navParams.CONCOMPONENTE,console.log("ver actividad aquii:"),console.log(this.actividad),this.flagResumenDiario=this.navParams.flagResumenDiario,this.avatar_tv=this.navParams.nomAvatar,console.log("verificar el ultimo avatar"),console.log(this.navParams.nomAvatar),this.agregar_item_servicio(this.actividad),this.navParams&&void 0!==typeof this.actividad?(this.flg_from_que_windows=this.navParams.coloravatar,this.avatar_tv=this.navParams.avatar,this.readonly_qr=!0,this.ArrayItemsSelectedDesti[0].idofpterminado=this.navParams.idofpterminado,this.ArrayItemsSelectedDesti[0].EQUIPOID=this.navParams.EQUIPOID,this.ArrayItemsSelectedDesti[0].fasignado=this.navParams.fasignado,this.ArrayItemsSelectedDesti[0].avatar=this.navParams.avatar,this.ArrayItemsSelectedDesti[0].correorden=this.navParams.correorden,this.ArrayItemsSelectedDesti[0].descripcion_pt=this.navParams.descripcion_pt,this.ArrayItemsSelectedDesti[0].cantidad=this.navParams.cantidad,this.ArrayItemsSelectedDesti[0].idestado=this.navParams.idestado,this.ArrayItemsSelectedDesti[0].nomclase_pt=this.navParams.nomclase,this.ArrayItemsSelectedDesti[0].nomclase=this.navParams.nomclase,this.ArrayItemsSelectedDesti[0].idclase=this.navParams.idclase,this.ArrayItemsSelectedDesti[0].codigo_qr=this.navParams.codigo_qr,this.ArrayItemsSelectedDesti[0].codsmg=this.navParams.codsmg,this.ArrayItemsSelectedDesti[0].idclase_pt=this.navParams.idclase,this.ArrayItemsSelectedDesti[0].nomsubfam=this.navParams.nomsubfam,this.ArrayItemsSelectedDesti[0].idsubfamilia=this.navParams.idsubfamilia,this.ArrayItemsSelectedDesti[0].idmaquina=this.navParams.idmaquina,this.ArrayItemsSelectedDesti[0].maquina=this.navParams.maquina,this.ArrayItemsSelectedDesti[0].codigo_pt=this.navParams.codigo_pt,this.ArrayItemsSelectedDesti[0].actividad=this.actividad,this.ArrayItemsSelectedDesti[0].plano_diseno=this.navParams.plano_diseno,this.ArrayItemsSelectedDesti[0].material=this.navParams.material,this.ArrayItemsSelectedDesti[0].idmaterial=this.navParams.idmaterial,this.ArrayItemsSelectedDesti[0].Y04001=this.navParams.Y04001,this.ArrayItemsSelectedDesti[0].Y04002=this.navParams.Y04002,this.ArrayItemsSelectedDesti[0].SEQMASERV=this.navParams.SEQMASERV,this.CssReproceso=1==this.navParams.flag_reproceso?"CssReproceso":"",this.hide_div_reproceso=1==this.navParams.flag_reproceso,this.ArrayItemsSelectedDesti[0].fecha_reproceso=this.navParams.fecha_reproceso,this.ArrayItemsSelectedDesti[0].cantidad_reproceso=this.navParams.cantidad_reproceso,this.ArrayItemsSelectedDesti[0].idrevisiondet_reproceso=this.navParams.idrevisiondet_reproceso,this.ArrayItemsSelectedDesti[0].fechainicio_prod=this.navParams.fechainicio_prod,this.ArrayItemsSelectedDesti[0].flag_agregado=this.navParams.flag_agregado,this.ArrayItemsSelectedDesti[0].avatar=this.navParams.avatar,this.ArrayItemsSelectedDesti[0].tiempo_estandar=this.navParams.tiempo_estandar,this.ArrayItemsSelectedDesti[0].fechafin_prod=this.navParams.fechafin_prod,setTimeout(()=>{this.ItemVisibleFechaHora="1"===this.flagResumenDiario},1e3)):(this.readonly_qr=!1,console.log("this.readonly_qr:::",this.readonly_qr))}ngOnInit(){}ionViewDidEnter(){const i=new Date;console.log("Fecha Actual sin restar:"),console.log(i),console.log("Fecha Actual restando:"),console.log(i.setHours(i.getHours()-5)),this.fechainicio_prod=i.toISOString(),this.fechafin_prod=i.toISOString(),document.getElementById("datetime1").locale=Intl.DateTimeFormat().resolvedOptions().locale,this.load_cbos_pieza_material_maquina(),this.storage.get("DEVICE_INFO").then(o=>{this.id_device=o.uuid,console.log("this.id_device::>",this.id_device)})}ionViewWillLeave(){this.getBackButtonClick()}ionViewDidLeave(){}getBackButtonClick(){this.subscripcion=this.platform.backButton.subscribe(()=>{this.ClosingApp()})}ClosingApp(){var i=this;return(0,v.Z)(function*(){(yield i.alertController.create({header:"Confirm",message:"Message to confirm!!!",buttons:[{text:"OK",handler:()=>{i.exit()}},{text:"Cancel",role:"cancelar"}]})).present()})()}exit(){navigator.app.exitApp()}FOpenModalPieza(i){var t=this;return(0,v.Z)(function*(){let o,a,l,d,g,m,p=!1;for(const r of t.ArrayItemsSelectedDesti){if(console.log("::::::::::::::>>>>>>>>>>>"),console.log(t.ArrayItemsSelectedDesti),t.ArrayItemsSelectedDesti[i].index==i){"4"!=t.ArrayItemsSelectedDesti[i].actividad?(o=t.ArrayItemsSelectedDesti[i].nomclase,l=t.ArrayItemsSelectedDesti[i].actividad,d=t.ArrayItemsSelectedDesti[i].idsubfamilia,console.log("idsubfamilia_",d),m=t.ArrayItemsSelectedDesti[i].nomsubfam):o="",a=t.ArrayItemsSelectedDesti[i].avatar;break}i++}""==o&&(g=" Pieza",p=!0),""==t.IdDispositivo&&(g=" Tablet",p=!0);const _=yield t.modalCtrl.create({component:T.ProdAteServPopPiezaPage,backdropDismiss:!0,showBackdrop:!0,mode:"ios",componentProps:{index_p:t.i_row,nombre_pieza:o,idtablet:t.IdDispositivo,titulo_modal:"Lista de Piezas",id_actividad:l,idsubfamilia:d,nomsubfam:m}});return _.onDidDismiss().then(r=>{if(null!=r.data){t.dataReturned=r.data,console.log("dataReturned::206",r);let c=0;for(const A of t.ArrayItemsSelectedDesti){if(t.ArrayItemsSelectedDesti[c].index==t.i_row){t.ArrayItemsSelectedDesti[c].nomclase=r.data.nombres,t.ArrayItemsSelectedDesti[c].idclase=r.data.id,t.ArrayItemsSelectedDesti[c].idclase_pt=r.data.id,t.ArrayItemsSelectedDesti[c].idsubfamilia=r.data.idsubfamilia,t.ArrayItemsSelectedDesti[c].nomsubfam=r.data.nomsubfam,console.log(t.ArrayItemsSelectedDesti);break}c++}}}),yield _.present()})()}FOpenModalTecnico(i){var t=this;return(0,v.Z)(function*(){let o,a,l,g,m=!1;for(const _ of t.ArrayItemsSelectedDesti){if(t.ArrayItemsSelectedDesti[i].index==i){"4"!=t.ArrayItemsSelectedDesti[i].avatar?(o=t.ArrayItemsSelectedDesti[i].nombres_tecnico,l=t.ArrayItemsSelectedDesti[i].id_personal):o="0",a=t.ArrayItemsSelectedDesti[i].avatar;break}i++}""==o&&(g=" Pieza",m=!0),""==t.IdDispositivo&&(g=" Tablet",m=!0);const p=yield t.modalCtrl.create({component:S.ProdAteServPopPersonalPage,backdropDismiss:!0,showBackdrop:!0,mode:"ios",componentProps:{index_p:t.i_row,nombre_tecnico:o,idtablet:t.IdDispositivo,titulo_modal:"Lista de Tecnicos",id_personal:l}});return p.onDidDismiss().then(_=>{if(null!=_.data){t.dataReturned=_.data,console.log("dataReturned::206",_);let r=0;for(const c of t.ArrayItemsSelectedDesti){if(t.ArrayItemsSelectedDesti[r].index==t.i_row){t.ArrayItemsSelectedDesti[r].nombres_tecnico=_.data.nombres,t.ArrayItemsSelectedDesti[r].id_personal=_.data.id;break}r++}}}),yield p.present()})()}FOpenModalTipoRegistro(i){var t=this;return(0,v.Z)(function*(){let o,a,l,g,m=!1;for(const _ of t.ArrayItemsSelectedDesti){if(t.ArrayItemsSelectedDesti[i].index==i){"4"!=t.ArrayItemsSelectedDesti[i].avatar?(o=t.ArrayItemsSelectedDesti[i].nombres_tecnico,l=t.ArrayItemsSelectedDesti[i].id_personal):o="0",a=t.ArrayItemsSelectedDesti[i].avatar;break}i++}""==o&&(g=" Pieza",m=!0),""==t.IdDispositivo&&(g=" Tablet",m=!0);const p=yield t.modalCtrl.create({component:S.ProdAteServPopPersonalPage,backdropDismiss:!0,showBackdrop:!0,mode:"ios",componentProps:{index_p:t.i_row,nombre_tecnico:o,idtablet:t.IdDispositivo,titulo_modal:"Lista de Tipo de Registro",id_personal:l}});return p.onDidDismiss().then(_=>{if(null!=_.data){t.dataReturned=_.data,console.log("dataReturned::206",_);let r=0;for(const c of t.ArrayItemsSelectedDesti){if(t.ArrayItemsSelectedDesti[r].index==t.i_row){t.ArrayItemsSelectedDesti[r].nombres_tecnico=_.data.nombres,t.ArrayItemsSelectedDesti[r].id_personal=_.data.id;break}r++}}}),yield p.present()})()}select_change_material(i,t){console.log("select_change_material::",this.rest_pieza);for(const o of this.rest_material)console.log(this.ArrayItemsSelectedDesti[t].material),console.log(o.codigo,i.detail.value),o.codigo==i.detail.value&&(this.ArrayItemsSelectedDesti[t].material=o.nombre,this.ArrayItemsSelectedDesti[t].idmaterial=o.codigo,console.log(this.ArrayItemsSelectedDesti[t].material))}select_change_servicio_metalizado(i,t){for(const o of this.rest_servicio_metalizado)o.SEQMASERV==i.detail.value&&(this.ArrayItemsSelectedDesti[t].servicio_metalizado=o.Y04002,this.ArrayItemsSelectedDesti[t].idservicio_metalizado_ofd=o.SEQMASERV)}select_change_proceso_metalizado(i,t){for(const o of this.rest_proceso_metalizado)o.codigo==i.detail.value&&(this.ArrayItemsSelectedDesti[t].proceso_metalizado=o.nombre,this.ArrayItemsSelectedDesti[t].idproceso_metalizado_ofd=o.codigo)}select_change_proceso(i,t){for(const o of this.rest_subprocesos)o.idsubprocesosxservicio==i.detail.value&&(this.ArrayItemsSelectedDesti[t].proceso=o.nombre_proceso,this.ArrayItemsSelectedDesti[t].idproceso=o.idsubprocesosxservicio)}select_change_maquina(i,t){for(const o of this.rest_maquina)o.codigo==i.detail.value&&(this.ArrayItemsSelectedDesti[t].maquina=o.nombre,this.ArrayItemsSelectedDesti[t].idmaquina=o.codigo)}eliminar_item_servicio(i){this.alertSiNo=this.alertController.create({header:"Agregar Servicios",subHeader:"",mode:"ios",backdropDismiss:!0,cssClass:"alertHeader",message:"Confirmar que desea eliminar este item?",buttons:[{text:"Aceptar",cssClass:"alertButton",role:"A",handler:()=>{this.ArrayItemsSelectedDesti.splice(i,1)}},{text:"Cancelar",role:"F",handler:()=>{}}]}).then(t=>{t.present(),t.onDidDismiss().then(o=>{})})}agregar_item_servicio(i){this.i_row++,this.ArrayItemsSelectedDesti.push({index_i:0,index:this.i_row,cantidad:1,nrosolse_ot:"",fchvalesrv:"",SEQMASERV:"",Y04002:"",Y04001:"",codsmg:"",nombres:"",idtablet:this.IdDispositivo,idtecnico:"",imei:"",coloravatar:"",avatar:"",nombre_avatar:"",finicio_hvot_cab:"",ffin_hvot_cab:"",hora_finicio_hvot_cab:"",hora_ffin_hvot_cab:"",idhorasxvueltaotcab:"",nota_hvot:"",corre_hvot:"",nombres_ejecutor:"",ma00estado_nombre:"",resumen_Y04002:"",horas_ejecutadas:"",ma00estado_replicated:"",pieza_nombre:"",cntvueltas:0,marca_nombre:"",marca:"",potencia_nombre:"",potencia:"",tipo_nombre:"",tipo:"",actividad:i,proceso_metalizado:"",idproceso_metalizado_ofd:"",idservicio_metalizado_ofd:"",servicio_metalizado:"",cnt_metalizado_obs:0,cnt_29012_peso_ini:0,cnt_50000_peso_ini:0}),console.log("this.ArrayItemsSelectedDesti::>435",this.ArrayItemsSelectedDesti),this.segmento_cambiado({detail:{value:i}},0,0,i,this.avatar_tv)}cancelar_ejecucion(){this.navCtrl.navigateForward("prod-list-acti-programada")}FOpenPopUpClaseByPieza(i){var t=this;return(0,v.Z)(function*(){let o,a,l,d,g=!1;for(const p of t.ArrayItemsSelectedDesti){if(t.ArrayItemsSelectedDesti[i].index==i){o="4"!=t.ArrayItemsSelectedDesti[i].actividad?t.ArrayItemsSelectedDesti[i].idclase_pt:"0",a=t.ArrayItemsSelectedDesti[i].actividad,o=t.ArrayItemsSelectedDesti[i].idclase_pt,l=t.ArrayItemsSelectedDesti[i].nomsubfam;break}i++}if(""==o&&(d=" Pieza",g=!0),""==t.IdDispositivo&&(d=" Tablet",g=!0),console.log("this.ArrayItemsSelectedDesti[index].actividad::",t.ArrayItemsSelectedDesti[i].actividad),g&&"4"!=t.ArrayItemsSelectedDesti[i].actividad&&"1"!=t.ArrayItemsSelectedDesti[i].actividad)return void t.alertController.create({header:"Servicios No Programados",cssClass:"danger",subHeader:"",mode:"ios",message:"Seleccionar  "+d+", en el item: ("+(i+1)+")",buttons:[{text:"Aceptar",cssClass:"bgcolor:danger",handler:()=>{}}]}).then(_=>{_.present()});const m=yield t.modalCtrl.create({component:w.ProdAteServPopClasePage,backdropDismiss:!0,showBackdrop:!0,mode:"ios",componentProps:{index_p:t.i_row,idclase:o,idtablet:t.IdDispositivo,avatar:a}});return m.onDidDismiss().then(p=>{if(null!==p){t.dataReturned=p.data;let _=0;for(const r of t.ArrayItemsSelectedDesti){if(t.ArrayItemsSelectedDesti[_].index==t.i_row){t.ArrayItemsSelectedDesti[_].idsubfamilia=p.data.idsubfamilia,t.ArrayItemsSelectedDesti[_].nomsubfam=p.data.nomsubfam,console.log(t.ArrayItemsSelectedDesti);break}_++}}}),yield m.present()})()}FOpenPopUpQrByOf(i){var t=this;return(0,v.Z)(function*(){let o,a,l,d,g,m,p=!1;console.log("this.ArrayItemsSelectedDesti::>",t.ArrayItemsSelectedDesti);for(const r of t.ArrayItemsSelectedDesti){if(console.log("index",i),console.log(t.ArrayItemsSelectedDesti[i].index),t.ArrayItemsSelectedDesti[i].index==i){o="4"!=t.ArrayItemsSelectedDesti[i].actividad?t.ArrayItemsSelectedDesti[i].idsubfamilia:"0",a=t.ArrayItemsSelectedDesti[i].codigo_qr,l=t.ArrayItemsSelectedDesti[i].idordenfabricab,g=t.ArrayItemsSelectedDesti[i].idclase,m=t.ArrayItemsSelectedDesti[i].nomclase;break}i++}if(""==o&&(d=" Pieza",p=!0),""==t.IdDispositivo&&(d=" Tablet",p=!0),p&&"4"!=t.ArrayItemsSelectedDesti[i].actividad&&"1"!=t.ArrayItemsSelectedDesti[i].actividad)return void t.alertController.create({header:"Servicios No Programados",cssClass:"danger",subHeader:"",mode:"ios",message:"Seleccionar  "+d+", en el item: ("+(i+1)+")",buttons:[{text:"Aceptar",cssClass:"bgcolor:danger",handler:()=>{}}]}).then(c=>{c.present()});t.scanActive=!0;const _=yield t.modalCtrl.create({component:q.ProdAteServPopQrPage,backdropDismiss:!0,mode:"ios",cssClass:"ion_content_qr",componentProps:{index_p:t.i_row,idordenfabricab:l,codigo_qr:a,idclase:g,nomclase:m}});return _.onDidDismiss().then(r=>{if(null!==r){t.dataReturned=r.data;let c=0;for(const A of t.ArrayItemsSelectedDesti){if(t.ArrayItemsSelectedDesti[c].index==t.i_row){console.log(r.data),console.log(r.data.row),t.scanActive=!1,t.ArrayItemsSelectedDesti[c].idordenfabricab=r.data.row.idordenfabricab,t.ArrayItemsSelectedDesti[c].idofpterminado=r.data.row.idofpterminado,t.ArrayItemsSelectedDesti[c].EQUIPOID=r.data.row.EQUIPOID,t.ArrayItemsSelectedDesti[c].fasignado=r.data.row.fasignado,t.ArrayItemsSelectedDesti[c].avatar=r.data.row.avatar,t.ArrayItemsSelectedDesti[c].correorden=r.data.row.correorden,t.ArrayItemsSelectedDesti[c].descripcion_pt=r.data.row.descripcion_pt,t.ArrayItemsSelectedDesti[c].cantidad=r.data.row.cantidad,t.ArrayItemsSelectedDesti[c].idestado=r.data.row.idestado,t.ArrayItemsSelectedDesti[c].nomclase_pt=r.data.row.nomclase,t.ArrayItemsSelectedDesti[c].codigo_qr=r.data.row.codigo_qr,t.ArrayItemsSelectedDesti[c].codsmg=r.data.row.codsmg,t.ArrayItemsSelectedDesti[c].idclase_pt=r.data.row.idclase,t.ArrayItemsSelectedDesti[c].nomsubfam=r.data.row.nomsubfam,t.ArrayItemsSelectedDesti[c].idsubfamilia=r.data.row.idsubfamilia,t.ArrayItemsSelectedDesti[c].proceso_metalizado=r.data.row.proceso_metalizado,t.ArrayItemsSelectedDesti[c].servicio_metalizado=r.data.row.servicio_metalizado,t.ArrayItemsSelectedDesti[c].cnt_metalizado_obs=r.data.row.cnt_metalizado_obs,t.ArrayItemsSelectedDesti[c].cnt_29012_peso_ini=r.data.row.cnt_29012_peso_ini,t.ArrayItemsSelectedDesti[c].cnt_50000_peso_ini=r.data.row.cnt_50000_peso_ini;break}c++}}}),yield _.present()})()}FOpenPopUpOfByClase(i){var t=this;return(0,v.Z)(function*(){let o,a,l,d,g,m,p=!1;for(const r of t.ArrayItemsSelectedDesti){if(t.ArrayItemsSelectedDesti[i].index==i){o="4"!=t.ArrayItemsSelectedDesti[i].actividad?t.ArrayItemsSelectedDesti[i].idsubfamilia:"0",a=t.ArrayItemsSelectedDesti[i].correorden,o=t.ArrayItemsSelectedDesti[i].idsubfamilia,g=t.ArrayItemsSelectedDesti[i].idordenfabricab,l=t.ArrayItemsSelectedDesti[i].idclase,d=t.ArrayItemsSelectedDesti[i].descripcion_pt;break}i++}""==o&&(m=" Pieza",p=!0),""==t.IdDispositivo&&(m=" Tablet",p=!0);const _=yield t.modalCtrl.create({component:Z.ProdAteServPopOfPage,backdropDismiss:!0,showBackdrop:!0,mode:"ios",componentProps:{index_p:t.i_row,idsubfamilia:o,idclase:l,idordenfabricab:g,correorden:a,Y04002:d}});return _.onDidDismiss().then(r=>{if(null!==r){t.dataReturned=r.data;let c=0;for(const A of t.ArrayItemsSelectedDesti){if(t.ArrayItemsSelectedDesti[c].index==t.i_row){t.ArrayItemsSelectedDesti[c].idordenfabricab=r.data.idordenfabricab,t.ArrayItemsSelectedDesti[c].correorden=r.data.correorden,t.ArrayItemsSelectedDesti[c].descripcion_pt=r.data.Y04002,t.ArrayItemsSelectedDesti[c].idofpterminado=r.data.idofpterminado,t.ArrayItemsSelectedDesti[c].idclase=r.data.idclase,t.ArrayItemsSelectedDesti[c].nomclase=r.data.nomclase,t.ArrayItemsSelectedDesti[c].nomsubfam=r.data.nomsubfam,t.ArrayItemsSelectedDesti[c].idsubfamilia=r.data.idsubfamilia,t.ArrayItemsSelectedDesti[c].codigo_pt=r.data.Y04001;break}c++}}}),yield _.present()})()}open_popup_servicios(i){var t=this;return(0,v.Z)(function*(){let o,a,l,d,g,m,p=!1;for(const r of t.ArrayItemsSelectedDesti){if(t.ArrayItemsSelectedDesti[i].index==i){o="4"!=t.ArrayItemsSelectedDesti[i].actividad?t.ArrayItemsSelectedDesti[i].idclase:"0",a=t.ArrayItemsSelectedDesti[i].actividad,d=t.ArrayItemsSelectedDesti[i].SEQMASERV,l=t.ArrayItemsSelectedDesti[i].Y04002,g=t.ArrayItemsSelectedDesti[i].nomclase;break}i++}if(""==o&&(m=" Pieza",p=!0),""==t.IdDispositivo&&(m=" Tablet",p=!0),p)return void t.alertController.create({header:"Servicios No Programados",cssClass:"danger",subHeader:"",mode:"ios",message:"Seleccionar  "+m+", en el item: ("+(i+1)+")",buttons:[{text:"Aceptar",cssClass:"bgcolor:danger",handler:()=>{}}]}).then(c=>{c.present()});const _=yield t.modalCtrl.create({component:z.PopUpServiciosPage,backdropDismiss:!0,showBackdrop:!0,mode:"ios",componentProps:{index_p:t.i_row,idpieza:o,idtablet:t.IdDispositivo,avatar:a,SEQMASERV:d,Y04002:l,nomclase:g}});return _.onDidDismiss().then(r=>{if(null!==r){t.dataReturned=r.data;let c=0;for(const A of t.ArrayItemsSelectedDesti){if(t.ArrayItemsSelectedDesti[c].index==t.i_row){t.ArrayItemsSelectedDesti[c].Y04002=r.data.Y04002,t.ArrayItemsSelectedDesti[c].SEQMASERV=r.data.SEQMASERV,t.ArrayItemsSelectedDesti[c].Y04001=r.data.Y04001,t.ArrayItemsSelectedDesti[c].flag_serv_eje_ms=r.data.flag_serv_eje_ms,console.log(r.data),t.load_cbo_subprocesos(c),"1"==r.data.es_con_procesos_ms&&(console.log(r.data.es_con_procesos_ms),t.hide_div_metalizado[t.i_row]=!0);break}c++}}}),yield _.present()})()}open_popup_pterminado(i){var t=this;return(0,v.Z)(function*(){for(const p of t.ArrayItemsSelectedDesti){if(t.ArrayItemsSelectedDesti[i].index==t.i_row)break;i++}const m=yield t.modalCtrl.create({component:M.PopUpPtPage,backdropDismiss:!0,showBackdrop:!0,mode:"ios",componentProps:{index_p:t.i_row,idmarca:undefined,idpotencia:undefined,idtipo:undefined}});return m.onDidDismiss().then(p=>{if(null!==p){t.dataReturned=p.data;let _=0;for(const r of t.ArrayItemsSelectedDesti){if(t.ArrayItemsSelectedDesti[_].index==t.i_row)break;_++}}}),yield m.present()})()}open_popup_equipos(){var i=this;return(0,v.Z)(function*(){if(i.readonly_qr)return!1;const t=yield i.modalCtrl.create({component:x.PopUpEquiposPage,backdropDismiss:!0,showBackdrop:!0,mode:"ios",componentProps:{index_p:i.i_row}});return t.onDidDismiss().then(o=>{if(null!==o){i.dataReturned=o.data;let a=0;for(const l of i.ArrayItemsSelectedDesti){if(i.ArrayItemsSelectedDesti[a].index==i.i_row){i.ArrayItemsSelectedDesti[a].codsmg=o.data.idequipo;break}a++}}}),yield t.present()})()}quitar_vale_selected(i){this.loadingController.create({message:"Porfavor espere...",translucent:!0}).then(o=>{o.present()})}segmento_cambiado(i,t,o,a,l){let d,g;switch(console.log("ver actividad"),console.log(a),console.log(i),console.log("verificar avatar"),console.log(l),console.log(this.avatar_tv),0==a?(d=parseInt(i.detail.value),console.log("entro if 1")):(d=parseInt(a),console.log("entro if 2")),console.log("verificar switch"),console.log(d),d){case 1:console.log("switch_",d),this.hide_div_equipo[o]=!0,this.hide_div_pt[o]=!1,this.hide_div_serv[o]=!0,g="Servicios Taller";break;case 2:this.hide_div_equipo[o]=!1,this.hide_div_pt[o]=!0,this.hide_div_serv[o]=!0,g="Fabricacion Bomba";break;case 3:this.hide_div_equipo[o]=!1,this.hide_div_pt[o]=!0,this.hide_div_serv[o]=!0,g="Fabricacion Repuesto";break;case 4:this.hide_div_equipo[o]=!1,this.hide_div_pt[o]=!1,this.hide_div_serv[o]=!1,g="Costos Taller"}let m=0;for(const p of this.ArrayItemsSelectedDesti)this.ArrayItemsSelectedDesti[m].index==o&&(this.ArrayItemsSelectedDesti[m].avatar=i.detail.value),m++;m=o,this.ArrayItemsSelectedDesti[m].cantidad=1,this.ArrayItemsSelectedDesti[m].Y04002="",this.ArrayItemsSelectedDesti[m].Y04001="",this.ArrayItemsSelectedDesti[m].codsmg="",this.ArrayItemsSelectedDesti[m].coloravatar=""}listServiciosNuevos(){this.loadingController.create({message:"Cargando lista...",translucent:!0}).then(t=>{t.present(),this.serviceProduccion.llamarMaestroServicios(this.searchTerm,this.switchButtonSegmento,"11","H",this.id_device).then(o=>{this.results=o}).finally(()=>{this.loadingController.dismiss()})})}agregar_vale(i){this.loadingController.create({message:"Agregando servicio...",translucent:!0}).then(o=>{o.present()}).finally(()=>{i.avatar=this.avatar_tv,i.index=this.index_param,this.storage.set(this.ItemsSelectedServ,i).then(o=>{this.storage.get(this.ItemsSelectedServ).then(a=>{this.ArrayItemsSelectedDesti.push(a),this.loadingController.dismiss()})})}).catch(()=>{})}guardar_selected(){let a="",l=0,d=0;for(const g of this.ArrayItemsSelectedDesti){if(null==this.ArrayItemsSelectedDesti[l].avatar||""==this.ArrayItemsSelectedDesti[l].avatar){d=2,a=" Fala seleccionar actividad ";break}if(this.CssNotiPieza="field_required_ok","4"!=this.ArrayItemsSelectedDesti[l].avatar){if(null==this.ArrayItemsSelectedDesti[l].nomclase||""==this.ArrayItemsSelectedDesti[l].nomclase){d=2,a=" Fala seleccionar  Pieza",this.CssNotiPieza="field_required";break}if(this.CssNotiMaterial="field_required_ok",null==this.ArrayItemsSelectedDesti[l].material||""==this.ArrayItemsSelectedDesti[l].material){d=2,a=" Fala agregar material",this.CssNotiMaterial="field_required";break}}if(this.CssNotiServicio="field_required_ok",null==this.ArrayItemsSelectedDesti[l].Y04002||""==this.ArrayItemsSelectedDesti[l].Y04002){d=2,a=" Fala agregar servicio",this.CssNotiServicio="field_required";break}if(this.CssNotiTenico="field_required_ok",null==this.ArrayItemsSelectedDesti[l].nombres_tecnico||""==this.ArrayItemsSelectedDesti[l].nombres_tecnico){d=2,a=" Fala agregar t\xe9cnico",this.CssNotiTenico="field_required";break}if(this.CssNotiMaquina="field_required_ok",null==this.ArrayItemsSelectedDesti[l].maquina||""==this.ArrayItemsSelectedDesti[l].maquina){d=2,a=" Fala agregar m\xe1quina",this.CssNotiMaquina="field_required";break}if(this.hide_div_proceso[l]&&(this.CssNotiProceso="field_required_ok",null==this.ArrayItemsSelectedDesti[l].proceso||""==this.ArrayItemsSelectedDesti[l].proceso)){d=2,a=" Falta selecccionar procesos",this.CssNotiProceso="field_required";break}if(this.hide_div_metalizado[l]&&(this.CssNotiProcesoMetalizado="field_required_ok",null==this.ArrayItemsSelectedDesti[l].proceso_metalizado||""==this.ArrayItemsSelectedDesti[l].proceso_metalizado)){d=2,a=" Falta selecccionar procesos",this.CssNotiProcesoMetalizado="field_required";break}if(this.hide_div_metalizado[l]){if(this.CssNotiServicioMetalizado="field_required_ok",null==this.ArrayItemsSelectedDesti[l].servicio_metalizado||""==this.ArrayItemsSelectedDesti[l].servicio_metalizado){d=2,a=" Falta selecccionar servicio",this.CssNotiServicioMetalizado="field_required";break}if(this.CssNotiServicioObservados="field_required_ok",null==this.ArrayItemsSelectedDesti[l].cnt_metalizado_obs||0==this.ArrayItemsSelectedDesti[l].cnt_metalizado_obs){d=2,a=" Falta selecccionar servicio",this.CssNotiServicioObservados="field_required";break}if(this.CssNotiServicio500PesoInicial="field_required_ok",null==this.ArrayItemsSelectedDesti[l].cnt_50000_peso_ini||0==this.ArrayItemsSelectedDesti[l].cnt_50000_peso_ini){d=2,a=" Falta selecccionar servicio",this.CssNotiServicio500PesoInicial="field_required";break}if(this.CssNotiServicioPesoIni="field_required_ok",null==this.ArrayItemsSelectedDesti[l].cnt_29012_peso_ini||0==this.ArrayItemsSelectedDesti[l].cnt_29012_peso_ini){d=2,a=" Falta selecccionar servicio",this.CssNotiServicioPesoIni="field_required";break}}l++}1==d||2==d?this.alertController.create({header:"Iniciar Servicios",cssClass:"success",subHeader:"",mode:"ios",message:""+a,buttons:[{text:"Aceptar",cssClass:"bgcolor:danger",handler:()=>{}}]}).then(m=>{m.present()}):this.loadingController.create({message:"Cargando...",translucent:!0}).then(m=>{m.present(),this.ArrayItemsSelectedDesti[0].acc="7",this.ArrayItemsSelectedDesti[0].fechainicio_prod=this.fechainicio_prod,this.ArrayItemsSelectedDesti[0].fechafin_prod=this.fechafin_prod,this.ArrayItemsSelectedDesti[0].flag_agregado="1"==this.flagResumenDiario?"1":"0",this.ApiServices.SaveInicioActividad(this.ArrayItemsSelectedDesti[0]).then(p=>{let _;if(_=p[0],0==_.o_nres)alert("Error, no se pudo guardar correctamente.");else{this.ArrayItemsSelectedDesti[0].pk_idservicio=_.o_nres,this.ArrayItemsSelectedDesti[0].fecha_inicio=_.p1,this.ArrayItemsSelectedDesti[0].idTargetMenu=1,this.ArrayItemsSelectedDesti[0].idestado=1;let r={state:this.ArrayItemsSelectedDesti[0]};this.loadingController.dismiss(),this.navCtrl.navigateForward("1"==this.flagResumenDiario?["prod-resumen-diario-horas"]:["prod-ate-serv-inicia-actividad"],r)}}).finally(()=>{console.log("finalyyyy")})})}lista_equipos(){this.loadingController.create({message:"Cargando lista...",translucent:!0}).then(t=>{t.present(),this.serviceProduccion.listado_equipos_service(this.search_term_equipo,this.switchButtonSegmento,"17","H").then(o=>{this.results_equipos=o}).finally(()=>{this.loadingController.dismiss(),setTimeout(()=>{this.idinputsearch_equipo.setFocus()},600)})})}load_cbos_pieza_material_maquina(){this.loadingController.create({message:"Cargando listas...",translucent:!0}).then(t=>{t.present(),this.ApiServices.load_cbos_pieza_material_maquina(this.actividad,this.IdUsuarioLocal,this.IdDispositivo).then(o=>{this.rest_maquina=o.maquinas,this.rest_material=o.material,this.rest_pieza=o.pieza,this.rest_servicio_metalizado=o.servicio_metalizado,this.rest_proceso_metalizado=o.proceso_metalizado}).finally(()=>{this.loadingController.dismiss()})})}load_cbo_subprocesos(i){this.loadingController.create({message:"Cargando sub-procesos..."}).then(o=>{o.present(),this.ApiServices.load_cbo_subprocesos(this.ArrayItemsSelectedDesti[i].idmaquina,this.ArrayItemsSelectedDesti[i].nomclase,this.ArrayItemsSelectedDesti[i].Y04002).then(a=>{this.rest_subprocesos=a,console.log(this.rest_subprocesos),console.log(this.rest_subprocesos.length),"0"!=this.rest_subprocesos.length?(console.log(this.rest_subprocesos),this.hide_div_proceso[i]=!0):this.hide_div_proceso[i]=!1}).finally(()=>{this.loadingController.dismiss()})})}limpiar_cbo_pieza(i){this.ArrayItemsSelectedDesti[i].nomclase="",this.ArrayItemsSelectedDesti[i].idclase="",this.ArrayItemsSelectedDesti[i].idclase_pt="",this.ArrayItemsSelectedDesti[i].idsubfamilia="",this.ArrayItemsSelectedDesti[i].nomsubfam=""}onFechaChangeInicio(i){console.log("Fecha cambiada:",i.detail.value)}onFechaChangeFin(i){console.log("Fecha cambiada:",i.detail.value)}}return(n=h).\u0275fac=function(i){return new(i||n)(e.Y36(y.SH),e.Y36(u.HT),e.Y36(E.k),e.Y36(k.Z),e.Y36(U.K),e.Y36(b.gz),e.Y36(b.F0),e.Y36(u.Br),e.Y36(u.IN),e.Y36(y.t4))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-addserviciostodet"]],viewQuery:function(i,t){if(1&i&&(e.Gf(O,5),e.Gf(N,5)),2&i){let o;e.iGM(o=e.CRH())&&(t.idInputSearch=o.first),e.iGM(o=e.CRH())&&(t.idinputsearch_equipo=o.first)}},standalone:!0,features:[e.jDz],decls:22,vars:8,consts:[["mode","ios"],["text-capitalize",""],["slot","start"],["defaultHref","prod-list-acti-programada",3,"text","disabled"],[3,"--background",4,"ngFor","ngForOf"],[3,"hidden"],[2,"text-align","center"],["color","danger",3,"disabled","click"],["name","close-outline"],["color","primary",3,"disabled","click"],["name","save-outline"],[1,"ion-align-items-center"],["size","3",1,"ion-text-end"],["size","9"],["mode","ios","debounce","500",3,"ngModel","ionChange","ngModelChange"],["value","1"],["value","3"],["value","2"],["value","4"],["class","ion-align-items-center",4,"ngIf"],["cancelText","Cancelar","placeholder","Seleccionar material","color","primary","interface","action-sheet","mode","ios",3,"selectedText","ngModel","ionChange","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Buscar Tecnico","mode","ios","readonly","",3,"ngModel","value","click","ngModelChange"],["type","text","placeholder","Buscar Tipo de regsitro...","mode","ios","readonly","",3,"ngModel","value","click","ngModelChange"],["size","3",1,"ion-text-end","ion-align-items-baseline"],["cancelText","Cancelar","placeholder","Seleccionar Maquina","color","primary","interface","action-sheet","mode","ios",3,"selectedText","ngModel","ionChange","ngModelChange"],["size","9",1,"ion-text-start"],["type","text","placeholder","","mode","ios","readonly","",3,"ngModel","value","click","ngModelChange"],["hidden","",1,"ion-align-items-center"],["required","true","color","primary","type","number","mode","ios",3,"ngModel","value","ngModelChange"],["required","true","color","primary","type","number","mode","ios","readonly","",3,"ngModel","value","ngModelChange"],[4,"ngIf"],["type","hidden",3,"ngModel","ngModelChange"],["size","7"],["placeholder","Ingresar C\xf3digo",3,"ngModel","ngModelChange","click"],["size","2"],["color","light",3,"hidden","click"],["color","primary"],["name","open-outline"],["size","3",1,"ion-text-end","ion-no-padding"],[1,"ion-no-padding","ion-text-end",2,"max-width","350px !important"],[2,"font-size","11px","color","red"],["type","text","mode","ios","disabled","",3,"ngModel","value","ngModelChange"],["size","12"],["size","3",1,"ion-text-right"],["size","3",1,"ion-text-left"],["type","text","placeholder","Buscar Clase","mode","ios","readonly","",3,"ngModel","value","click","ngModelChange"],["type","text","placeholder","Buscar Pieza","mode","ios","readonly","",3,"ngModel","value","click","ngModelChange"],["name","close-circle-outline"],["type","text","placeholder","Ingresar O.F.","mode","ios","readonly","",3,"ngModel","value","click","ngModelChange"],["type","text","placeholder","","readonly","",3,"ngModel","value","ngModelChange"],["type","text","placeholder","Ingresar Codigo","color","primary","readonly","",3,"ngModel","value","ngModelChange","click"],[3,"value"],["cancelText","Cancelar","okText","Ok!","placeholder","Seleccionar Proceso","color","primary","interface","action-sheet","mode","ios",3,"selectedText","ngModel","ionChange","ngModelChange"],["cancelText","Cancelar","placeholder","Seleccionar Proceso","color","primary","interface","action-sheet","mode","ios",3,"selectedText","ngModel","ionChange","ngModelChange"],["cancelText","Cancelar","placeholder","Seleccionar Servicio","color","primary","interface","action-sheet","mode","ios",3,"selectedText","ngModel","ionChange","ngModelChange"],["type","number",3,"ngModel","ngModelChange"],["size","4",1,"ion-text-end"],["locale","es-ES","datetime","datetime1"],["trigger","popover-button","animated","true","arrow","true","mode","ios",3,"keepContentsMounted"],["locale","es-ES","id","datetime1","mode","ios","displayFormat","YYYY-MM-DD HH:mm","presentation","date-time","pickerFormat","YYYY-MM-DD HH:mm",3,"preferWheel","showDefaultButtons","ngModel","ngModelOptions","ngModelChange","ionChange"],["locale","es-ES","datetime","datetime2"],["locale","es-ES","id","datetime2","mode","ios","displayFormat","YYYY-MM-DD HH:mm","presentation","date-time","pickerFormat","YYYY-MM-DD HH:mm",3,"preferWheel","showDefaultButtons","ngModel","ngModelOptions","ngModelChange","ionChange"]],template:function(i,t){1&i&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title",1),e._uU(3,"Formulario Servicio"),e.qZA(),e.TgZ(4,"ion-buttons",2),e._UZ(5,"ion-back-button",3),e.qZA()()(),e.TgZ(6,"ion-content"),e.YNc(7,le,90,53,"ion-list",4),e.qZA(),e.TgZ(8,"ion-footer")(9,"ion-grid",5)(10,"ion-row"),e._UZ(11,"ion-col"),e.TgZ(12,"ion-col",6)(13,"ion-buttons")(14,"ion-button",7),e.NdJ("click",function(){return t.cancelar_ejecucion()}),e._UZ(15,"ion-icon",8),e._uU(16,"\xa0 Cancelar "),e.qZA(),e._uU(17," \xa0\xa0\xa0\xa0 "),e.TgZ(18,"ion-button",9),e.NdJ("click",function(){return t.guardar_selected()}),e._UZ(19,"ion-icon",10),e._uU(20,"\xa0 Iniciar "),e.qZA()()(),e._UZ(21,"ion-col"),e.qZA()()()),2&i&&(e.xp6(5),e.Q6J("text",t.Cancelar)("disabled",t.disableButton),e.xp6(1),e.Udp("--background",t.scanActive?"#00000000":"#fff"),e.xp6(1),e.Q6J("ngForOf",t.ArrayItemsSelectedDesti),e.xp6(2),e.Q6J("hidden",t.scanActive),e.xp6(5),e.Q6J("disabled",t.disableButton),e.xp6(4),e.Q6J("disabled",t.disableButton))},dependencies:[u.Pc,u.YG,u.Sm,u.wI,u.W2,u.x4,u.Mj,u.fr,u.jY,u.Gu,u.gu,u.pK,u.Ie,u.Q$,u.q_,u.Nd,u.VI,u.cJ,u.GO,u.t9,u.n0,u.yW,u.wd,u.sr,u.d8,u.as,u.QI,u.j9,u.oU,C.ez,C.sg,C.O5,D.u5,D.JJ,D.Q7,D.On],styles:[".alertHeader[_ngcontent-%COMP%], h2.alertHeader[_ngcontent-%COMP%]{color:#b52024!important}.modal-transparency[_ngcontent-%COMP%]{--background: transparent;--height: 80%}.CssReproceso[_ngcontent-%COMP%]{color:#b52024!important;font-size:large}ion-content[_ngcontent-%COMP%]{--background: transparent !important}"]}),h})()}}]);