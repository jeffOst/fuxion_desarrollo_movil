"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6765],{6765:(T,m,s)=>{s.r(m),s.d(m,{ListinspecablePage:()=>A});var d=s(6895),u=s(433),o=s(5562),f=s(3646),i=s(8256),C=s(5861),h=(s(7423),s(4053)),v=s(529),b=s(849);let _=(()=>{class r{constructor(t,e){this.httpClient=t,this.storage=e,this.urlApiProd=h.N.UrlDomainLocal+"aw_modulos/prod/api/CAtencionServicios.php",this.DirectorioImg=h.N.UrlDomainLocal+"aw_file/adjuntos/img_inspeccion/"}getImages(t){return this.httpClient.get(`${this.urlApiProd}?acc=5&id=`+t)}uploadImage(t,e,n){let a=new FormData;return a.append("file",t,"myimage."+n),a.append("id",e),a.append("acc","3"),a.append("type","image/png"),this.httpClient.post(this.urlApiProd,a)}uploadImage2(t,e,n){console.log("formData:blobData::>",t),t=btoa(t);let a=JSON.stringify({file:t,acc:3,id:e});return this.httpClient.post(this.urlApiProd,a)}uploadImageFile(t){const e=t.name.split(".").pop(),n=new FormData;return n.append("file",t,`myimage.${e}`),n.append("name",t.name),this.httpClient.post(`${this.urlApiProd}?acc=4`,n)}deleteImage(t){return this.httpClient.delete(`${this.urlApiProd}?acc=7&id=${t}`)}ListInspCablesPend(t){let e=this.urlApiProd;return JSON.stringify({s:encodeURI(t),acc:1,idtablet:"this.device.getId"}),this.httpClient.get(e+"?acc=1&s="+encodeURI(t)+"&idtablet=this.device.uuid").pipe()}load_form_insp_cable(t,e){let n=this.urlApiProd,a=JSON.stringify({id:t,acc:2,idtablet:0,idtecnico:e});return this.httpClient.post(n,a).toPromise().then(l=>l)}upload_img(t){}listado_equipos_service(t,e,n,a){let l=this.urlApiProd,c=JSON.stringify({s:t,acc:n,tipo:e,idtablet:0,madre_hija:a});return this.httpClient.post(l,c).toPromise().then(g=>g)}GuardarFormulario(t){var e=this;return(0,C.Z)(function*(){console.log("Dentro::GuardarFormulario::>",t);let n,a=e.urlApiProd,l=JSON.stringify(t);return e.httpClient.post(a+"?acc=6",l).toPromise().then(c=>{console.log(c),n=c,e.confirmSaveBd=n[0].o_nres},c=>{console.log(c,"Error- something is wrong!")})})()}}return r.\u0275fac=function(t){return new(t||r)(i.LFG(v.eN),i.LFG(b.K))},r.\u0275prov=i.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function P(r,p){if(1&r){const t=i.EpF();i.TgZ(0,"ion-item-sliding",null,16)(2,"ion-item"),i._UZ(3,"ion-fab-button",17),i.TgZ(4,"ion-card")(5,"ion-card-content")(6,"ion-row")(7,"ion-col",18)(8,"ion-label",19),i._uU(9),i.qZA()(),i.TgZ(10,"ion-col",18)(11,"ion-label",20),i._uU(12),i.qZA()(),i.TgZ(13,"ion-col",18)(14,"ion-label",19),i._uU(15),i.qZA()(),i.TgZ(16,"ion-col",18)(17,"ion-label",21),i._uU(18),i.qZA()(),i.TgZ(19,"ion-col",18)(20,"ion-label",22),i._uU(21),i.qZA()()()()()(),i.TgZ(22,"ion-item-options",23),i.NdJ("ionSwipe",function(){const a=i.CHM(t).$implicit,l=i.oxw();return i.KtG(l.EditarInspCable(a.idinspcablemina))}),i.TgZ(23,"ion-item-option",24),i._uU(24," Editar/Retomar"),i.qZA()(),i.TgZ(25,"ion-item-options",25),i.NdJ("ionSwipe",function(){const a=i.CHM(t).$implicit,l=i.oxw();return i.KtG(l.ImprimirPdf(a.idinspcablemina))}),i.TgZ(26,"ion-item-option",26),i._uU(27,"Imprimir PDF"),i.qZA()()()}if(2&r){const t=p.$implicit;i.xp6(9),i.Oqu(t.codsmg),i.xp6(3),i.Oqu(t.correlativo_imc),i.xp6(3),i.Oqu(t.fchregistro_imc),i.xp6(3),i.Oqu(t.estado),i.xp6(3),i.Oqu(t.usuario)}}let A=(()=>{class r{constructor(t,e,n,a,l,c,g,I,y){this.plt=t,this.navCtrl=e,this.menuCrl=n,this.alertController=a,this.mttoservicesService=l,this.loadingController=c,this.location=g,this.storage=I,this.actionSheetController=y,this.inputSearchValue=""}ngOnInit(){let t;this.storage.get("USER_INFO").then(e=>{t=e,this.NomUsuario=t.user_name,""==this.NomUsuario&&this.navCtrl.navigateForward("login")})}ionViewWillEnter(){this.listarInspCables()}listarInspCables(){this.arrayCargado=null,this.mttoservicesService.ListInspCablesPend(this.inputSearchValue).subscribe(t=>{console.log("listando cargandoooo array"),this.arrayCargado=t})}EditarInspCable(t){let e;e={id:t},this.navCtrl.navigateForward(["wininspecable",e])}ImprimirPdf(t){}}return r.\u0275fac=function(t){return new(t||r)(i.Y36(o.t4),i.Y36(o.SH),i.Y36(o._q),i.Y36(o.Br),i.Y36(_),i.Y36(o.HT),i.Y36(d.Ye),i.Y36(b.K),i.Y36(o.BX))},r.\u0275cmp=i.Xpm({type:r,selectors:[["app-listinspecable"]],standalone:!0,features:[i.jDz],decls:41,vars:3,consts:[[1,"ion-no-border"],[1,"ion-justify-content-start"],["size","10",1,"ion-align-self-start"],["titulo","Listado de Inspeciones Cable"],["size","2",1,"ion-align-self-end"],["position","fixed","color","secondary",1,"label-nameusuario"],["padding",""],["slot","start"],["color","primary","fill","outline",3,"click"],["ios","ios-add-circle","name","add-circle-sharp"],["debounce","1700",3,"ngModel","ngModelChange","ionChange"],["color","gray","slot","start"],["size","2",2,"background","linear-gradient(#e9e7e7, #cac3c3)","border-width","0.01em","border-style","solid","margin-bottom","1px","border-color","whitesmoke"],["stacked","","color","dark",2,"font-size","14px","background-color","rgba(0, 0, 0, 0)"],["stacked","","color","dark",2,"font-size","14px"],[4,"ngFor","ngForOf"],["slidingItem",""],["color","primary","slot","start"],["size","2"],["color","secondary","text-wrap","",2,"font-size","10px"],["color","primary","text-wrap","",2,"font-size","10px"],["color","primary",2,"font-size","10px"],["color","secondary",2,"font-size","10px"],["side","end",3,"ionSwipe"],["color","primary","expandable",""],["side","start",3,"ionSwipe"],["color","danger","expandable",""]],template:function(t,e){1&t&&(i.TgZ(0,"ion-toolbar",0)(1,"ion-grid")(2,"ion-row",1)(3,"ion-col",2),i._UZ(4,"app-header",3),i.qZA(),i.TgZ(5,"ion-col",4)(6,"ion-label",5),i._uU(7),i.qZA()()()()(),i.TgZ(8,"ion-content",6)(9,"ion-list")(10,"ion-item-sliding")(11,"ion-item")(12,"ion-toolbar")(13,"ion-buttons",7)(14,"ion-button",8),i.NdJ("click",function(){return e.EditarInspCable("0")}),i._uU(15," Nuevo \xa0 "),i._UZ(16,"ion-icon",9),i.qZA()()()()()(),i.TgZ(17,"ion-searchbar",10),i.NdJ("ngModelChange",function(a){return e.inputSearchValue=a})("ionChange",function(){return e.listarInspCables()}),i.qZA(),i.TgZ(18,"ion-list")(19,"ion-item")(20,"ion-fab-button",11),i._uU(21,"*"),i.qZA(),i.TgZ(22,"ion-card")(23,"ion-card-content")(24,"ion-row")(25,"ion-col",12)(26,"ion-label",13),i._uU(27," Equipo"),i.qZA()(),i.TgZ(28,"ion-col",12)(29,"ion-label",14),i._uU(30,"Correlativo"),i.qZA()(),i.TgZ(31,"ion-col",12)(32,"ion-label",14),i._uU(33,"F.Registro"),i.qZA()(),i.TgZ(34,"ion-col",12)(35,"ion-label",14),i._uU(36,"Estado"),i.qZA()(),i.TgZ(37,"ion-col",12)(38,"ion-label",14),i._uU(39,"Usuario"),i.qZA()()()()()(),i.YNc(40,P,28,5,"ion-item-sliding",15),i.qZA()()),2&t&&(i.xp6(7),i.Oqu(e.NomUsuario),i.xp6(10),i.Q6J("ngModel",e.inputSearchValue),i.xp6(23),i.Q6J("ngForOf",e.arrayCargado))},dependencies:[o.Pc,o.YG,o.Sm,o.PM,o.FN,o.wI,o.W2,o.W4,o.jY,o.gu,o.Ie,o.u8,o.IK,o.td,o.Q$,o.q_,o.Nd,o.VI,o.sr,o.j9,d.ez,d.sg,u.u5,u.JJ,u.On,f.G]}),r})()}}]);