"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6173],{6173:(z,M,u)=>{u.r(M),u.d(M,{AddserviciostodetPage:()=>oe});var S=u(5861),x=u(6895),b=u(433),d=u(5562),_=u(9769),w=u(2653),Z=u(5155),q=u(4942),E=u(8685),O=u(5101),I=u(6224),y=u(2014),e=u(8256),f=u(1847),A=u(5719),D=u(849),C=u(1407);const P=["idInputSearch"],U=["idinputsearch_equipo"];function N(n,h){if(1&n){const i=e.EpF();e.TgZ(0,"ion-row",11)(1,"ion-col",12),e._uU(2," C\xf3digo Q.R.: "),e.qZA(),e.TgZ(3,"ion-col",30)(4,"ion-input",31),e.NdJ("ngModelChange",function(o){e.CHM(i);const s=e.oxw().$implicit;return e.KtG(s.codigo_qr=o)})("click",function(){e.CHM(i);const o=e.oxw().index,s=e.oxw();return e.KtG(s.FOpenPopUpQrByOf(o))}),e.qZA(),e._UZ(5,"div"),e.qZA(),e.TgZ(6,"ion-col",32)(7,"ion-button",33),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().index,s=e.oxw();return e.KtG(s.FOpenPopUpQrByOf(o))}),e.TgZ(8,"ion-text",34),e._uU(9,"Abrir"),e.qZA(),e._UZ(10,"ion-icon",35),e.qZA()()()}if(2&n){const i=e.oxw().$implicit,t=e.oxw();e.xp6(4),e.Tol(t.ClassNotiPieza),e.Q6J("ngModel",i.codigo_qr),e.uIk("disabled",t.readonly_qr),e.xp6(1),e.Tol(t.ClassNotiPieza),e.xp6(2),e.Q6J("hidden",t.scanActive)}}function k(n,h){if(1&n){const i=e.EpF();e.TgZ(0,"ion-row",11)(1,"ion-col",36)(2,"ion-label",37),e._uU(3,"Pieza P.T. "),e.TgZ(4,"p")(5,"font",38),e._uU(6,"(referencial):"),e.qZA()()()(),e.TgZ(7,"ion-col",13)(8,"ion-input",39),e.NdJ("ngModelChange",function(o){e.CHM(i);const s=e.oxw().$implicit;return e.KtG(s.nomclase_pt=o)}),e.qZA()()()}if(2&n){const i=e.oxw().$implicit;e.xp6(8),e.s9C("value",i.nomclase_pt),e.Q6J("ngModel",i.nomclase_pt)}}function F(n,h){if(1&n&&(e.TgZ(0,"ion-row",11)(1,"ion-col",40)(2,"ion-row")(3,"ion-col",41),e._uU(4,"Actividad:"),e.qZA(),e.TgZ(5,"ion-col",42)(6,"div"),e._uU(7,"por Reproceso"),e.qZA()(),e.TgZ(8,"ion-col",41),e._uU(9," F. Revision: "),e.qZA(),e.TgZ(10,"ion-col",42)(11,"div"),e._uU(12),e.qZA()()()()()),2&n){const i=e.oxw().$implicit,t=e.oxw();e.xp6(6),e.Tol(t.CssReproceso),e.xp6(5),e.Tol(t.CssReproceso),e.xp6(1),e.Oqu(i.fecha_reproceso)}}function J(n,h){if(1&n){const i=e.EpF();e.TgZ(0,"ion-row",11)(1,"ion-col",12),e._uU(2,"Clase: "),e.qZA(),e.TgZ(3,"ion-col",13)(4,"ion-item")(5,"ion-searchbar",43),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().index,s=e.oxw();return e.KtG(s.FOpenPopUpClaseByPieza(o))})("ngModelChange",function(o){e.CHM(i);const s=e.oxw().$implicit;return e.KtG(s.nomsubfam=o)}),e.qZA()(),e._UZ(6,"div"),e.qZA()()}if(2&n){const i=e.oxw().$implicit,t=e.oxw();e.xp6(5),e.s9C("value",i.nomsubfam),e.Q6J("ngModel",i.nomsubfam),e.xp6(1),e.Tol(t.CssNotiPieza)}}function Q(n,h){if(1&n){const i=e.EpF();e.TgZ(0,"ion-row",11)(1,"ion-col",12),e._uU(2,"Pieza Servicio: "),e.qZA(),e.TgZ(3,"ion-col",30)(4,"ion-item")(5,"ion-searchbar",44),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().index,s=e.oxw();return e.KtG(s.FOpenModalPieza(o))})("ngModelChange",function(o){e.CHM(i);const s=e.oxw().$implicit;return e.KtG(s.nomclase=o)}),e.qZA()(),e._UZ(6,"div"),e.qZA(),e.TgZ(7,"ion-col",32)(8,"ion-button",33),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().index,s=e.oxw();return e.KtG(s.limpiar_cbo_pieza(o))}),e.TgZ(9,"ion-text",34),e._uU(10,"Limpiar"),e.qZA(),e._UZ(11,"ion-icon",45),e.qZA()()()}if(2&n){const i=e.oxw().$implicit,t=e.oxw();e.xp6(5),e.s9C("value",i.nomclase),e.Q6J("ngModel",i.nomclase),e.xp6(1),e.Tol(t.CssNotiPieza),e.xp6(2),e.Q6J("hidden",t.scanActive)}}function K(n,h){if(1&n){const i=e.EpF();e.TgZ(0,"ion-row",11)(1,"ion-col",12),e._uU(2," Orden de Fabricaci\xf3n: "),e.qZA(),e.TgZ(3,"ion-col",13)(4,"ion-item")(5,"ion-searchbar",46),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().index,s=e.oxw();return e.KtG(s.FOpenPopUpOfByClase(o))})("ngModelChange",function(o){e.CHM(i);const s=e.oxw().$implicit;return e.KtG(s.correorden=o)}),e.qZA()()()()}if(2&n){const i=e.oxw().$implicit;e.xp6(5),e.s9C("value",i.correorden),e.Q6J("ngModel",i.correorden)}}function Y(n,h){if(1&n){const i=e.EpF();e.TgZ(0,"ion-row",11)(1,"ion-col",12),e._uU(2," Descripci\xf3n de Versi\xf3n: "),e.qZA(),e.TgZ(3,"ion-col",13)(4,"ion-input",47),e.NdJ("ngModelChange",function(o){e.CHM(i);const s=e.oxw().$implicit;return e.KtG(s.descripcion_pt=o)}),e.qZA()()()}if(2&n){const i=e.oxw().$implicit;e.xp6(4),e.s9C("value",i.descripcion_pt),e.Q6J("ngModel",i.descripcion_pt)}}function B(n,h){if(1&n){const i=e.EpF();e.TgZ(0,"ion-row",11)(1,"ion-col",12),e._uU(2," Codigo de Bomba: "),e.qZA(),e.TgZ(3,"ion-col",13)(4,"ion-input",48),e.NdJ("ngModelChange",function(o){e.CHM(i);const s=e.oxw().$implicit;return e.KtG(s.codsmg=o)})("click",function(){e.CHM(i);const o=e.oxw(2);return e.KtG(o.open_popup_equipos())}),e.qZA()()()}if(2&n){const i=e.oxw().$implicit;e.xp6(4),e.s9C("value",i.codsmg),e.Q6J("ngModel",i.codsmg)}}function H(n,h){if(1&n&&(e.TgZ(0,"ion-select-option",49),e._uU(1),e.qZA()),2&n){const i=h.$implicit;e.Q6J("value",i.codigo),e.xp6(1),e.hij("",i.nombre," ")}}function G(n,h){if(1&n&&(e.TgZ(0,"ion-select-option",49),e._uU(1),e.qZA()),2&n){const i=h.$implicit;e.Q6J("value",i.codigo),e.xp6(1),e.hij("",i.nombre," ")}}function $(n,h){if(1&n&&(e.TgZ(0,"ion-select-option",49),e._uU(1),e.qZA()),2&n){const i=h.$implicit;e.Q6J("value",i.idsubprocesosxservicio),e.xp6(1),e.hij("",i.nombre_proceso," ")}}function L(n,h){if(1&n){const i=e.EpF();e.TgZ(0,"ion-row",11)(1,"ion-col",12),e._uU(2,"Tipo Proceso: "),e.qZA(),e.TgZ(3,"ion-col",25)(4,"ion-select",50),e.NdJ("ionChange",function(o){e.CHM(i);const s=e.oxw().index,r=e.oxw();return e.KtG(r.select_change_proceso(o,s))})("ngModelChange",function(o){e.CHM(i);const s=e.oxw().$implicit;return e.KtG(s.idproceso=o)}),e.YNc(5,$,2,2,"ion-select-option",21),e.qZA(),e._UZ(6,"div"),e.qZA()()}if(2&n){const i=e.oxw().$implicit,t=e.oxw();e.xp6(4),e.Q6J("selectedText",i.proceso)("ngModel",i.idproceso),e.xp6(1),e.Q6J("ngForOf",t.rest_subprocesos),e.xp6(1),e.Tol(t.CssNotiProceso)}}function W(n,h){if(1&n&&(e.TgZ(0,"ion-select-option",49),e._uU(1),e.qZA()),2&n){const i=h.$implicit;e.Q6J("value",i.codigo),e.xp6(1),e.hij(" ",i.nombre," ")}}function j(n,h){if(1&n){const i=e.EpF();e.TgZ(0,"ion-row",11)(1,"ion-col",12),e._uU(2,"Tipo Proceso *: "),e.qZA(),e.TgZ(3,"ion-col",25)(4,"ion-select",51),e.NdJ("ionChange",function(o){e.CHM(i);const s=e.oxw().index,r=e.oxw();return e.KtG(r.select_change_proceso_metalizado(o,s))})("ngModelChange",function(o){e.CHM(i);const s=e.oxw().$implicit;return e.KtG(s.idproceso_metalizado_ofd=o)}),e.YNc(5,W,2,2,"ion-select-option",21),e.qZA(),e._UZ(6,"div"),e.qZA()()}if(2&n){const i=e.oxw().$implicit,t=e.oxw();e.xp6(4),e.Q6J("selectedText",i.proceso_metalizado)("ngModel",i.idproceso_metalizado_ofd),e.xp6(1),e.Q6J("ngForOf",t.rest_proceso_metalizado),e.xp6(1),e.Tol(t.CssNotiProcesoMetalizado)}}function V(n,h){if(1&n&&(e.TgZ(0,"ion-select-option",49),e._uU(1),e.qZA()),2&n){const i=h.$implicit;e.Q6J("value",i.SEQMASERV),e.xp6(1),e.hij(" ",i.Y04002," ")}}function R(n,h){if(1&n){const i=e.EpF();e.TgZ(0,"ion-row",11)(1,"ion-col",12),e._uU(2,"Servicio Metalizado: "),e.qZA(),e.TgZ(3,"ion-col",25)(4,"ion-select",52),e.NdJ("ionChange",function(o){e.CHM(i);const s=e.oxw().index,r=e.oxw();return e.KtG(r.select_change_servicio_metalizado(o,s))})("ngModelChange",function(o){e.CHM(i);const s=e.oxw().$implicit;return e.KtG(s.idservicio_metalizado_ofd=o)}),e.YNc(5,V,2,2,"ion-select-option",21),e.qZA(),e._UZ(6,"div"),e.qZA()()}if(2&n){const i=e.oxw().$implicit,t=e.oxw();e.xp6(4),e.Q6J("selectedText",i.servicio_metalizado)("ngModel",i.idservicio_metalizado_ofd),e.xp6(1),e.Q6J("ngForOf",t.rest_servicio_metalizado),e.xp6(1),e.Tol(t.CssNotiServicioMetalizado)}}function X(n,h){if(1&n){const i=e.EpF();e.TgZ(0,"ion-row",11)(1,"ion-col",12),e._uU(2,"N. Metalizados Observados: "),e.qZA(),e.TgZ(3,"ion-col",25)(4,"ion-item")(5,"ion-input",53),e.NdJ("ngModelChange",function(o){e.CHM(i);const s=e.oxw().$implicit;return e.KtG(s.cnt_metalizado_obs=o)}),e.qZA()(),e._UZ(6,"div"),e.qZA()()}if(2&n){const i=e.oxw().$implicit,t=e.oxw();e.xp6(5),e.Q6J("ngModel",i.cnt_metalizado_obs),e.xp6(1),e.Tol(t.CssNotiServicioObservados)}}function ee(n,h){if(1&n){const i=e.EpF();e.TgZ(0,"ion-row",11)(1,"ion-col",12),e._uU(2,"MRTACERAM 29012 Peso Inicial(g): "),e.qZA(),e.TgZ(3,"ion-col",25)(4,"ion-item")(5,"ion-input",53),e.NdJ("ngModelChange",function(o){e.CHM(i);const s=e.oxw().$implicit;return e.KtG(s.cnt_29012_peso_ini=o)}),e.qZA()(),e._UZ(6,"div"),e.qZA()()}if(2&n){const i=e.oxw().$implicit,t=e.oxw();e.xp6(5),e.Q6J("ngModel",i.cnt_29012_peso_ini),e.xp6(1),e.Tol(t.CssNotiServicioPesoIni)}}function te(n,h){if(1&n){const i=e.EpF();e.TgZ(0,"ion-row",11)(1,"ion-col",12),e._uU(2,"ULTRABON 50000 Peso Inicial(g): "),e.qZA(),e.TgZ(3,"ion-col",25)(4,"ion-item")(5,"ion-input",53),e.NdJ("ngModelChange",function(o){e.CHM(i);const s=e.oxw().$implicit;return e.KtG(s.cnt_50000_peso_ini=o)}),e.qZA()(),e._UZ(6,"div"),e.qZA()()}if(2&n){const i=e.oxw().$implicit,t=e.oxw();e.xp6(5),e.Q6J("ngModel",i.cnt_50000_peso_ini),e.xp6(1),e.Tol(t.CssNotiServicio500PesoInicial)}}function ie(n,h){if(1&n){const i=e.EpF();e.TgZ(0,"ion-list")(1,"ion-item",5)(2,"ion-grid",5)(3,"ion-row",11)(4,"ion-col",12),e._uU(5," OF/OT* \xa0:"),e.qZA(),e.TgZ(6,"ion-col",13)(7,"ion-segment",14),e.NdJ("ionChange",function(o){const r=e.CHM(i).index,l=e.oxw();return e.KtG(l.segmento_cambiado(o,0,r,0))})("ngModelChange",function(o){const r=e.CHM(i).$implicit;return e.KtG(r.actividad=o)}),e.TgZ(8,"ion-segment-button",15)(9,"ion-label"),e._uU(10,"Servicios"),e.qZA()(),e.TgZ(11,"ion-segment-button",16)(12,"ion-label"),e._uU(13,"Repuestos"),e.qZA()(),e.TgZ(14,"ion-segment-button",17)(15,"ion-label"),e._uU(16,"Bomba"),e.qZA()(),e.TgZ(17,"ion-segment-button",18)(18,"ion-label"),e._uU(19,"Taller"),e.qZA()()()()(),e.TgZ(20,"ion-row",11)(21,"ion-col")(22,"ion-grid"),e.YNc(23,N,11,9,"ion-row",19),e.YNc(24,k,9,2,"ion-row",19),e.YNc(25,F,13,7,"ion-row",19),e.YNc(26,J,7,5,"ion-row",19),e.YNc(27,Q,12,6,"ion-row",19),e.YNc(28,K,6,2,"ion-row",19),e.YNc(29,Y,5,2,"ion-row",19),e.YNc(30,B,5,2,"ion-row",19),e.TgZ(31,"ion-row",11)(32,"ion-col",12),e._uU(33," Material: "),e.qZA(),e.TgZ(34,"ion-col",13)(35,"ion-select",20),e.NdJ("ionChange",function(o){const r=e.CHM(i).index,l=e.oxw();return e.KtG(l.select_change_material(o,r))})("ngModelChange",function(o){const r=e.CHM(i).$implicit;return e.KtG(r.idmaterial=o)}),e.YNc(36,H,2,2,"ion-select-option",21),e.qZA(),e._UZ(37,"div"),e.qZA()(),e.TgZ(38,"ion-row",11)(39,"ion-col",12),e._uU(40," Tecnico: "),e.qZA(),e.TgZ(41,"ion-col",13)(42,"ion-item")(43,"ion-searchbar",22),e.NdJ("click",function(){const s=e.CHM(i).index,r=e.oxw();return e.KtG(r.FOpenModalTecnico(s))})("ngModelChange",function(o){const r=e.CHM(i).$implicit;return e.KtG(r.nombres_tecnico=o)}),e.qZA()(),e._UZ(44,"div"),e.qZA()(),e.TgZ(45,"ion-row",11)(46,"ion-col",23),e._uU(47,"Maquina:"),e.qZA(),e.TgZ(48,"ion-col",13)(49,"ion-select",24),e.NdJ("ionChange",function(o){const r=e.CHM(i).index,l=e.oxw();return e.KtG(l.select_change_maquina(o,r))})("ngModelChange",function(o){const r=e.CHM(i).$implicit;return e.KtG(r.idmaquina=o)}),e.YNc(50,G,2,2,"ion-select-option",21),e.qZA(),e._UZ(51,"div"),e.qZA()()()()(),e.TgZ(52,"ion-row",11)(53,"ion-col",12),e._uU(54,"Servicio: "),e.qZA(),e.TgZ(55,"ion-col",25)(56,"ion-item")(57,"ion-searchbar",26),e.NdJ("click",function(){const s=e.CHM(i).index,r=e.oxw();return e.KtG(r.open_popup_servicios(s))})("ngModelChange",function(o){const r=e.CHM(i).$implicit;return e.KtG(r.Y04002=o)}),e.qZA()(),e._UZ(58,"div"),e.qZA()(),e.YNc(59,L,7,6,"ion-row",19),e.YNc(60,j,7,6,"ion-row",19),e.YNc(61,R,7,6,"ion-row",19),e.YNc(62,X,7,4,"ion-row",19),e.YNc(63,ee,7,4,"ion-row",19),e.YNc(64,te,7,4,"ion-row",19),e.TgZ(65,"ion-row",27)(66,"ion-col",12),e._uU(67," Cantidad: "),e.qZA(),e.TgZ(68,"ion-col",13)(69,"ion-item")(70,"ion-input",28),e.NdJ("ngModelChange",function(o){const r=e.CHM(i).$implicit;return e.KtG(r.cantidad=o)}),e.qZA()()()()()(),e.TgZ(71,"ion-input",29),e.NdJ("ngModelChange",function(o){const r=e.CHM(i).$implicit;return e.KtG(r.id_personal=o)}),e.qZA()()}if(2&n){const i=h.$implicit,t=h.index,o=e.oxw();e.Udp("--background",o.scanActive?"#00000000":"#fff"),e.xp6(1),e.Q6J("hidden",o.scanActive),e.xp6(1),e.Q6J("hidden",o.scanActive),e.xp6(5),e.Q6J("ngModel",i.actividad),e.xp6(16),e.Q6J("ngIf",o.hide_div_equipo[t]),e.xp6(1),e.Q6J("ngIf",o.hide_div_equipo[t]),e.xp6(1),e.Q6J("ngIf",o.hide_div_reproceso),e.xp6(1),e.Q6J("ngIf",o.hide_div_pt[t]),e.xp6(1),e.Q6J("ngIf",o.hide_div_serv[t]),e.xp6(1),e.Q6J("ngIf",o.hide_div_pt[t]),e.xp6(1),e.Q6J("ngIf",o.hide_div_pt[t]),e.xp6(1),e.Q6J("ngIf",o.hide_div_equipo[t]),e.xp6(5),e.Q6J("selectedText",i.material)("ngModel",i.idmaterial),e.xp6(1),e.Q6J("ngForOf",o.rest_material),e.xp6(1),e.Tol(o.CssNotiMaterial),e.xp6(6),e.s9C("value",i.nombres_tecnico),e.Q6J("ngModel",i.nombres_tecnico),e.xp6(1),e.Tol(o.CssNotiTenico),e.xp6(5),e.Q6J("selectedText",i.maquina)("ngModel",i.idmaquina),e.xp6(1),e.Q6J("ngForOf",o.rest_maquina),e.xp6(1),e.Tol(o.CssNotiMaquina),e.xp6(6),e.s9C("value",i.Y04002),e.Q6J("ngModel",i.Y04002),e.xp6(1),e.Tol(o.CssNotiServicio),e.xp6(1),e.Q6J("ngIf",o.hide_div_proceso[t]),e.xp6(1),e.Q6J("ngIf",o.hide_div_metalizado[t]),e.xp6(1),e.Q6J("ngIf",o.hide_div_metalizado[t]),e.xp6(1),e.Q6J("ngIf",o.hide_div_metalizado[t]),e.xp6(1),e.Q6J("ngIf",o.hide_div_metalizado[t]),e.xp6(1),e.Q6J("ngIf",o.hide_div_metalizado[t]),e.xp6(6),e.s9C("value",i.cantidad),e.Q6J("ngModel",i.cantidad),e.xp6(1),e.Q6J("ngModel",i.id_personal)}}let oe=(()=>{class n{constructor(i,t,o,s,r,l,p,v,g,m){let a;this.navCtrl=i,this.loadingController=t,this.serviceProduccion=o,this.ApiServices=s,this.storage=r,this.route=l,this.router=p,this.alertController=v,this.modalCtrl=g,this.platform=m,this.IdFromModule=0,this.flg_from_que_windows="",this.i_row=-1,this.avatar_tv="",this.idtablet_="",this.ArrayItemsSelectedDesti=[],this.searchTerm="",this.search_term_equipo="",this.selected_equipo="",this.hide_div_equipo=[!1],this.hide_div_pt=[!1],this.hide_div_serv=[!1],this.hide_div_proceso=[!1],this.hide_div_metalizado=[!1],this.switchButtonSegmento="",this.ItemsSelectedServ="array_selected_det_np",this.scanActive=!1,this.hide_div_reproceso=!1,this.Cancelar="Cancelar",this.ClassNotiPieza="",document.addEventListener("backbutton",function(c){console.log("disable back button")},!0),this.platform.backButton.subscribeWithPriority(10,()=>{this.alertController.create({header:"Vales de Servicios",cssClass:"success",subHeader:"",mode:"ios",message:"No usar esta opcion para salir.",buttons:[{text:"Aceptar",cssClass:"bgcolor:danger",handler:()=>{}}]}).then(T=>{T.present()})}),this.storage.get("USER_INFO").then(c=>{a=c,this.NombresUsuarioLocal=a.user_name,this.IdUsuarioLocal=a.user_id,this.ArrayItemsSelectedDesti[0].nombres_tecnico=a.user_name,this.ArrayItemsSelectedDesti[0].id_personal=a.user_id}),this.storage.get("DEVICE_INFO").then(c=>{a=c,this.NombreDispositivo=a.name,this.IdDispositivo=a.uuid}),this.navParams=this.router.getCurrentNavigation().extras.state,console.log("this.navParams:::::>",this.navParams),this.actividad=this.navParams.CONCOMPONENTE,this.agregar_item_servicio(this.actividad),this.navParams&&void 0!==typeof this.actividad?(this.flg_from_que_windows=this.navParams.coloravatar,this.avatar_tv=this.navParams.avatar,this.readonly_qr=!0,this.ArrayItemsSelectedDesti[0].idofpterminado=this.navParams.idofpterminado,this.ArrayItemsSelectedDesti[0].EQUIPOID=this.navParams.EQUIPOID,this.ArrayItemsSelectedDesti[0].fasignado=this.navParams.fasignado,this.ArrayItemsSelectedDesti[0].avatar=this.navParams.avatar,this.ArrayItemsSelectedDesti[0].correorden=this.navParams.correorden,this.ArrayItemsSelectedDesti[0].descripcion_pt=this.navParams.descripcion_pt,this.ArrayItemsSelectedDesti[0].cantidad=this.navParams.cantidad,this.ArrayItemsSelectedDesti[0].idestado=this.navParams.idestado,this.ArrayItemsSelectedDesti[0].nomclase_pt=this.navParams.nomclase,this.ArrayItemsSelectedDesti[0].nomclase=this.navParams.nomclase,this.ArrayItemsSelectedDesti[0].idclase=this.navParams.idclase,this.ArrayItemsSelectedDesti[0].codigo_qr=this.navParams.codigo_qr,this.ArrayItemsSelectedDesti[0].codsmg=this.navParams.codsmg,this.ArrayItemsSelectedDesti[0].idclase_pt=this.navParams.idclase,this.ArrayItemsSelectedDesti[0].nomsubfam=this.navParams.nomsubfam,this.ArrayItemsSelectedDesti[0].idsubfamilia=this.navParams.idsubfamilia,this.ArrayItemsSelectedDesti[0].idmaquina=this.navParams.idmaquina,this.ArrayItemsSelectedDesti[0].maquina=this.navParams.maquina,this.ArrayItemsSelectedDesti[0].codigo_pt=this.navParams.codigo_pt,this.CssReproceso=1==this.navParams.flag_reproceso?"CssReproceso":"",this.hide_div_reproceso=1==this.navParams.flag_reproceso,this.ArrayItemsSelectedDesti[0].fecha_reproceso=this.navParams.fecha_reproceso,this.ArrayItemsSelectedDesti[0].cantidad_reproceso=this.navParams.cantidad_reproceso,this.ArrayItemsSelectedDesti[0].idrevisiondet_reproceso=this.navParams.idrevisiondet_reproceso):(this.readonly_qr=!1,console.log("this.readonly_qr:::",this.readonly_qr))}ngOnInit(){}ionViewDidEnter(){this.load_cbos_pieza_material_maquina(),this.storage.get("DEVICE_INFO").then(i=>{this.id_device=i.uuid,console.log("this.id_device::>",this.id_device)})}ionViewWillLeave(){this.getBackButtonClick()}ionViewDidLeave(){}getBackButtonClick(){this.subscripcion=this.platform.backButton.subscribe(()=>{this.ClosingApp()})}ClosingApp(){var i=this;return(0,S.Z)(function*(){(yield i.alertController.create({header:"Confirm",message:"Message to confirm!!!",buttons:[{text:"OK",handler:()=>{i.exit()}},{text:"Cancel",role:"cancelar"}]})).present()})()}exit(){navigator.app.exitApp()}FOpenModalPieza(i){var t=this;return(0,S.Z)(function*(){let o,s,r,l,p,v,g=!1;for(const a of t.ArrayItemsSelectedDesti){if(console.log("::::::::::::::>>>>>>>>>>>"),console.log(t.ArrayItemsSelectedDesti),t.ArrayItemsSelectedDesti[i].index==i){"4"!=t.ArrayItemsSelectedDesti[i].actividad?(o=t.ArrayItemsSelectedDesti[i].nomclase,r=t.ArrayItemsSelectedDesti[i].actividad,l=t.ArrayItemsSelectedDesti[i].idsubfamilia,console.log("idsubfamilia_",l),v=t.ArrayItemsSelectedDesti[i].nomsubfam):o="",s=t.ArrayItemsSelectedDesti[i].avatar;break}i++}""==o&&(p=" Pieza",g=!0),""==t.IdDispositivo&&(p=" Tablet",g=!0);const m=yield t.modalCtrl.create({component:q.ProdAteServPopPiezaPage,backdropDismiss:!0,showBackdrop:!0,mode:"ios",componentProps:{index_p:t.i_row,nombre_pieza:o,idtablet:t.IdDispositivo,titulo_modal:"Lista de Piezas",id_actividad:r,idsubfamilia:l,nomsubfam:v}});return m.onDidDismiss().then(a=>{if(null!=a.data){t.dataReturned=a.data,console.log("dataReturned::206",a);let c=0;for(const T of t.ArrayItemsSelectedDesti){if(t.ArrayItemsSelectedDesti[c].index==t.i_row){t.ArrayItemsSelectedDesti[c].nomclase=a.data.nombres,t.ArrayItemsSelectedDesti[c].idclase=a.data.id,t.ArrayItemsSelectedDesti[c].idclase_pt=a.data.id,t.ArrayItemsSelectedDesti[c].idsubfamilia=a.data.idsubfamilia,t.ArrayItemsSelectedDesti[c].nomsubfam=a.data.nomsubfam,console.log(t.ArrayItemsSelectedDesti);break}c++}}}),yield m.present()})()}FOpenModalTecnico(i){var t=this;return(0,S.Z)(function*(){let o,s,r,p,v=!1;for(const m of t.ArrayItemsSelectedDesti){if(t.ArrayItemsSelectedDesti[i].index==i){"4"!=t.ArrayItemsSelectedDesti[i].avatar?(o=t.ArrayItemsSelectedDesti[i].nombres_tecnico,r=t.ArrayItemsSelectedDesti[i].id_personal):o="0",s=t.ArrayItemsSelectedDesti[i].avatar;break}i++}""==o&&(p=" Pieza",v=!0),""==t.IdDispositivo&&(p=" Tablet",v=!0);const g=yield t.modalCtrl.create({component:Z.ProdAteServPopPersonalPage,backdropDismiss:!0,showBackdrop:!0,mode:"ios",componentProps:{index_p:t.i_row,nombre_tecnico:o,idtablet:t.IdDispositivo,titulo_modal:"Lista de Tecnicos",id_personal:r}});return g.onDidDismiss().then(m=>{if(null!=m.data){t.dataReturned=m.data,console.log("dataReturned::206",m);let a=0;for(const c of t.ArrayItemsSelectedDesti){if(t.ArrayItemsSelectedDesti[a].index==t.i_row){t.ArrayItemsSelectedDesti[a].nombres_tecnico=m.data.nombres,t.ArrayItemsSelectedDesti[a].id_personal=m.data.id;break}a++}}}),yield g.present()})()}select_change_material(i,t){console.log("select_change_material::",this.rest_pieza);for(const o of this.rest_material)console.log(this.ArrayItemsSelectedDesti[t].material),console.log(o.codigo,i.detail.value),o.codigo==i.detail.value&&(this.ArrayItemsSelectedDesti[t].material=o.nombre,this.ArrayItemsSelectedDesti[t].idmaterial=o.codigo,console.log(this.ArrayItemsSelectedDesti[t].material))}select_change_servicio_metalizado(i,t){for(const o of this.rest_servicio_metalizado)o.SEQMASERV==i.detail.value&&(this.ArrayItemsSelectedDesti[t].servicio_metalizado=o.Y04002,this.ArrayItemsSelectedDesti[t].idservicio_metalizado_ofd=o.SEQMASERV)}select_change_proceso_metalizado(i,t){for(const o of this.rest_proceso_metalizado)o.codigo==i.detail.value&&(this.ArrayItemsSelectedDesti[t].proceso_metalizado=o.nombre,this.ArrayItemsSelectedDesti[t].idproceso_metalizado_ofd=o.codigo)}select_change_proceso(i,t){for(const o of this.rest_subprocesos)o.idsubprocesosxservicio==i.detail.value&&(this.ArrayItemsSelectedDesti[t].proceso=o.nombre_proceso,this.ArrayItemsSelectedDesti[t].idproceso=o.idsubprocesosxservicio)}select_change_maquina(i,t){for(const o of this.rest_maquina)o.codigo==i.detail.value&&(this.ArrayItemsSelectedDesti[t].maquina=o.nombre,this.ArrayItemsSelectedDesti[t].idmaquina=o.codigo)}eliminar_item_servicio(i){this.alertSiNo=this.alertController.create({header:"Agregar Servicios",subHeader:"",mode:"ios",backdropDismiss:!0,cssClass:"alertHeader",message:"Confirmar que desea eliminar este item?",buttons:[{text:"Aceptar",cssClass:"alertButton",role:"A",handler:()=>{this.ArrayItemsSelectedDesti.splice(i,1)}},{text:"Cancelar",role:"F",handler:()=>{}}]}).then(t=>{t.present(),t.onDidDismiss().then(o=>{})})}agregar_item_servicio(i){this.i_row++,this.ArrayItemsSelectedDesti.push({index_i:0,index:this.i_row,cantidad:1,nrosolse_ot:"",fchvalesrv:"",SEQMASERV:"",Y04002:"",Y04001:"",codsmg:"",nombres:"",idtablet:this.IdDispositivo,idtecnico:"",imei:"",coloravatar:"",avatar:"",nombre_avatar:"",finicio_hvot_cab:"",ffin_hvot_cab:"",hora_finicio_hvot_cab:"",hora_ffin_hvot_cab:"",idhorasxvueltaotcab:"",nota_hvot:"",corre_hvot:"",nombres_ejecutor:"",ma00estado_nombre:"",resumen_Y04002:"",horas_ejecutadas:"",ma00estado_replicated:"",pieza_nombre:"",cntvueltas:0,marca_nombre:"",marca:"",potencia_nombre:"",potencia:"",tipo_nombre:"",tipo:"",actividad:i,proceso_metalizado:"",idproceso_metalizado_ofd:"",idservicio_metalizado_ofd:"",servicio_metalizado:"",cnt_metalizado_obs:0,cnt_29012_peso_ini:0,cnt_50000_peso_ini:0}),console.log("this.ArrayItemsSelectedDesti::>435",this.ArrayItemsSelectedDesti),this.segmento_cambiado({detail:{value:i}},0,0,i)}cancelar_ejecucion(){this.navCtrl.navigateForward("prod-list-acti-programada")}FOpenPopUpClaseByPieza(i){var t=this;return(0,S.Z)(function*(){let o,s,r,l,p=!1;for(const g of t.ArrayItemsSelectedDesti){if(t.ArrayItemsSelectedDesti[i].index==i){o="4"!=t.ArrayItemsSelectedDesti[i].actividad?t.ArrayItemsSelectedDesti[i].idclase_pt:"0",s=t.ArrayItemsSelectedDesti[i].actividad,o=t.ArrayItemsSelectedDesti[i].idclase_pt,r=t.ArrayItemsSelectedDesti[i].nomsubfam;break}i++}if(""==o&&(l=" Pieza",p=!0),""==t.IdDispositivo&&(l=" Tablet",p=!0),console.log("this.ArrayItemsSelectedDesti[index].actividad::",t.ArrayItemsSelectedDesti[i].actividad),p&&"4"!=t.ArrayItemsSelectedDesti[i].actividad&&"1"!=t.ArrayItemsSelectedDesti[i].actividad)return void t.alertController.create({header:"Servicios No Programados",cssClass:"danger",subHeader:"",mode:"ios",message:"Seleccionar  "+l+", en el item: ("+(i+1)+")",buttons:[{text:"Aceptar",cssClass:"bgcolor:danger",handler:()=>{}}]}).then(m=>{m.present()});const v=yield t.modalCtrl.create({component:E.ProdAteServPopClasePage,backdropDismiss:!0,showBackdrop:!0,mode:"ios",componentProps:{index_p:t.i_row,idclase:o,idtablet:t.IdDispositivo,avatar:s}});return v.onDidDismiss().then(g=>{if(null!==g){t.dataReturned=g.data;let m=0;for(const a of t.ArrayItemsSelectedDesti){if(t.ArrayItemsSelectedDesti[m].index==t.i_row){t.ArrayItemsSelectedDesti[m].idsubfamilia=g.data.idsubfamilia,t.ArrayItemsSelectedDesti[m].nomsubfam=g.data.nomsubfam,console.log(t.ArrayItemsSelectedDesti);break}m++}}}),yield v.present()})()}FOpenPopUpQrByOf(i){var t=this;return(0,S.Z)(function*(){let o,s,r,l,p,v,g=!1;console.log("this.ArrayItemsSelectedDesti::>",t.ArrayItemsSelectedDesti);for(const a of t.ArrayItemsSelectedDesti){if(console.log("index",i),console.log(t.ArrayItemsSelectedDesti[i].index),t.ArrayItemsSelectedDesti[i].index==i){o="4"!=t.ArrayItemsSelectedDesti[i].actividad?t.ArrayItemsSelectedDesti[i].idsubfamilia:"0",s=t.ArrayItemsSelectedDesti[i].codigo_qr,r=t.ArrayItemsSelectedDesti[i].idordenfabricab,p=t.ArrayItemsSelectedDesti[i].idclase,v=t.ArrayItemsSelectedDesti[i].nomclase;break}i++}if(""==o&&(l=" Pieza",g=!0),""==t.IdDispositivo&&(l=" Tablet",g=!0),g&&"4"!=t.ArrayItemsSelectedDesti[i].actividad&&"1"!=t.ArrayItemsSelectedDesti[i].actividad)return void t.alertController.create({header:"Servicios No Programados",cssClass:"danger",subHeader:"",mode:"ios",message:"Seleccionar  "+l+", en el item: ("+(i+1)+")",buttons:[{text:"Aceptar",cssClass:"bgcolor:danger",handler:()=>{}}]}).then(c=>{c.present()});t.scanActive=!0;const m=yield t.modalCtrl.create({component:I.ProdAteServPopQrPage,backdropDismiss:!0,mode:"ios",cssClass:"ion_content_qr",componentProps:{index_p:t.i_row,idordenfabricab:r,codigo_qr:s,idclase:p,nomclase:v}});return m.onDidDismiss().then(a=>{if(null!==a){t.dataReturned=a.data;let c=0;for(const T of t.ArrayItemsSelectedDesti){if(t.ArrayItemsSelectedDesti[c].index==t.i_row){console.log(a.data),console.log(a.data.row),t.scanActive=!1,t.ArrayItemsSelectedDesti[c].idordenfabricab=a.data.row.idordenfabricab,t.ArrayItemsSelectedDesti[c].idofpterminado=a.data.row.idofpterminado,t.ArrayItemsSelectedDesti[c].EQUIPOID=a.data.row.EQUIPOID,t.ArrayItemsSelectedDesti[c].fasignado=a.data.row.fasignado,t.ArrayItemsSelectedDesti[c].avatar=a.data.row.avatar,t.ArrayItemsSelectedDesti[c].correorden=a.data.row.correorden,t.ArrayItemsSelectedDesti[c].descripcion_pt=a.data.row.descripcion_pt,t.ArrayItemsSelectedDesti[c].cantidad=a.data.row.cantidad,t.ArrayItemsSelectedDesti[c].idestado=a.data.row.idestado,t.ArrayItemsSelectedDesti[c].nomclase_pt=a.data.row.nomclase,t.ArrayItemsSelectedDesti[c].codigo_qr=a.data.row.codigo_qr,t.ArrayItemsSelectedDesti[c].codsmg=a.data.row.codsmg,t.ArrayItemsSelectedDesti[c].idclase_pt=a.data.row.idclase,t.ArrayItemsSelectedDesti[c].nomsubfam=a.data.row.nomsubfam,t.ArrayItemsSelectedDesti[c].idsubfamilia=a.data.row.idsubfamilia,t.ArrayItemsSelectedDesti[c].proceso_metalizado=a.data.row.proceso_metalizado,t.ArrayItemsSelectedDesti[c].servicio_metalizado=a.data.row.servicio_metalizado,t.ArrayItemsSelectedDesti[c].cnt_metalizado_obs=a.data.row.cnt_metalizado_obs,t.ArrayItemsSelectedDesti[c].cnt_29012_peso_ini=a.data.row.cnt_29012_peso_ini,t.ArrayItemsSelectedDesti[c].cnt_50000_peso_ini=a.data.row.cnt_50000_peso_ini;break}c++}}}),yield m.present()})()}FOpenPopUpOfByClase(i){var t=this;return(0,S.Z)(function*(){let o,s,r,l,p,v,g=!1;for(const a of t.ArrayItemsSelectedDesti){if(t.ArrayItemsSelectedDesti[i].index==i){o="4"!=t.ArrayItemsSelectedDesti[i].actividad?t.ArrayItemsSelectedDesti[i].idsubfamilia:"0",s=t.ArrayItemsSelectedDesti[i].correorden,o=t.ArrayItemsSelectedDesti[i].idsubfamilia,p=t.ArrayItemsSelectedDesti[i].idordenfabricab,r=t.ArrayItemsSelectedDesti[i].idclase,l=t.ArrayItemsSelectedDesti[i].descripcion_pt;break}i++}""==o&&(v=" Pieza",g=!0),""==t.IdDispositivo&&(v=" Tablet",g=!0);const m=yield t.modalCtrl.create({component:O.ProdAteServPopOfPage,backdropDismiss:!0,showBackdrop:!0,mode:"ios",componentProps:{index_p:t.i_row,idsubfamilia:o,idclase:r,idordenfabricab:p,correorden:s,Y04002:l}});return m.onDidDismiss().then(a=>{if(null!==a){t.dataReturned=a.data;let c=0;for(const T of t.ArrayItemsSelectedDesti){if(t.ArrayItemsSelectedDesti[c].index==t.i_row){t.ArrayItemsSelectedDesti[c].idordenfabricab=a.data.idordenfabricab,t.ArrayItemsSelectedDesti[c].correorden=a.data.correorden,t.ArrayItemsSelectedDesti[c].descripcion_pt=a.data.Y04002,t.ArrayItemsSelectedDesti[c].idofpterminado=a.data.idofpterminado,t.ArrayItemsSelectedDesti[c].idclase=a.data.idclase,t.ArrayItemsSelectedDesti[c].nomclase=a.data.nomclase,t.ArrayItemsSelectedDesti[c].nomsubfam=a.data.nomsubfam,t.ArrayItemsSelectedDesti[c].idsubfamilia=a.data.idsubfamilia,t.ArrayItemsSelectedDesti[c].codigo_pt=a.data.Y04001;break}c++}}}),yield m.present()})()}open_popup_servicios(i){var t=this;return(0,S.Z)(function*(){let o,s,r,l,p,v,g=!1;for(const a of t.ArrayItemsSelectedDesti){if(t.ArrayItemsSelectedDesti[i].index==i){o="4"!=t.ArrayItemsSelectedDesti[i].actividad?t.ArrayItemsSelectedDesti[i].idclase:"0",s=t.ArrayItemsSelectedDesti[i].actividad,l=t.ArrayItemsSelectedDesti[i].SEQMASERV,r=t.ArrayItemsSelectedDesti[i].Y04002,p=t.ArrayItemsSelectedDesti[i].nomclase;break}i++}if(""==o&&(v=" Pieza",g=!0),""==t.IdDispositivo&&(v=" Tablet",g=!0),g)return void t.alertController.create({header:"Servicios No Programados",cssClass:"danger",subHeader:"",mode:"ios",message:"Seleccionar  "+v+", en el item: ("+(i+1)+")",buttons:[{text:"Aceptar",cssClass:"bgcolor:danger",handler:()=>{}}]}).then(c=>{c.present()});const m=yield t.modalCtrl.create({component:y.PopUpServiciosPage,backdropDismiss:!0,showBackdrop:!0,mode:"ios",componentProps:{index_p:t.i_row,idpieza:o,idtablet:t.IdDispositivo,avatar:s,SEQMASERV:l,Y04002:r,nomclase:p}});return m.onDidDismiss().then(a=>{if(null!==a){t.dataReturned=a.data;let c=0;for(const T of t.ArrayItemsSelectedDesti){if(t.ArrayItemsSelectedDesti[c].index==t.i_row){t.ArrayItemsSelectedDesti[c].Y04002=a.data.Y04002,t.ArrayItemsSelectedDesti[c].SEQMASERV=a.data.SEQMASERV,t.ArrayItemsSelectedDesti[c].Y04001=a.data.Y04001,t.ArrayItemsSelectedDesti[c].flag_serv_eje_ms=a.data.flag_serv_eje_ms,console.log(a.data),t.load_cbo_subprocesos(c),"1"==a.data.es_con_procesos_ms&&(console.log(a.data.es_con_procesos_ms),t.hide_div_metalizado[t.i_row]=!0);break}c++}}}),yield m.present()})()}open_popup_pterminado(i){var t=this;return(0,S.Z)(function*(){for(const g of t.ArrayItemsSelectedDesti){if(t.ArrayItemsSelectedDesti[i].index==t.i_row)break;i++}const v=yield t.modalCtrl.create({component:w.PopUpPtPage,backdropDismiss:!0,showBackdrop:!0,mode:"ios",componentProps:{index_p:t.i_row,idmarca:undefined,idpotencia:undefined,idtipo:undefined}});return v.onDidDismiss().then(g=>{if(null!==g){t.dataReturned=g.data;let m=0;for(const a of t.ArrayItemsSelectedDesti){if(t.ArrayItemsSelectedDesti[m].index==t.i_row)break;m++}}}),yield v.present()})()}open_popup_equipos(){var i=this;return(0,S.Z)(function*(){if(i.readonly_qr)return!1;const t=yield i.modalCtrl.create({component:_.PopUpEquiposPage,backdropDismiss:!0,showBackdrop:!0,mode:"ios",componentProps:{index_p:i.i_row}});return t.onDidDismiss().then(o=>{if(null!==o){i.dataReturned=o.data;let s=0;for(const r of i.ArrayItemsSelectedDesti){if(i.ArrayItemsSelectedDesti[s].index==i.i_row){i.ArrayItemsSelectedDesti[s].codsmg=o.data.idequipo;break}s++}}}),yield t.present()})()}quitar_vale_selected(i){this.loadingController.create({message:"Porfavor espere...",translucent:!0}).then(o=>{o.present()})}segmento_cambiado(i,t,o,s){let r,l;switch(console.log(s),console.log(i),r=0==s?parseInt(i.detail.value):parseInt(s),r){case 1:console.log("switch_",r),this.hide_div_equipo[o]=!0,this.hide_div_pt[o]=!1,this.hide_div_serv[o]=!0,l="Servicios Taller";break;case 2:this.hide_div_equipo[o]=!1,this.hide_div_pt[o]=!0,this.hide_div_serv[o]=!0,l="Fabricacion Bomba";break;case 3:this.hide_div_equipo[o]=!1,this.hide_div_pt[o]=!0,this.hide_div_serv[o]=!0,l="Fabricacion Repuesto";break;case 4:this.hide_div_equipo[o]=!1,this.hide_div_pt[o]=!1,this.hide_div_serv[o]=!1,l="Costos Taller"}let p=0;for(const v of this.ArrayItemsSelectedDesti)this.ArrayItemsSelectedDesti[p].index==o&&(this.ArrayItemsSelectedDesti[p].avatar=i.detail.value),p++;p=o,this.ArrayItemsSelectedDesti[p].cantidad=1,this.ArrayItemsSelectedDesti[p].Y04002="",this.ArrayItemsSelectedDesti[p].Y04001="",this.ArrayItemsSelectedDesti[p].codsmg="",this.ArrayItemsSelectedDesti[p].coloravatar=""}listServiciosNuevos(){this.loadingController.create({message:"Cargando lista...",translucent:!0}).then(t=>{t.present(),this.serviceProduccion.llamarMaestroServicios(this.searchTerm,this.switchButtonSegmento,"11","H",this.id_device).then(o=>{this.results=o}).finally(()=>{this.loadingController.dismiss()})})}agregar_vale(i){this.loadingController.create({message:"Agregando servicio...",translucent:!0}).then(o=>{o.present()}).finally(()=>{i.avatar=this.avatar_tv,i.index=this.index_param,this.storage.set(this.ItemsSelectedServ,i).then(o=>{this.storage.get(this.ItemsSelectedServ).then(s=>{this.ArrayItemsSelectedDesti.push(s),this.loadingController.dismiss()})})}).catch(()=>{})}guardar_selected(){let s="",r=0,l=0;for(const p of this.ArrayItemsSelectedDesti){if(null==this.ArrayItemsSelectedDesti[r].avatar||""==this.ArrayItemsSelectedDesti[r].avatar){l=2,s=" Fala seleccionar actividad ";break}if(this.CssNotiPieza="field_required_ok","4"!=this.ArrayItemsSelectedDesti[r].avatar){if(null==this.ArrayItemsSelectedDesti[r].nomclase||""==this.ArrayItemsSelectedDesti[r].nomclase){l=2,s=" Fala seleccionar  Pieza",this.CssNotiPieza="field_required";break}if(this.CssNotiMaterial="field_required_ok",null==this.ArrayItemsSelectedDesti[r].material||""==this.ArrayItemsSelectedDesti[r].material){l=2,s=" Fala agregar material",this.CssNotiMaterial="field_required";break}}if(this.CssNotiServicio="field_required_ok",null==this.ArrayItemsSelectedDesti[r].Y04002||""==this.ArrayItemsSelectedDesti[r].Y04002){l=2,s=" Fala agregar servicio",this.CssNotiServicio="field_required";break}if(this.CssNotiTenico="field_required_ok",null==this.ArrayItemsSelectedDesti[r].nombres_tecnico||""==this.ArrayItemsSelectedDesti[r].nombres_tecnico){l=2,s=" Fala agregar t\xe9cnico",this.CssNotiTenico="field_required";break}if(this.CssNotiMaquina="field_required_ok",null==this.ArrayItemsSelectedDesti[r].maquina||""==this.ArrayItemsSelectedDesti[r].maquina){l=2,s=" Fala agregar m\xe1quina",this.CssNotiMaquina="field_required";break}if(this.hide_div_proceso[r]&&(this.CssNotiProceso="field_required_ok",null==this.ArrayItemsSelectedDesti[r].proceso||""==this.ArrayItemsSelectedDesti[r].proceso)){l=2,s=" Falta selecccionar procesos",this.CssNotiProceso="field_required";break}if(this.hide_div_metalizado[r]&&(this.CssNotiProcesoMetalizado="field_required_ok",null==this.ArrayItemsSelectedDesti[r].proceso_metalizado||""==this.ArrayItemsSelectedDesti[r].proceso_metalizado)){l=2,s=" Falta selecccionar procesos",this.CssNotiProcesoMetalizado="field_required";break}if(this.hide_div_metalizado[r]){if(this.CssNotiServicioMetalizado="field_required_ok",null==this.ArrayItemsSelectedDesti[r].servicio_metalizado||""==this.ArrayItemsSelectedDesti[r].servicio_metalizado){l=2,s=" Falta selecccionar servicio",this.CssNotiServicioMetalizado="field_required";break}if(this.CssNotiServicioObservados="field_required_ok",null==this.ArrayItemsSelectedDesti[r].cnt_metalizado_obs||0==this.ArrayItemsSelectedDesti[r].cnt_metalizado_obs){l=2,s=" Falta selecccionar servicio",this.CssNotiServicioObservados="field_required";break}if(this.CssNotiServicio500PesoInicial="field_required_ok",null==this.ArrayItemsSelectedDesti[r].cnt_50000_peso_ini||0==this.ArrayItemsSelectedDesti[r].cnt_50000_peso_ini){l=2,s=" Falta selecccionar servicio",this.CssNotiServicio500PesoInicial="field_required";break}if(this.CssNotiServicioPesoIni="field_required_ok",null==this.ArrayItemsSelectedDesti[r].cnt_29012_peso_ini||0==this.ArrayItemsSelectedDesti[r].cnt_29012_peso_ini){l=2,s=" Falta selecccionar servicio",this.CssNotiServicioPesoIni="field_required";break}}r++}1==l||2==l?this.alertController.create({header:"Iniciar Servicios",cssClass:"success",subHeader:"",mode:"ios",message:""+s,buttons:[{text:"Aceptar",cssClass:"bgcolor:danger",handler:()=>{}}]}).then(v=>{v.present()}):this.loadingController.create({message:"Cargando...",translucent:!0}).then(v=>{v.present(),this.ArrayItemsSelectedDesti[0].acc="7",this.ApiServices.SaveInicioActividad(this.ArrayItemsSelectedDesti[0]).then(g=>{let m;if(m=g[0],console.log(m),console.log(m.o_nres),0==m.o_nres)alert("Error, no se pudo guardar correctamente.");else{this.ArrayItemsSelectedDesti[0].pk_idservicio=m.o_nres,this.ArrayItemsSelectedDesti[0].fecha_inicio=m.p1,this.ArrayItemsSelectedDesti[0].idTargetMenu=1,this.ArrayItemsSelectedDesti[0].idestado=1;let a={state:this.ArrayItemsSelectedDesti[0]};this.loadingController.dismiss(),console.log("navigationExtras",a),this.navCtrl.navigateForward(["prod-ate-serv-inicia-actividad"],a)}}).finally(()=>{console.log("finalyyyy")})})}lista_equipos(){this.loadingController.create({message:"Cargando lista...",translucent:!0}).then(t=>{t.present(),this.serviceProduccion.listado_equipos_service(this.search_term_equipo,this.switchButtonSegmento,"17","H").then(o=>{this.results_equipos=o}).finally(()=>{this.loadingController.dismiss(),setTimeout(()=>{this.idinputsearch_equipo.setFocus()},600)})})}load_cbos_pieza_material_maquina(){this.loadingController.create({message:"Cargando listas...",translucent:!0}).then(t=>{t.present(),this.ApiServices.load_cbos_pieza_material_maquina(this.actividad,this.IdUsuarioLocal,this.IdDispositivo).then(o=>{this.rest_maquina=o.maquinas,this.rest_material=o.material,this.rest_pieza=o.pieza,this.rest_servicio_metalizado=o.servicio_metalizado,this.rest_proceso_metalizado=o.proceso_metalizado}).finally(()=>{this.loadingController.dismiss()})})}load_cbo_subprocesos(i){this.loadingController.create({message:"Cargando sub-procesos..."}).then(o=>{o.present(),this.ApiServices.load_cbo_subprocesos(this.ArrayItemsSelectedDesti[i].idmaquina,this.ArrayItemsSelectedDesti[i].nomclase,this.ArrayItemsSelectedDesti[i].Y04002).then(s=>{this.rest_subprocesos=s,console.log(this.rest_subprocesos),console.log(this.rest_subprocesos.length),"0"!=this.rest_subprocesos.length?(console.log(this.rest_subprocesos),this.hide_div_proceso[i]=!0):this.hide_div_proceso[i]=!1}).finally(()=>{this.loadingController.dismiss()})})}limpiar_cbo_pieza(i){this.ArrayItemsSelectedDesti[i].nomclase="",this.ArrayItemsSelectedDesti[i].idclase="",this.ArrayItemsSelectedDesti[i].idclase_pt="",this.ArrayItemsSelectedDesti[i].idsubfamilia="",this.ArrayItemsSelectedDesti[i].nomsubfam=""}}return n.\u0275fac=function(i){return new(i||n)(e.Y36(d.SH),e.Y36(d.HT),e.Y36(f.k),e.Y36(A.Z),e.Y36(D.K),e.Y36(C.gz),e.Y36(C.F0),e.Y36(d.Br),e.Y36(d.IN),e.Y36(d.t4))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-addserviciostodet"]],viewQuery:function(i,t){if(1&i&&(e.Gf(P,5),e.Gf(U,5)),2&i){let o;e.iGM(o=e.CRH())&&(t.idInputSearch=o.first),e.iGM(o=e.CRH())&&(t.idinputsearch_equipo=o.first)}},standalone:!0,features:[e.jDz],decls:22,vars:8,consts:[["mode","ios"],["text-capitalize",""],["slot","start"],["defaultHref","prod-list-acti-programada",3,"text","disabled"],[3,"--background",4,"ngFor","ngForOf"],[3,"hidden"],[2,"text-align","center"],["color","danger",3,"disabled","click"],["name","close-outline"],["color","primary",3,"disabled","click"],["name","save-outline"],[1,"ion-align-items-center"],["size","3",1,"ion-text-end"],["size","9"],["mode","ios","debounce","500",3,"ngModel","ionChange","ngModelChange"],["value","1"],["value","3"],["value","2"],["value","4"],["class","ion-align-items-center",4,"ngIf"],["cancelText","Cancelar","placeholder","Seleccionar material","color","primary","interface","action-sheet","mode","ios",3,"selectedText","ngModel","ionChange","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Buscar Tecnico","mode","ios","readonly","",3,"ngModel","value","click","ngModelChange"],["size","3",1,"ion-text-end","ion-align-items-baseline"],["cancelText","Cancelar","placeholder","Seleccionar Maquina","color","primary","interface","action-sheet","mode","ios",3,"selectedText","ngModel","ionChange","ngModelChange"],["size","9",1,"ion-text-start"],["type","text","placeholder","","mode","ios","readonly","",3,"ngModel","value","click","ngModelChange"],["hidden","",1,"ion-align-items-center"],["required","true","color","primary","type","number","mode","ios",3,"ngModel","value","ngModelChange"],["type","hidden",3,"ngModel","ngModelChange"],["size","7"],["placeholder","Ingresar C\xf3digo",3,"ngModel","ngModelChange","click"],["size","2"],["color","light",3,"hidden","click"],["color","primary"],["name","open-outline"],["size","3",1,"ion-text-end","ion-no-padding"],[1,"ion-no-padding","ion-text-end",2,"max-width","350px !important"],[2,"font-size","11px","color","red"],["type","text","mode","ios","disabled","",3,"ngModel","value","ngModelChange"],["size","12"],["size","3",1,"ion-text-right"],["size","3",1,"ion-text-left"],["type","text","placeholder","Buscar Clase","mode","ios","readonly","",3,"ngModel","value","click","ngModelChange"],["type","text","placeholder","Buscar Pieza","mode","ios","readonly","",3,"ngModel","value","click","ngModelChange"],["name","close-circle-outline"],["type","text","placeholder","Ingresar O.F.","mode","ios","readonly","",3,"ngModel","value","click","ngModelChange"],["type","text","placeholder","","readonly","",3,"ngModel","value","ngModelChange"],["type","text","placeholder","Ingresar Codigo","color","primary","readonly","",3,"ngModel","value","ngModelChange","click"],[3,"value"],["cancelText","Cancelar","okText","Ok!","placeholder","Seleccionar Proceso","color","primary","interface","action-sheet","mode","ios",3,"selectedText","ngModel","ionChange","ngModelChange"],["cancelText","Cancelar","placeholder","Seleccionar Proceso","color","primary","interface","action-sheet","mode","ios",3,"selectedText","ngModel","ionChange","ngModelChange"],["cancelText","Cancelar","placeholder","Seleccionar Servicio","color","primary","interface","action-sheet","mode","ios",3,"selectedText","ngModel","ionChange","ngModelChange"],["type","number",3,"ngModel","ngModelChange"]],template:function(i,t){1&i&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title",1),e._uU(3,"Formulario Servicio"),e.qZA(),e.TgZ(4,"ion-buttons",2),e._UZ(5,"ion-back-button",3),e.qZA()()(),e.TgZ(6,"ion-content"),e.YNc(7,ie,72,44,"ion-list",4),e.qZA(),e.TgZ(8,"ion-footer")(9,"ion-grid",5)(10,"ion-row"),e._UZ(11,"ion-col"),e.TgZ(12,"ion-col",6)(13,"ion-buttons")(14,"ion-button",7),e.NdJ("click",function(){return t.cancelar_ejecucion()}),e._UZ(15,"ion-icon",8),e._uU(16,"\xa0 Cancelar "),e.qZA(),e._uU(17," \xa0\xa0\xa0\xa0 "),e.TgZ(18,"ion-button",9),e.NdJ("click",function(){return t.guardar_selected()}),e._UZ(19,"ion-icon",10),e._uU(20,"\xa0 Iniciar "),e.qZA()()(),e._UZ(21,"ion-col"),e.qZA()()()),2&i&&(e.xp6(5),e.Q6J("text",t.Cancelar)("disabled",t.disableButton),e.xp6(1),e.Udp("--background",t.scanActive?"#00000000":"#fff"),e.xp6(1),e.Q6J("ngForOf",t.ArrayItemsSelectedDesti),e.xp6(2),e.Q6J("hidden",t.scanActive),e.xp6(5),e.Q6J("disabled",t.disableButton),e.xp6(4),e.Q6J("disabled",t.disableButton))},dependencies:[d.Pc,d.oU,d.YG,d.Sm,d.wI,d.W2,d.fr,d.jY,d.Gu,d.gu,d.pK,d.Ie,d.Q$,d.q_,d.Nd,d.VI,d.cJ,d.GO,d.t9,d.n0,d.yW,d.wd,d.sr,d.as,d.QI,d.j9,d.cs,x.ez,x.sg,x.O5,b.u5,b.JJ,b.Q7,b.On],styles:[".alertHeader[_ngcontent-%COMP%], h2.alertHeader[_ngcontent-%COMP%]{color:#b52024!important}.modal-transparency[_ngcontent-%COMP%]{--background: transparent;--height: 80%}.CssReproceso[_ngcontent-%COMP%]{color:#b52024!important;font-size:large}ion-content[_ngcontent-%COMP%]{--background: transparent !important}"]}),n})()},5155:(z,M,u)=>{u.r(M),u.d(M,{ProdAteServPopPersonalPage:()=>O});var S=u(5861),x=u(6895),b=u(433),d=u(5562),_=u(8256),w=u(5719),Z=u(849);const q=["IdHtmlInputSearch"];function E(I,y){if(1&I){const e=_.EpF();_.TgZ(0,"ion-list",7)(1,"ion-item",8),_.NdJ("click",function(){const A=_.CHM(e),D=A.$implicit,C=A.index,P=_.oxw();return _.KtG(P.FSelectedItem(D.id_personal,D.nombres_tecnico,C))}),_.TgZ(2,"ion-label")(3,"strong"),_._uU(4),_.qZA(),_.TgZ(5,"p"),_._uU(6),_.qZA()()()()}if(2&I){const e=y.$implicit,A=y.even;_.ekj("odd",y.odd)("even",A),_.xp6(4),_.Oqu(e.nombres_tecnico),_.xp6(2),_.Oqu(e.cargo)}}let O=(()=>{class I{constructor(e,f,A,D){let C;this.ApiService=e,this.loadingCtrl=f,this.modalCtrl=A,this.storage=D,this.storage.get("USER_INFO").then(P=>{C=P,this.NombresUsuarioLocal=C.user_name,this.IdUsuarioLocal=C.user_id}),this.storage.get("DEVICE_INFO").then(P=>{C=P,this.NombreDispositivo=C.name,this.IdDispositivo=C.uuid})}ngOnInit(){this.nombre_tecnico=null==this.nombre_tecnico?"":this.nombre_tecnico,this.FFindRows()}FOnCloseModel(e,f,A){var D=this;return(0,S.Z)(function*(){const C={id:e,nombres:f};console.log(C),yield D.modalCtrl.dismiss(C)})()}FSelectedItem(e,f,A){this.FOnCloseModel(e,f,A)}FCloseModal(){this.nombre_tecnico=null==this.nombre_tecnico?"":this.nombre_tecnico,this.id_personal=null==this.id_personal?"":this.id_personal,this.FOnCloseModel(this.id_personal,this.nombre_tecnico,0)}FFindRows(){this.loadingCtrl.create({message:"Cargando lista...",translucent:!0}).then(f=>{f.present(),this.ApiService.ListFindPersonal(this.NgModInputSearch,this.IdUsuarioLocal,this.IdDispositivo).then(A=>{this.DataSetGrid=A}).finally(()=>{this.loadingCtrl.dismiss()})})}}return I.\u0275fac=function(e){return new(e||I)(_.Y36(w.Z),_.Y36(d.HT),_.Y36(d.IN),_.Y36(Z.K))},I.\u0275cmp=_.Xpm({type:I,selectors:[["app-prod-ate-serv-pop-personal"]],viewQuery:function(e,f){if(1&e&&_.Gf(q,5),2&e){let A;_.iGM(A=_.CRH())&&(f.IdHtmlInputSearch=A.first)}},inputs:{titulo_modal:"titulo_modal",nombre_tecnico:"nombre_tecnico",id_personal:"id_personal"},standalone:!0,features:[_.jDz],decls:13,vars:3,consts:[["mode","ios"],["slot","start"],[1,"",3,"click"],["part","icon","aria-hidden","true","role","img","name","chevron-back-outline",1,"md","hydrated"],["mode","ios","debounce","1700","cancelButtonText","Cancelar","enterkeyhint","done","placeholder","Filtrar parametros",2,"width","100%",3,"ngModel","ngModelChange","ionChange"],["IdHtmlInputSearch",""],["lines","full","inset","true",3,"odd","even",4,"ngFor","ngForOf"],["lines","full","inset","true"],["button","",3,"click"]],template:function(e,f){1&e&&(_.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),_._uU(3),_.qZA(),_.TgZ(4,"ion-buttons",1)(5,"ion-button",2),_.NdJ("click",function(){return f.FCloseModal()}),_._UZ(6,"ion-icon",3),_._uU(7," Cancelar "),_.qZA()()()(),_.TgZ(8,"ion-content")(9,"ion-item")(10,"ion-searchbar",4,5),_.NdJ("ngModelChange",function(D){return f.NgModInputSearch=D})("ionChange",function(){return f.FFindRows()}),_.qZA()(),_.YNc(12,E,7,6,"ion-list",6),_.qZA()),2&e&&(_.xp6(3),_.Oqu(f.titulo_modal),_.xp6(7),_.Q6J("ngModel",f.NgModInputSearch),_.xp6(2),_.Q6J("ngForOf",f.DataSetGrid))},dependencies:[d.Pc,d.YG,d.Sm,d.W2,d.Gu,d.gu,d.Ie,d.Q$,d.q_,d.VI,d.wd,d.sr,d.j9,x.ez,x.sg,b.u5,b.JJ,b.On],styles:[".back_button_geo[_ngcontent-%COMP%]{--background-hover: transparent;--background-hover-opacity: 1;--background-focused: currentColor;--background-focused-opacity: .1;--border-radius: 4px;--color: var(--ion-color-primary, #3880ff);--icon-margin-end: -5px;--icon-margin-start: -4px;--icon-font-size: 1.85em;--min-height: 32px;font-size:17px;--background: transparent;--color-focused: currentColor;--color-hover: currentColor;--icon-margin-top: 0;--icon-margin-bottom: 0;--icon-padding-top: 0;--icon-padding-end: 0;--icon-padding-bottom: 0;--icon-padding-start: 0;--margin-top: 0;--margin-end: 0;--margin-bottom: 0;--margin-start: 0;--min-width: auto;--min-height: auto;--padding-top: 0;--padding-end: 0;--padding-bottom: 0;--padding-start: 0;--opacity: 1;--ripple-color: currentColor;--transition: background-color, opacity .1s linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;user-select:none;font-kerning:none}"]}),I})()}}]);