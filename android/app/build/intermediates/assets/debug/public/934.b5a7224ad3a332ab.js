"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[934],{4160:(M,v,c)=>{c.d(v,{J:()=>F});var g=c(5861),C=c(2519),l=c(6242),t=c(9862),E=c(2014);let F=(()=>{var m;class A{constructor(o,i){this.httpClient=o,this.storage=i,this.urlApiProd=C.N.UrlDomainLocal+"aw_modulos/mante/api/CApiInformeTecnico.php",this.urlApiInf=C.N.UrlDomainLocal+"aw_modulos/mante/api/CApiInformeTablero.php",this.confirmRequest=""}ListFindOts(o,i,n){let e=JSON.stringify({acc:1,s:o,idusu:i,iddevice:n});return this.httpClient.post(this.urlApiProd,e).toPromise().then(r=>r)}SaveCheckListCab(o,i,n){let e=JSON.stringify({acc:2,id_orden_trab_cab:o,idusu:i,iddevice:n});return this.httpClient.post(this.urlApiProd,e).toPromise().then(r=>r)}FormFindPaso1(o,i,n){let e=JSON.stringify({acc:3,idchecklistcab:o,idusu:i,iddevice:n});return this.httpClient.post(this.urlApiProd,e).toPromise().then(r=>r)}FLoadPiezasAcordion(o,i,n){let e=JSON.stringify({acc:7,id:o,p2:i,cod_inf:n});return this.httpClient.post(this.urlApiProd,e).toPromise().then(r=>r)}FLoadServiciosxPiezas(o,i){let n=JSON.stringify({acc:8,id:o,p2:i});return this.httpClient.post(this.urlApiProd,n).toPromise().then(e=>e)}GuardarFormPaso1(o){var i=this;return(0,g.Z)(function*(){console.log("Dentro::GuardarFormulario::>",o);let e=i.urlApiProd,r=JSON.stringify(o);return i.httpClient.post(e+"?acc=4",r).toPromise()})()}GuardarinfPaso1(o){var i=this;return(0,g.Z)(function*(){console.log("Dentro::GuardarFormulario::>",o);let e=i.urlApiInf,r=JSON.stringify(o);return i.httpClient.post(e+"?acc=2",r).toPromise()})()}GuardarinfPaso2(o){var i=this;return(0,g.Z)(function*(){console.log("Dentro::GuardarFormulario::>",o);let e=i.urlApiInf,r=JSON.stringify(o);return i.httpClient.post(e+"?acc=3",r).toPromise()})()}GuardarinfPaso3(o){var i=this;return(0,g.Z)(function*(){console.log("Dentro::GuardarFormulario::>",o);let e=i.urlApiInf,r=JSON.stringify(o);return i.httpClient.post(e+"?acc=4",r).toPromise()})()}GuardarinfPaso4(o){var i=this;return(0,g.Z)(function*(){console.log("Dentro::GuardarFormulario::>",o);let e=i.urlApiInf,r=JSON.stringify(o);return i.httpClient.post(e+"?acc=5",r).toPromise()})()}GuardarinfPaso5(o){var i=this;return(0,g.Z)(function*(){let e=i.urlApiInf,r=JSON.stringify(o);return console.log("datos enviados",r),i.httpClient.post(e+"?acc=6",r).toPromise()})()}GuardarFormPaso2(o,i,n,e,r,_,d){var s=this;return(0,g.Z)(function*(){let a,h=s.urlApiProd,P=JSON.stringify({idservicio:o,idpapa:i,idhijo:n,idusuario:e,acc:9,idclase:r,ck:_,cod_material:d});return s.httpClient.post(h+"?acc=6",P).toPromise().then(p=>{console.log(p),a=p,s.confirmSaveBd=a[0].o_nres,s.confirmRequest=a},p=>{console.log(p,"Error- something is wrong!")})})()}FormFindPaso3(o,i,n){let e=JSON.stringify({acc:7,idchecklistcab:o,idusu:i,iddevice:n});return this.httpClient.post(this.urlApiProd,e).toPromise().then(r=>r)}GuardarFormPaso3(o){var i=this;return(0,g.Z)(function*(){let n,e=i.urlApiProd,r=JSON.stringify(o);return i.httpClient.post(e+"?acc=8",r).toPromise().then(_=>{console.log(_),n=_,i.confirmSaveBd=n[0].o_nres,i.confirmRequest=n},_=>{console.log(_,"Error- something is wrong!")})})()}FormFindPaso5(o,i,n){let e=JSON.stringify({acc:10,id:o,idusu:i,iddevice:n});return this.httpClient.post(this.urlApiProd,e).toPromise().then(r=>r)}GuardarFormPaso5(o){var i=this;return(0,g.Z)(function*(){let e=i.urlApiProd,r=JSON.stringify(o);return i.httpClient.post(e+"?acc=11",r).toPromise()})()}FormFindPaso6(o,i,n){let e=JSON.stringify({acc:12,idchecklistcab:o,idusu:i,iddevice:n});return this.httpClient.post(this.urlApiProd,e).toPromise().then(r=>r)}GuardarFormPaso6(o){var i=this;return(0,g.Z)(function*(){let e=i.urlApiProd,r=JSON.stringify(o);return i.httpClient.post(e+"?acc=13",r).toPromise()})()}GuardarAplicaPaso(o,i,n){var e=this;return(0,g.Z)(function*(){let r,d,_=e.urlApiProd;d={idchecklistcab:o,numeroPaso:i,ck:n};let s=JSON.stringify(d);return e.httpClient.post(_+"?acc=15",s).toPromise().then(a=>{console.log(a),r=a,e.confirmSaveBd=r[0].o_nres,e.confirmRequest=r},a=>{console.log(a,"Error- something is wrong!")})})()}getImages(o){return this.httpClient.get(`${this.urlApiProd}?acc=5&id=`+o)}uploadImage(o,i,n){let e=new FormData;return e.append("file",o,"myimage."+n),e.append("id",i),e.append("acc","6"),e.append("type","image/png"),this.httpClient.post(this.urlApiProd,e)}UpLoadImageMultiple(o,i,n){try{let e=new FormData;e.append("id",i),e.append("acc","15"),e.append("type","image/png");for(let r=0;r<o.length;r++)console.log("image::ruta=>::>",o[r]),e.append("images[]",o[r],`image_${r}.jpg`);return this.httpClient.post(this.urlApiProd,e)}catch(e){console.error("Error al enviar im\xe1genes al API:",e)}}LoadPdfInformeTecnico(o){let i=JSON.stringify({acc:14,idchecklistcab:o});return this.httpClient.post(this.urlApiProd,i).toPromise().then(n=>n)}deleteImage(o){return this.httpClient.delete(`${this.urlApiProd}?acc=16&id=${o}`)}}return(m=A).\u0275fac=function(o){return new(o||m)(l.LFG(t.eN),l.LFG(E.K))},m.\u0275prov=l.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),A})()},934:(M,v,c)=>{c.r(v),c.d(v,{MttoWinInformeTecnico2Page:()=>e});var g=c(6814),C=c(95),l=c(6728),t=c(6242),E=c(5472),F=c(4160),m=c(2014),A=c(4248),I=c(6172);const o=["listenerOut"];function i(r,_){if(1&r){const d=t.EpF();t.TgZ(0,"ion-item")(1,"ion-toggle",6),t.NdJ("ionChange",function(a){const h=t.CHM(d).$implicit,P=t.oxw().$implicit,p=t.oxw();return t.KtG(p.FasignaServicio(a,h.seqmaserv_is,p.globalVal.corre_inf_cab,h.idinformeservicio,P.idclase,P.SEQMA04))}),t.TgZ(2,"ion-label",7),t._uU(3),t.qZA()()()}if(2&r){const d=_.$implicit;t.xp6(1),t.Q6J("checked","1"===d.idestado_is),t.xp6(2),t.Oqu(d.Y04002)}}function n(r,_){if(1&r){const d=t.EpF();t.TgZ(0,"ion-item-group")(1,"ion-item-divider",4),t.NdJ("click",function(){const u=t.CHM(d).$implicit,h=t.oxw();return t.KtG(h.accordionGroupChange(u.idclase))}),t.TgZ(2,"ion-label"),t._uU(3,"\xa0"),t.TgZ(4,"strong"),t._uU(5),t.qZA()(),t._UZ(6,"ion-icon",5),t.qZA(),t.YNc(7,i,4,2,"ion-item",3),t.qZA()}if(2&r){const d=_.$implicit,s=t.oxw();t.xp6(5),t.Oqu(d.nomclase),t.xp6(2),t.Q6J("ngForOf",s.DsServiciosxPieza[d.idclase])}}let e=(()=>{var r;class _{constructor(s,a,u,h,P,p,D,O,S){let f;this.navCtrl=s,this.loadingController=a,this.ApiService=u,this.storage=h,this.alertController=P,this.router=p,this.globalVal=D,this.ref=O,this.actionSheetCtrl=S,this.DsServiciosxPieza={},this.ValuesAcordionGroup=["551571","551579"],this.storage.get("USER_INFO").then(T=>{f=T,this.NombresUsuarioLocal=f.user_name,this.IdUsuarioLocal=f.user_id,this.storage.get("DEVICE_INFO").then(y=>{f=y,this.NombreDispositivo=f.name,this.IdDispositivo=f.uuid})})}ngOnInit(){}ionViewWillEnter(){this.FLoadPiezasAcordion()}FLoadPiezasAcordion(){this.loadingController.create({message:"Cargando lista....",translucent:!0}).then(a=>{a.present(),console.log(this.globalVal.corre_inf_cab),this.ApiService.FLoadPiezasAcordion("1","",this.globalVal.corre_inf_cab).then(u=>{console.log(u),this.EditDataRest=u,this.EditDataRest.forEach(h=>{console.log(h),console.log(h.idclase),console.log(this.ValuesAcordionGroup)}),console.log(this.ValuesAcordionGroup)}).finally(()=>{this.loadingController.dismiss()})})}FasignaServicio(s,a,u,h,P,p){console.log(s),this.ApiService.GuardarFormPaso2(a,u,h,this.IdUsuarioLocal,P,s.detail.checked?"1":"0",p).then(O=>{}).finally(()=>{}).catch(O=>{console.log("errror:::>>>>>>>>>",O)})}FLoadServiciosxPiezas(s){this.loadingController.create({message:"Cargando lista....",translucent:!0}).then(u=>{u.present(),console.log(this.corre_inf_cab),this.ApiService.FLoadServiciosxPiezas(s,this.globalVal.corre_inf_cab).then(h=>{console.log(h),console.log(this.DsServiciosxPieza),console.log(s.length),s.length>0&&(console.log("ingresooo"),this.DsServiciosxPieza[s]=h,console.log("ingresooo 23222"),console.log(this.DsServiciosxPieza))}).finally(()=>{this.loadingController.dismiss()})})}accordionGroupChange(s){console.log(s),s.length>0&&(console.log("ingreso carga detalles"),this.FLoadServiciosxPiezas(s))}}return(r=_).\u0275fac=function(s){return new(s||r)(t.Y36(E.SH),t.Y36(l.HT),t.Y36(F.J),t.Y36(m.K),t.Y36(l.Br),t.Y36(A.F0),t.Y36(I.X),t.Y36(t.sBO),t.Y36(l.BX))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-mtto-win-informe-tecnico2"]],viewQuery:function(s,a){if(1&s&&t.Gf(o,7),2&s){let u;t.iGM(u=t.CRH())&&(a.listenerOut=u.first)}},standalone:!0,features:[t.jDz],decls:11,vars:1,consts:[["mode","ios"],["text-capitalize",""],[1,"ion-padding"],[4,"ngFor","ngForOf"],["button","true",1,"divider",3,"click"],["name","refresh-circle-outline","slot","end"],["mode","ios","labelPlacement","start",2,"width","80%",3,"checked","ionChange"],[2,"font-size","small"]],template:function(s,a){1&s&&(t.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-item")(3,"ion-title",1)(4,"ion-label"),t._uU(5,"ELECTRICA "),t._UZ(6,"p"),t.qZA()()()()(),t.TgZ(7,"ion-content",2)(8,"ion-list"),t.YNc(9,n,8,2,"ion-item-group",3),t.qZA()(),t._UZ(10,"ion-footer")),2&s&&(t.xp6(9),t.Q6J("ngForOf",a.EditDataRest))},dependencies:[l.Pc,l.W2,l.fr,l.Gu,l.gu,l.Ie,l.rH,l.Ub,l.Q$,l.q_,l.wd,l.ho,l.sr,l.w,g.ez,g.sg,C.u5],styles:[".divider[_ngcontent-%COMP%]{color:#000;font-weight:700;background-color:#d7d8da;padding:0!important;border-radius:5px;border-width:2px;font-weight:bolder}"]}),_})()}}]);