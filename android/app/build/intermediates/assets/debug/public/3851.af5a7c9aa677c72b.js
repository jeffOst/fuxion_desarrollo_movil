"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3851],{3851:(U,h,s)=>{s.r(h),s.d(h,{ListinspecablePage:()=>y});var u=s(6814),g=s(95),e=s(6728),Z=s(6471),i=s(6242),f=s(5472),v=s(5861),b=(s(2726),s(2519)),_=s(9862),C=s(2014);let A=(()=>{var r;class p{constructor(t,o){this.httpClient=t,this.storage=o,this.urlApiProd=b.N.UrlDomainLocal+"aw_modulos/prod/api/CAtencionServicios.php",this.DirectorioImg=b.N.UrlDomainLocal+"aw_file/adjuntos/img_inspeccion/"}getImages(t){return this.httpClient.get(`${this.urlApiProd}?acc=5&id=`+t)}uploadImage(t,o,n){let a=new FormData;return a.append("file",t,"myimage."+n),a.append("id",o),a.append("acc","3"),a.append("type","image/png"),this.httpClient.post(this.urlApiProd,a)}uploadImage2(t,o,n){console.log("formData:blobData::>",t),t=btoa(t);let a=JSON.stringify({file:t,acc:3,id:o});return this.httpClient.post(this.urlApiProd,a)}uploadImageFile(t){const o=t.name.split(".").pop(),n=new FormData;return n.append("file",t,`myimage.${o}`),n.append("name",t.name),this.httpClient.post(`${this.urlApiProd}?acc=4`,n)}deleteImage(t){return this.httpClient.delete(`${this.urlApiProd}?acc=7&id=${t}`)}ListInspCablesPend(t){let o=this.urlApiProd;return JSON.stringify({s:encodeURI(t),acc:1,idtablet:"this.device.getId"}),this.httpClient.get(o+"?acc=1&s="+encodeURI(t)+"&idtablet=this.device.uuid").pipe()}load_form_insp_cable(t,o){let n=this.urlApiProd,a=JSON.stringify({id:t,acc:2,idtablet:0,idtecnico:o});return this.httpClient.post(n,a).toPromise().then(d=>d)}upload_img(t){}listado_equipos_service(t,o,n,a){let d=this.urlApiProd,c=JSON.stringify({s:t,acc:n,tipo:o,idtablet:0,madre_hija:a});return this.httpClient.post(d,c).toPromise().then(m=>m)}GuardarFormulario(t){var o=this;return(0,v.Z)(function*(){console.log("Dentro::GuardarFormulario::>",t);let n,a=o.urlApiProd,d=JSON.stringify(t);return o.httpClient.post(a+"?acc=6",d).toPromise().then(c=>{console.log(c),n=c,o.confirmSaveBd=n[0].o_nres},c=>{console.log(c,"Error- something is wrong!")})})()}}return(r=p).\u0275fac=function(t){return new(t||r)(i.LFG(_.eN),i.LFG(C.K))},r.\u0275prov=i.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),p})();function I(r,p){if(1&r){const l=i.EpF();i.TgZ(0,"ion-item-sliding",null,16)(2,"ion-item"),i._UZ(3,"ion-fab-button",17),i.TgZ(4,"ion-card")(5,"ion-card-content")(6,"ion-row")(7,"ion-col",18)(8,"ion-label",19),i._uU(9),i.qZA()(),i.TgZ(10,"ion-col",18)(11,"ion-label",20),i._uU(12),i.qZA()(),i.TgZ(13,"ion-col",18)(14,"ion-label",19),i._uU(15),i.qZA()(),i.TgZ(16,"ion-col",18)(17,"ion-label",21),i._uU(18),i.qZA()(),i.TgZ(19,"ion-col",18)(20,"ion-label",22),i._uU(21),i.qZA()()()()()(),i.TgZ(22,"ion-item-options",23),i.NdJ("ionSwipe",function(){const n=i.CHM(l).$implicit,a=i.oxw();return i.KtG(a.EditarInspCable(n.idinspcablemina))}),i.TgZ(23,"ion-item-option",24),i._uU(24," Editar/Retomar"),i.qZA()(),i.TgZ(25,"ion-item-options",25),i.NdJ("ionSwipe",function(){const n=i.CHM(l).$implicit,a=i.oxw();return i.KtG(a.ImprimirPdf(n.idinspcablemina))}),i.TgZ(26,"ion-item-option",26),i._uU(27,"Imprimir PDF"),i.qZA()()()}if(2&r){const l=p.$implicit;i.xp6(9),i.Oqu(l.codsmg),i.xp6(3),i.Oqu(l.correlativo_imc),i.xp6(3),i.Oqu(l.fchregistro_imc),i.xp6(3),i.Oqu(l.estado),i.xp6(3),i.Oqu(l.usuario)}}let y=(()=>{var r;class p{constructor(t,o,n,a,d,c,m,T,S){this.plt=t,this.navCtrl=o,this.menuCrl=n,this.alertController=a,this.mttoservicesService=d,this.loadingController=c,this.location=m,this.storage=T,this.actionSheetController=S,this.inputSearchValue=""}ngOnInit(){let t;this.storage.get("USER_INFO").then(o=>{t=o,this.NomUsuario=t.user_name,""==this.NomUsuario&&this.navCtrl.navigateForward("login")})}ionViewWillEnter(){this.listarInspCables()}listarInspCables(){this.arrayCargado=null,this.mttoservicesService.ListInspCablesPend(this.inputSearchValue).subscribe(t=>{console.log("listando cargandoooo array"),this.arrayCargado=t})}EditarInspCable(t){let o;o={id:t},this.navCtrl.navigateForward(["wininspecable",o])}ImprimirPdf(t){}}return(r=p).\u0275fac=function(t){return new(t||r)(i.Y36(f.t4),i.Y36(f.SH),i.Y36(e._q),i.Y36(e.Br),i.Y36(A),i.Y36(e.HT),i.Y36(u.Ye),i.Y36(C.K),i.Y36(e.BX))},r.\u0275cmp=i.Xpm({type:r,selectors:[["app-listinspecable"]],standalone:!0,features:[i.jDz],decls:41,vars:3,consts:[[1,"ion-no-border"],[1,"ion-justify-content-start"],["size","10",1,"ion-align-self-start"],["titulo","Listado de Inspeciones Cable"],["size","2",1,"ion-align-self-end"],["position","fixed","color","secondary",1,"label-nameusuario"],["padding",""],["slot","start"],["color","primary","fill","outline",3,"click"],["ios","ios-add-circle","name","add-circle-sharp"],["debounce","1700",3,"ngModel","ngModelChange","ionChange"],["color","gray","slot","start"],["size","2",2,"background","linear-gradient(#e9e7e7, #cac3c3)","border-width","0.01em","border-style","solid","margin-bottom","1px","border-color","whitesmoke"],["stacked","","color","dark",2,"font-size","14px","background-color","rgba(0, 0, 0, 0)"],["stacked","","color","dark",2,"font-size","14px"],[4,"ngFor","ngForOf"],["slidingItem",""],["color","primary","slot","start"],["size","2"],["color","secondary","text-wrap","",2,"font-size","10px"],["color","primary","text-wrap","",2,"font-size","10px"],["color","primary",2,"font-size","10px"],["color","secondary",2,"font-size","10px"],["side","end",3,"ionSwipe"],["color","primary","expandable",""],["side","start",3,"ionSwipe"],["color","danger","expandable",""]],template:function(t,o){1&t&&(i.TgZ(0,"ion-toolbar",0)(1,"ion-grid")(2,"ion-row",1)(3,"ion-col",2),i._UZ(4,"app-header",3),i.qZA(),i.TgZ(5,"ion-col",4)(6,"ion-label",5),i._uU(7),i.qZA()()()()(),i.TgZ(8,"ion-content",6)(9,"ion-list")(10,"ion-item-sliding")(11,"ion-item")(12,"ion-toolbar")(13,"ion-buttons",7)(14,"ion-button",8),i.NdJ("click",function(){return o.EditarInspCable("0")}),i._uU(15," Nuevo \xa0 "),i._UZ(16,"ion-icon",9),i.qZA()()()()()(),i.TgZ(17,"ion-searchbar",10),i.NdJ("ngModelChange",function(a){return o.inputSearchValue=a})("ionChange",function(){return o.listarInspCables()}),i.qZA(),i.TgZ(18,"ion-list")(19,"ion-item")(20,"ion-fab-button",11),i._uU(21,"*"),i.qZA(),i.TgZ(22,"ion-card")(23,"ion-card-content")(24,"ion-row")(25,"ion-col",12)(26,"ion-label",13),i._uU(27," Equipo"),i.qZA()(),i.TgZ(28,"ion-col",12)(29,"ion-label",14),i._uU(30,"Correlativo"),i.qZA()(),i.TgZ(31,"ion-col",12)(32,"ion-label",14),i._uU(33,"F.Registro"),i.qZA()(),i.TgZ(34,"ion-col",12)(35,"ion-label",14),i._uU(36,"Estado"),i.qZA()(),i.TgZ(37,"ion-col",12)(38,"ion-label",14),i._uU(39,"Usuario"),i.qZA()()()()()(),i.YNc(40,I,28,5,"ion-item-sliding",15),i.qZA()()),2&t&&(i.xp6(7),i.Oqu(o.NomUsuario),i.xp6(10),i.Q6J("ngModel",o.inputSearchValue),i.xp6(23),i.Q6J("ngForOf",o.arrayCargado))},dependencies:[e.Pc,e.YG,e.Sm,e.PM,e.FN,e.wI,e.W2,e.W4,e.jY,e.gu,e.Ie,e.u8,e.IK,e.td,e.Q$,e.q_,e.Nd,e.VI,e.sr,e.j9,u.ez,u.sg,g.u5,g.JJ,g.On,Z.G]}),p})()}}]);