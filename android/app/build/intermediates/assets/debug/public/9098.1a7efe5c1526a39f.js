"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9098,1456],{1456:(S,P,d)=>{d.d(P,{k:()=>g});var u=d(5861),_=d(4053),h=d(8256),l=d(529),s=d(849);let g=(()=>{class p{constructor(i,t,o){this.httpClient=i,this.http=t,this.storage=o,this.urlApiProd=_.N.UrlDomainLocal+"aw_modulos/mante/api/CApiOrdenTrabajo.php",this.DirectorioImg=_.N.UrlDomainLocal+"aw_file/img_tablet/",this.confirmRequest="",this.key="123456",this.counts_rows=0,this.ArrayItemsSelected=[],this.EditArItemsSelected=[],this.o_nres="",this.o_msj="",this.idhorasxVueltaOtCab="",this.radioRevisionSelected=""}load_lista_solse(i,t){let o=this.urlApiProd,e=JSON.stringify({idot:i,acc:5,idtablet:"this.device.uuid",idotsolse_otd:t});return this.http.post(o,e).toPromise().then(r=>r)}FListOtPorSolsePieza(i,t,o,e){let r=this.urlApiProd,n=JSON.stringify({s:i,acc:o,tipo:t,idtablet:"this.device.uuid",madre_hija:e});return this.httpClient.post(r,n).toPromise().then(a=>a)}listado_principal_ot(i,t,o,e){let r=this.urlApiProd,n=JSON.stringify({s:i,acc:o,tipo:t,idtablet:"this.device.uuid",madre_hija:e});return this.httpClient.post(r,n).toPromise().then(a=>a)}listado_servicio_popup(i,t,o,e,r){let n=this.urlApiProd,a=JSON.stringify({s:i,acc:t,avatar:o,idpieza:e,idtablet:"this.device.uuid",idtablet2:r});return this.http.post(n,a).toPromise().then(c=>c)}guardar_servicios_selected_ot(i,t){let o=JSON.stringify(i);return console.log("paramsToBd:::>",i),this.httpClient.post(this.urlApiProd+"?acc=4&idot="+t,o).toPromise().then(r=>r)}update_solse_ot(i,t){let o=JSON.stringify(i);return console.log("paramsToBd:::>",i),this.httpClient.post(this.urlApiProd+"?acc=6&idot="+t,o).toPromise().then(r=>r)}update_solse_ot_qr(i,t){let o=JSON.stringify(i);return console.log("paramsToBd:::>",i),this.httpClient.post(this.urlApiProd+"?acc=7&idsolse="+t,o).toPromise().then(r=>r)}listado_equipos_service(i,t,o,e){let r=this.urlApiProd,n=JSON.stringify({s:i,acc:o,tipo:t,idtablet:"this.device.uuid",madre_hija:e});return this.http.post(r,n).toPromise().then(a=>a)}load_lista_servicios(i){let t=this.urlApiProd,o=JSON.stringify({idot:i,acc:3,idtablet:"this.device.uuid"});return this.http.post(t,o).toPromise().then(e=>e)}llamarMaestroServicios(i,t,o,e,r){let n=this.urlApiProd,a=JSON.stringify({s:i,acc:o,tipo:t,idtablet:r,madre_hija:e});return this.http.post(n,a).toPromise().then(c=>c)}EjServQuitarItemSelected(i){var t=this;return(0,u.Z)(function*(){let o=t.urlApiProd,e={id:i.idvaleservidetot,avatar:i.avatar,acc:6};t.ArrayItemsSelectedPivot=i,t.http.post(o,e).subscribe(r=>{},r=>{console.log("Error- something is wrong!")}),t.CntAgregado=t.EjeSerQuitarStorage(t.ArrayItemsSelectedPivot)})()}EjeSerQuitarStorage(i){let t=this.ArrayItemsSelected.indexOf(i);return t>-1&&this.ArrayItemsSelected.splice(t,1),this.storage.set("my-items",this.ArrayItemsSelected),this.ArrayItemsSelected.length}FListCbosDejarEje(i){let t=this.urlApiProd,o=JSON.stringify({idot:i,acc:9,idtablet:"this.device.uuid"});return this.http.post(t,o).toPromise().then(e=>e)}SaveRecojerPieza(i){let t=JSON.stringify(i);return this.httpClient.post(this.urlApiProd,t).toPromise().then(o=>o)}ListFindTecnico(i,t,o){let e=JSON.stringify({acc:11,s:i,idusu:t,iddevice:o});return this.httpClient.post(this.urlApiProd,e).toPromise().then(r=>r)}ListFindEquipo(i,t,o){let e=JSON.stringify({acc:12,s:i,idusu:t,iddevice:o});return this.httpClient.post(this.urlApiProd,e).toPromise().then(r=>r)}load_cbo_site(){let i=JSON.stringify({acc:13});return this.httpClient.post(this.urlApiProd,i).toPromise().then(t=>t)}SaveOtNoProgramada(i){let t=JSON.stringify(i);return this.httpClient.post(this.urlApiProd,t).toPromise().then(o=>o)}ListFindOts(i,t,o){let e=JSON.stringify({acc:15,s:i,idusu:t,iddevice:o});return this.httpClient.post(this.urlApiProd,e).toPromise().then(r=>r)}FormFindPaso1(i,t,o){let e=JSON.stringify({acc:16,id_orden_trab_cab:i,idusu:t,iddevice:o});return this.httpClient.post(this.urlApiProd,e).toPromise().then(r=>r)}GuardarFormPaso1(i){var t=this;return(0,u.Z)(function*(){console.log("Dentro::GuardarFormulario::>",i);let e=t.urlApiProd,r=JSON.stringify(i);return t.httpClient.post(e+"?acc=17",r).toPromise()})()}LoadPdfInformeTecnico(i){let t=JSON.stringify({acc:14,idchecklistcab:i});return this.httpClient.post(this.urlApiProd,t).toPromise().then(o=>o)}ListBombasxFabTableros(i,t,o){let e=JSON.stringify({acc:18,s:i,idusu:t,familia:o});return this.httpClient.post(this.urlApiProd,e).toPromise().then(r=>r)}GuardarNuevoEquipo(i){var t=this;return(0,u.Z)(function*(){console.log("Dentro::GuardarFormulario::>",i);let e=t.urlApiProd,r=JSON.stringify(i);return t.httpClient.post(e+"?acc=19",r).toPromise()})()}ListRepuestosxBomba(i,t){let o=JSON.stringify({acc:20,idot:i,idusu:t});return this.httpClient.post(this.urlApiProd,o).toPromise().then(e=>e)}GuardarFormPaso2(i,t){var o=this;return(0,u.Z)(function*(){let r=o.urlApiProd,n=JSON.stringify(i);return o.httpClient.post(r+"?acc=21&idusu="+t,n).toPromise()})()}listadoArticulos(i,t,o,e,r){console.log(i);let n=this.urlApiProd,a=JSON.stringify({s:i,idpieza:t,cantidad:o,toggle:e,acc:r});return this.http.post(n,a).toPromise().then(c=>c)}GuardarArticulo(i){var t=this;return(0,u.Z)(function*(){console.log("Dentro::GuardarFormulario::>",i);let e=t.urlApiProd,r=JSON.stringify(i);return t.httpClient.post(e+"?acc=23",r).toPromise()})()}ListServiciosxBomba(i,t){let o=JSON.stringify({acc:24,idot:i,idusu:t});return this.httpClient.post(this.urlApiProd,o).toPromise().then(e=>e)}ListFindSolse(i,t){let o=JSON.stringify({acc:26,idot:i,idusu:t});return this.httpClient.post(this.urlApiProd,o).toPromise().then(e=>e)}GuardarOtTerminado(i,t){var o=this;return(0,u.Z)(function*(){let r=o.urlApiProd,n=JSON.stringify({acc:27,idot:i,idusuario:t});return o.httpClient.post(r,n).toPromise()})()}LoadPdfOrdentrabajo(i){let t=JSON.stringify({acc:28,idchecklistcab:i});return this.httpClient.post(this.urlApiProd,t).toPromise().then(o=>o)}FLoadMotivoAdicional(i,t){let o=JSON.stringify({acc:29,idusu:i,iddevice:t});return this.httpClient.post(this.urlApiProd,o).toPromise().then(e=>e)}FQuitarItem(i){var t=this;return(0,u.Z)(function*(){let o=t.urlApiProd,e=JSON.stringify(i);return t.httpClient.post(o,e).toPromise()})()}ListaPartList(i,t,o,e,r,n,a){let c=this.urlApiProd,f=JSON.stringify({s:i,pd:t,ot:o,im:e,it:r,acc:n,idot:a});return this.http.post(c,f).toPromise().then(A=>A)}GuardarPartList(i){var t=this;return(0,u.Z)(function*(){console.log("Dentro::GuardarFormulario::>",i);let e=t.urlApiProd,r=JSON.stringify(i);return t.httpClient.post(e+"?acc=32",r).toPromise()})()}}return p.\u0275fac=function(i){return new(i||p)(h.LFG(l.eN),h.LFG(l.eN),h.LFG(s.K))},p.\u0275prov=h.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},9098:(S,P,d)=>{d.r(P),d.d(P,{MttoOtPopTecnicoPage:()=>i});var u=d(5861),_=d(6895),h=d(433),l=d(5562),s=d(8256),m=d(849),g=d(1456);const p=["IdHtmlInputSearch"];function O(t,o){if(1&t){const e=s.EpF();s.TgZ(0,"ion-list",7)(1,"ion-item",8),s.NdJ("click",function(){const n=s.CHM(e),a=n.$implicit,c=n.index,f=s.oxw();return s.KtG(f.FSelectedItem(a.id_personal,a.nombres_tecnico,c))}),s.TgZ(2,"ion-label")(3,"strong"),s._uU(4),s.qZA(),s.TgZ(5,"p"),s._uU(6),s.qZA()()()()}if(2&t){const e=o.$implicit,n=o.even;s.ekj("odd",o.odd)("even",n),s.xp6(4),s.Oqu(e.nombres_tecnico),s.xp6(2),s.Oqu(e.cargo)}}let i=(()=>{class t{constructor(e,r,n,a){this.loadingCtrl=e,this.modalCtrl=r,this.storage=n,this.ApiService=a}ngOnInit(){this.nombre_tecnico=null==this.nombre_tecnico?"":this.nombre_tecnico,this.FFindRows()}FOnCloseModel(e,r,n){var a=this;return(0,u.Z)(function*(){const c={id:e,nombres:r};console.log(c),yield a.modalCtrl.dismiss(c)})()}FSelectedItem(e,r,n){this.FOnCloseModel(e,r,n)}FCloseModal(){this.nombre_tecnico=null==this.nombre_tecnico?"":this.nombre_tecnico,this.id_personal=null==this.id_personal?"":this.id_personal,this.FOnCloseModel(this.id_personal,this.nombre_tecnico,0)}FFindRows(){this.loadingCtrl.create({message:"Cargando lista...",translucent:!0}).then(r=>{r.present(),this.ApiService.ListFindTecnico(this.NgModInputSearch,this.IdUsuarioLocal,this.IdDispositivo).then(n=>{this.DataSetGrid=n}).finally(()=>{this.loadingCtrl.dismiss()})})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(l.HT),s.Y36(l.IN),s.Y36(m.K),s.Y36(g.k))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-mtto-ot-pop-tecnico"]],viewQuery:function(e,r){if(1&e&&s.Gf(p,5),2&e){let n;s.iGM(n=s.CRH())&&(r.IdHtmlInputSearch=n.first)}},inputs:{titulo_modal:"titulo_modal",nombre_tecnico:"nombre_tecnico",id_personal:"id_personal"},standalone:!0,features:[s.jDz],decls:13,vars:3,consts:[["mode","ios"],["slot","start"],[1,"",3,"click"],["part","icon","aria-hidden","true","role","img","name","chevron-back-outline",1,"md","hydrated"],["mode","ios","debounce","1700","cancelButtonText","Cancelar","enterkeyhint","done","placeholder","Filtrar parametros",2,"width","100%",3,"ngModel","ngModelChange","ionChange"],["IdHtmlInputSearch",""],["lines","full","inset","true",3,"odd","even",4,"ngFor","ngForOf"],["lines","full","inset","true"],["button","",3,"click"]],template:function(e,r){1&e&&(s.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),s._uU(3),s.qZA(),s.TgZ(4,"ion-buttons",1)(5,"ion-button",2),s.NdJ("click",function(){return r.FCloseModal()}),s._UZ(6,"ion-icon",3),s._uU(7," Cancelar "),s.qZA()()()(),s.TgZ(8,"ion-content")(9,"ion-item")(10,"ion-searchbar",4,5),s.NdJ("ngModelChange",function(a){return r.NgModInputSearch=a})("ionChange",function(){return r.FFindRows()}),s.qZA()(),s.YNc(12,O,7,6,"ion-list",6),s.qZA()),2&e&&(s.xp6(3),s.Oqu(r.titulo_modal),s.xp6(7),s.Q6J("ngModel",r.NgModInputSearch),s.xp6(2),s.Q6J("ngForOf",r.DataSetGrid))},dependencies:[l.Pc,l.YG,l.Sm,l.W2,l.Gu,l.gu,l.Ie,l.Q$,l.q_,l.VI,l.wd,l.sr,l.j9,_.ez,_.sg,h.u5,h.JJ,h.On]}),t})()}}]);