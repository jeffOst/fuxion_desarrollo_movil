"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8762],{7941:(O,h,c)=>{c.d(h,{o:()=>f});var m=c(5861),g=c(2519),u=c(6242),s=c(9862),o=c(2014);let f=(()=>{var d;class P{constructor(t,r){this.httpClient=t,this.storage=r,this.DirectorioImg=g.N.UrlDomainLocal+"aw_file/adjuntos/img_recinado/",this.urlApiProd=g.N.UrlDomainLocal+"aw_modulos/mante/CApRecinadoCable.php"}list_tipo_cable(){let t=this.urlApiProd;return JSON.stringify({acc:1,idtablet:"this.device.uuid"}),this.httpClient.get(t+"?acc=1&idtablet=this.device.uuid").pipe()}getImages(t){return this.httpClient.get(`${this.urlApiProd}?acc=5&id=`+t)}uploadImage(t,r,i){try{let a=new FormData;a.append("id",r),a.append("acc","3"),a.append("type","image/png");for(let e=0;e<t.length;e++)console.log("image::ruta=>::>",t[e]),a.append("images[]",t[e],`image_${e}.jpg`);return console.log("Im\xe1genes enviadas exitosamente al API.",a),this.httpClient.post(this.urlApiProd,a)}catch(a){console.error("Error al enviar im\xe1genes al API:",a)}}uploadImage2(t,r,i){console.log("formData:blobData::>",t),t=btoa(t);let a=JSON.stringify({file:t,acc:3,id:r});return this.httpClient.post(this.urlApiProd,a)}uploadImageFile(t){const r=t.name.split(".").pop(),i=new FormData;return i.append("file",t,`myimage.${r}`),i.append("name",t.name),this.httpClient.post(`${this.urlApiProd}?acc=4`,i)}deleteImage(t){return this.httpClient.delete(`${this.urlApiProd}?acc=7&id=${t}`)}ListInspCablesPend(t){let r=this.urlApiProd;return JSON.stringify({s:encodeURI(t),acc:1,idtablet:"this.device.uuid"}),this.httpClient.get(r+"?acc=8&s="+encodeURI(t)+"&idtablet=this.device.uuid").pipe()}load_form_insp_cable(t,r){let i=this.urlApiProd,a=JSON.stringify({id:t,acc:2,idtablet:"this.device.uuid",idtecnico:r});return this.httpClient.post(i,a).toPromise().then(e=>e)}load_form_entrega_cable(t,r){let i=this.urlApiProd,a=JSON.stringify({id:t,acc:11,idtablet:"this.device.uuid",idtecnico:r});return this.httpClient.post(i,a).toPromise().then(e=>e)}upload_img(t){}listado_equipos_service(t,r,i,a){let e=this.urlApiProd,n=JSON.stringify({s:t,acc:i,tipo:r,idtablet:"this.device.uuid",madre_hija:a});return this.httpClient.post(e,n).toPromise().then(l=>l)}GuardarFormulario(t){var r=this;return(0,m.Z)(function*(){console.log("Dentro::GuardarFormulario::>",t);let i,a=r.urlApiProd,e=JSON.stringify(t);return r.httpClient.post(a+"?acc=6",e).toPromise().then(n=>{console.log(n),i=n,r.confirmSaveBd=i[0].o_nres},n=>{console.log(n,"Error- something is wrong!")})})()}GuardarFormEntregaCable(t){var r=this;return(0,m.Z)(function*(){console.log("Dentro::GuardarFormulario::>",t);let i,a=r.urlApiProd,e=JSON.stringify(t);return r.httpClient.post(a+"?acc=10",e).toPromise().then(n=>{console.log(n),i=n,r.confirmSaveBd=i[0].o_nres},n=>{console.log(n,"Error- something is wrong!")})})()}}return(d=P).\u0275fac=function(t){return new(t||d)(u.LFG(s.eN),u.LFG(o.K))},d.\u0275prov=u.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),P})()},8762:(O,h,c)=>{c.r(h),c.d(h,{PopUpEquRecinadoPage:()=>r});var m=c(5861),g=c(6814),u=c(95),s=c(6728),o=c(6242),f=c(5472),d=c(7941),P=c(4248);const C=["idinputsearch_equipo"];function t(i,a){if(1&i){const e=o.EpF();o.TgZ(0,"ion-button",12),o.NdJ("click",function(){const _=o.CHM(e).$implicit,p=o.oxw();return o.KtG(p.seleccionar_equipo(_.codsmg,_.id_orden_trab_fis_cab,_.fch_inicio_ot))}),o.TgZ(1,"ion-col",13),o._uU(2),o.qZA(),o.TgZ(3,"ion-col",14),o._uU(4),o.qZA(),o.TgZ(5,"ion-col",14),o._uU(6),o.qZA(),o.TgZ(7,"ion-col",14),o._uU(8),o.qZA(),o.TgZ(9,"ion-col",13),o._uU(10),o.qZA()()}if(2&i){const e=a.$implicit;o.s9C("color",e.colorfila),o.s9C("color",e.colorfila),o.xp6(2),o.Oqu(e.codsmg),o.xp6(2),o.Oqu(e.id_orden_trab_fis_cab),o.xp6(2),o.Oqu(e.fch_inicio_ot),o.xp6(2),o.Oqu(e.Y06002),o.xp6(2),o.hij(" ",e.tecnico," ")}}let r=(()=>{var i;class a{constructor(n,l,_,p,E){this.loadingController=n,this.serviceProduccion=l,this.modalCtrl=_,this.route=p,this.navParams=E,this.search_term_equipo="",this.switchButtonSegmento=""}ngOnInit(){}cancelar_listaequipos(n,l,_){var p=this;return(0,m.Z)(function*(){const E={idequipo:n,id_orden_trab_fis_cab:l,fch_inicio_ot:_};yield p.modalCtrl.dismiss(E)})()}lista_equipos(){this.loadingController.create({message:"Cargando lista...",translucent:!0}).then(l=>{l.present(),this.serviceProduccion.listado_equipos_service(this.search_term_equipo,this.switchButtonSegmento,"4","H").then(_=>{this.results_equipos=_}).finally(()=>{this.loadingController.dismiss(),setTimeout(()=>{this.idinputsearch_equipo.setFocus()},600)})})}seleccionar_equipo(n,l,_){this.cancelar_listaequipos(n,l,_)}}return(i=a).\u0275fac=function(n){return new(n||i)(o.Y36(s.HT),o.Y36(d.o),o.Y36(s.IN),o.Y36(P.gz),o.Y36(f.X1))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-pop-up-equ-recinado"]],viewQuery:function(n,l){if(1&n&&o.Gf(C,5),2&n){let _;o.iGM(_=o.CRH())&&(l.idinputsearch_equipo=_.first)}},standalone:!0,features:[o.jDz],decls:27,vars:2,consts:[["mode","ios"],["slot","start"],["color","danger",3,"click"],["name","close"],["show-clear-button","focus","animated","true","mode","ios","debounce","1700","cancelButtonText","Cancelar","enterkeyhint","done","placeholder","Filtrar Equipos",3,"ngModel","ngModelChange","ionInput"],["idinputsearch_equipo",""],[1,"header-grid"],["size","3",1,"headgrid"],["color","dark"],["size","2",1,"headgrid"],[1,"content-grid"],["expand","full",3,"color","click",4,"ngFor","ngForOf"],["expand","full",3,"color","click"],["size","3"],["size","2"]],template:function(n,l){1&n&&(o.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),o._uU(3,"Lista de Equipos"),o.qZA(),o.TgZ(4,"ion-buttons",1)(5,"ion-button",2),o.NdJ("click",function(){return l.cancelar_listaequipos(0,0,0)}),o._UZ(6,"ion-icon",3),o._uU(7," Cancelar "),o.qZA()()(),o.TgZ(8,"ion-toolbar")(9,"ion-searchbar",4,5),o.NdJ("ngModelChange",function(p){return l.search_term_equipo=p})("ionInput",function(){return l.lista_equipos()}),o.qZA(),o.TgZ(11,"ion-grid",6)(12,"ion-row")(13,"ion-col",7)(14,"ion-label",8),o._uU(15,"Equipo"),o.qZA()(),o.TgZ(16,"ion-col",9),o._uU(17,"Nro O.T."),o.qZA(),o.TgZ(18,"ion-col",9),o._uU(19,"F.O.T."),o.qZA(),o.TgZ(20,"ion-col",9),o._uU(21,"Origen"),o.qZA(),o.TgZ(22,"ion-col",7),o._uU(23,"Tecnico"),o.qZA()()()()(),o.TgZ(24,"ion-content")(25,"ion-grid",10),o.YNc(26,t,11,7,"ion-button",11),o.qZA()()),2&n&&(o.xp6(9),o.Q6J("ngModel",l.search_term_equipo),o.xp6(17),o.Q6J("ngForOf",l.results_equipos))},dependencies:[s.Pc,s.YG,s.Sm,s.wI,s.W2,s.jY,s.Gu,s.gu,s.Q$,s.Nd,s.VI,s.wd,s.sr,s.j9,g.ez,g.sg,u.u5,u.JJ,u.On],styles:['@charset "UTF-8";.ion-row[_ngcontent-%COMP%]{font-size:10px;color:#000;font-weight:700}ion-col[_ngcontent-%COMP%]{font-size:9px;color:#555}ion-col.header[_ngcontent-%COMP%]{border:1px solid #ccc;padding:8px;color:#000;font-weight:700}ion-col.detail[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;padding:4px}.header-grid[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto}.content-grid[_ngcontent-%COMP%]{display:grid;grid-template-rows:repeat(auto-fill,minmax(40px,1fr));overflow-y:scroll;max-height:600px}ion-chip[_ngcontent-%COMP%]{height:25px;font-size:9px;margin-inline:0px;margin-top:0;margin-bottom:0}']}),a})()}}]);