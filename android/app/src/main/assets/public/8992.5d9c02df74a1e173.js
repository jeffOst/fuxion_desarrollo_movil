"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8992],{4160:(b,m,n)=>{n.d(m,{J:()=>v});var l=n(5861),s=n(2519),c=n(6242),r=n(9862),C=n(2014);let v=(()=>{var h;class P{constructor(o,e){this.httpClient=o,this.storage=e,this.urlApiProd=s.N.UrlDomainLocal+"aw_modulos/mante/api/CApiInformeTecnico.php",this.urlApiInf=s.N.UrlDomainLocal+"aw_modulos/mante/api/CApiInformeTablero.php",this.confirmRequest=""}ListFindOts(o,e,a){let t=JSON.stringify({acc:1,s:o,idusu:e,iddevice:a});return this.httpClient.post(this.urlApiProd,t).toPromise().then(i=>i)}SaveCheckListCab(o,e,a){let t=JSON.stringify({acc:2,id_orden_trab_cab:o,idusu:e,iddevice:a});return this.httpClient.post(this.urlApiProd,t).toPromise().then(i=>i)}FormFindPaso1(o,e,a){let t=JSON.stringify({acc:3,idchecklistcab:o,idusu:e,iddevice:a});return this.httpClient.post(this.urlApiProd,t).toPromise().then(i=>i)}FLoadPiezasAcordion(o,e){let a=JSON.stringify({acc:7,id:o,p2:e});return this.httpClient.post(this.urlApiProd,a).toPromise().then(t=>t)}FLoadServiciosxPiezas(o,e){let a=JSON.stringify({acc:8,id:o,p2:e});return this.httpClient.post(this.urlApiProd,a).toPromise().then(t=>t)}GuardarFormPaso1(o){var e=this;return(0,l.Z)(function*(){console.log("Dentro::GuardarFormulario::>",o);let t=e.urlApiProd,i=JSON.stringify(o);return e.httpClient.post(t+"?acc=4",i).toPromise()})()}GuardarinfPaso1(o){var e=this;return(0,l.Z)(function*(){console.log("Dentro::GuardarFormulario::>",o);let t=e.urlApiInf,i=JSON.stringify(o);return e.httpClient.post(t+"?acc=2",i).toPromise()})()}GuardarinfPaso2(o){var e=this;return(0,l.Z)(function*(){console.log("Dentro::GuardarFormulario::>",o);let t=e.urlApiInf,i=JSON.stringify(o);return e.httpClient.post(t+"?acc=3",i).toPromise()})()}GuardarinfPaso3(o){var e=this;return(0,l.Z)(function*(){console.log("Dentro::GuardarFormulario::>",o);let t=e.urlApiInf,i=JSON.stringify(o);return e.httpClient.post(t+"?acc=4",i).toPromise()})()}GuardarinfPaso4(o){var e=this;return(0,l.Z)(function*(){console.log("Dentro::GuardarFormulario::>",o);let t=e.urlApiInf,i=JSON.stringify(o);return e.httpClient.post(t+"?acc=5",i).toPromise()})()}GuardarinfPaso5(o){var e=this;return(0,l.Z)(function*(){let t=e.urlApiInf,i=JSON.stringify(o);return console.log("datos enviados",i),e.httpClient.post(t+"?acc=6",i).toPromise()})()}GuardarFormPaso2(o,e,a,t,i,u){var d=this;return(0,l.Z)(function*(){let _,A=d.urlApiProd,E=JSON.stringify({idservicio:o,idpapa:e,idhijo:a,idusuario:t,acc:9,idclase:i,ck:u});return d.httpClient.post(A+"?acc=6",E).toPromise().then(f=>{console.log(f),_=f,d.confirmSaveBd=_[0].o_nres,d.confirmRequest=_},f=>{console.log(f,"Error- something is wrong!")})})()}FormFindPaso3(o,e,a){let t=JSON.stringify({acc:7,idchecklistcab:o,idusu:e,iddevice:a});return this.httpClient.post(this.urlApiProd,t).toPromise().then(i=>i)}GuardarFormPaso3(o){var e=this;return(0,l.Z)(function*(){let a,t=e.urlApiProd,i=JSON.stringify(o);return e.httpClient.post(t+"?acc=8",i).toPromise().then(u=>{console.log(u),a=u,e.confirmSaveBd=a[0].o_nres,e.confirmRequest=a},u=>{console.log(u,"Error- something is wrong!")})})()}FormFindPaso5(o,e,a){let t=JSON.stringify({acc:10,id:o,idusu:e,iddevice:a});return this.httpClient.post(this.urlApiProd,t).toPromise().then(i=>i)}GuardarFormPaso5(o){var e=this;return(0,l.Z)(function*(){let t=e.urlApiProd,i=JSON.stringify(o);return e.httpClient.post(t+"?acc=11",i).toPromise()})()}FormFindPaso6(o,e,a){let t=JSON.stringify({acc:12,idchecklistcab:o,idusu:e,iddevice:a});return this.httpClient.post(this.urlApiProd,t).toPromise().then(i=>i)}GuardarFormPaso6(o){var e=this;return(0,l.Z)(function*(){let t=e.urlApiProd,i=JSON.stringify(o);return e.httpClient.post(t+"?acc=13",i).toPromise()})()}GuardarAplicaPaso(o,e,a){var t=this;return(0,l.Z)(function*(){let i,d,u=t.urlApiProd;d={idchecklistcab:o,numeroPaso:e,ck:a};let _=JSON.stringify(d);return t.httpClient.post(u+"?acc=15",_).toPromise().then(p=>{console.log(p),i=p,t.confirmSaveBd=i[0].o_nres,t.confirmRequest=i},p=>{console.log(p,"Error- something is wrong!")})})()}getImages(o){return this.httpClient.get(`${this.urlApiProd}?acc=5&id=`+o)}uploadImage(o,e,a){let t=new FormData;return t.append("file",o,"myimage."+a),t.append("id",e),t.append("acc","6"),t.append("type","image/png"),this.httpClient.post(this.urlApiProd,t)}UpLoadImageMultiple(o,e,a){try{let t=new FormData;t.append("id",e),t.append("acc","15"),t.append("type","image/png");for(let i=0;i<o.length;i++)console.log("image::ruta=>::>",o[i]),t.append("images[]",o[i],`image_${i}.jpg`);return this.httpClient.post(this.urlApiProd,t)}catch(t){console.error("Error al enviar im\xe1genes al API:",t)}}LoadPdfInformeTecnico(o){let e=JSON.stringify({acc:14,idchecklistcab:o});return this.httpClient.post(this.urlApiProd,e).toPromise().then(a=>a)}deleteImage(o){return this.httpClient.delete(`${this.urlApiProd}?acc=16&id=${o}`)}}return(h=P).\u0275fac=function(o){return new(o||h)(c.LFG(r.eN),c.LFG(C.K))},h.\u0275prov=c.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),P})()},8992:(b,m,n)=>{n.r(m),n.d(m,{MttoWinInformeTablero5Page:()=>P});var l=n(6814),s=n(6728),c=n(95),r=n(6242),C=n(4160),v=n(1991),h=n(6172);let P=(()=>{var g;class o{constructor(a,t,i,u,d,_){this.formBuilder=a,this.alertController=t,this.loadingController=i,this.ApiService1=u,this.ApiService=d,this.globalVal=_,this.pintadoTablero=!1,this.monymant=!1,this.pruebygen=!1,this.arenado=!1,this.rep=!1,this.cal=!1,this.checklist_paso5_apli_ck=!1,this.FormCheckListPaso5=this.formBuilder.group({pintadoTablero:[""],monymant:[""],pruebygen:[""],arenado:[""],rep:[""],cal:[""],corre_inf_cab:[""]})}ngOnInit(){}savebutton1(){this.FormCheckListPaso5?(this.FormCheckListPaso5.controls.corre_inf_cab.setValue(this.globalVal.corre_inf_cab),this.ApiService1.GuardarinfPaso5(this.FormCheckListPaso5.value),console.log("aqui se vera si pasa",this.FormCheckListPaso5.value)):console.error("FormCheckListPaso5 is undefined")}ionViewWillEnter(){let a;this.checklist_paso5_apli_ck="0"==this.globalVal.checklist_paso1_apli,this.FLoadForms(),a={detail:{checked:this.checklist_paso5_apli_ck,jc:0}}}FLoadForms(){this.loadingController.create({message:"Cargando lista....",translucent:!0}).then(t=>{t.present(),this.ApiService.Formtoggtab1(this.globalVal.corre_inf_cab).then(i=>{console.log(this.globalVal.corre_inf_cab),this.EditDataRest=i.form,console.log("hrlppp",this.EditDataRest[0].togg1);try{this.FormCheckListPaso5.setValue({corre_inf_cab:this.globalVal.corre_inf_cab,pintadoTablero:this.EditDataRest[0].togg1,monymant:this.EditDataRest[0].togg2,pruebygen:this.EditDataRest[0].togg3,arenado:this.EditDataRest[0].togg4,rep:this.EditDataRest[0].togg5,cal:this.EditDataRest[0].togg6})}catch(u){console.log("error:::>",u)}}).finally(()=>{this.loadingController.dismiss()})})}}return(g=o).\u0275fac=function(a){return new(a||g)(r.Y36(c.QS),r.Y36(s.Br),r.Y36(s.HT),r.Y36(C.J),r.Y36(v.k),r.Y36(h.X))},g.\u0275cmp=r.Xpm({type:g,selectors:[["app-mtto-win-informe-tablero5"]],standalone:!0,features:[r.jDz],decls:39,vars:1,consts:[["mode","ios"],["text-capitalize",""],[1,"ion-padding"],[3,"formGroup"],["mode","ios",1,"ion-no-padding"],["formControlName","pintadoTablero",3,"ionChange"],["formControlName","monymant",3,"ionChange"],["formControlName","pruebygen",3,"ionChange"],["formControlName","arenado",3,"ionChange"],["formControlName","rep",3,"ionChange"],["formControlName","cal",3,"ionChange"]],template:function(a,t){1&a&&(r.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-item")(3,"ion-title",1)(4,"ion-label"),r._uU(5,"SERVICIOS"),r.qZA()()()()(),r.TgZ(6,"ion-content",2)(7,"form",3)(8,"ion-list",4)(9,"ion-item")(10,"ion-toggle",5),r.NdJ("ionChange",function(){return t.savebutton1()}),r._uU(11,"Pintado de Tablero El\xe9ctrico"),r.qZA(),r._UZ(12,"br")(13,"br"),r.qZA(),r.TgZ(14,"ion-item")(15,"ion-toggle",6),r.NdJ("ionChange",function(){return t.savebutton1()}),r._uU(16,"Montaje y Mantenimiento de Circuito El\xe9ctrico"),r.qZA(),r._UZ(17,"br")(18,"br"),r.qZA(),r.TgZ(19,"ion-item")(20,"ion-toggle",7),r.NdJ("ionChange",function(){return t.savebutton1()}),r._uU(21,"Prueba y generaci\xf3n de Protocolo"),r.qZA(),r._UZ(22,"br")(23,"br"),r.qZA(),r.TgZ(24,"ion-item")(25,"ion-toggle",8),r.NdJ("ionChange",function(){return t.savebutton1()}),r._uU(26,"Arenado de Gabinete Met\xe1lico"),r.qZA(),r._UZ(27,"br")(28,"br"),r.qZA(),r.TgZ(29,"ion-item")(30,"ion-toggle",9),r.NdJ("ionChange",function(){return t.savebutton1()}),r._uU(31,"Reparaci\xf3n por Soldadura de gabinetes met\xe1licos"),r.qZA(),r._UZ(32,"br")(33,"br"),r.qZA(),r.TgZ(34,"ion-item")(35,"ion-toggle",10),r.NdJ("ionChange",function(){return t.savebutton1()}),r._uU(36," Calado de Gabienete Met\xe1lico"),r.qZA(),r._UZ(37,"br")(38,"br"),r.qZA()()()()),2&a&&(r.xp6(7),r.Q6J("formGroup",t.FormCheckListPaso5))},dependencies:[s.Pc,s.W2,s.Gu,s.Ie,s.Q$,s.q_,s.wd,s.ho,s.sr,s.w,l.ez,c.u5,c._Y,c.JJ,c.JL,c.UX,c.sg,c.u]}),o})()}}]);