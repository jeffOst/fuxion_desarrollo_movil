"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4773],{4083:(m,l,t)=>{t.d(l,{Z:()=>i});const i=(0,t(2726).fo)("Network",{web:()=>t.e(516).then(t.bind(t,516)).then(e=>new e.NetworkWeb)})},4773:(m,l,t)=>{t.r(l),t.d(l,{LoginPage:()=>P});var g=t(6814),i=t(95),e=t(6728),d=t(4083),o=t(6242),f=t(2014),h=t(4248),_=t(1335);function p(a,c){if(1&a&&(o.TgZ(0,"ion-select-option",29),o._uU(1),o.qZA()),2&a){const s=c.$implicit;o.Q6J("value",s.Y06001),o.xp6(1),o.Oqu(s.Y06002)}}let P=(()=>{var a;class c{constructor(n,r,u,v,Z,b){this.modalController=n,this.formBuilder=r,this.storage=u,this.router=v,this.logincustomService=Z,this.loadingController=b,this.msjErrorBdForm="",this.tituloTollBar="",this.user=this.formBuilder.group({email:["",i.kI.required],password:["",i.kI.required],siteform:["000",i.kI.required],ip:["192.168.3.82/erpgeo_hidro",i.kI.required]})}ngOnInit(){d.Z&&d.Z.getStatus().then(n=>{this.networkStatus=n}),d.Z.addListener("networkStatusChange",n=>{this.networkStatus=n,this.tituloTollBar=this.networkStatus&&this.networkStatus.connected?"":"Sin conexion a internet"}),this.msjErrorBdForm="",this.load_sites()}ionViewWillEnter(){this.msjErrorBdForm="",this.storage.get("IP_MANUAL").then(n=>{console.log("ip manual guaddado en storage:>",n),n&&this.user.controls.ip.setValue(n.ip)})}load_sites(){console.log("load_sites()"),this.logincustomService.service_load_sites().then(n=>{this.sites=n}).finally(()=>{}).catch(n=>{console.log("err::service_load_sites::",n),this.sites=[{Y06001:"000",Y06002:"LIMA"}]})}showHideAutoLoader(){this.loadinProgress=this.loadingController.create({message:"Por favor espere..."}).then(n=>{n.present()})}hideLoader(){this.loadingController.dismiss().then(n=>{console.log("Loading dismissed!",n)}).catch(n=>{console.log("error",n)})}serviceLogin(){this.loadinProgress=this.loadingController.create({message:"Por favor espere..."}).then(n=>{n.present(),this.logincustomService.device_info().finally(()=>{const r=this.user.value;this.logincustomService.login(r.email,r.password,r.siteform,r.ip).then(u=>{this.hideLoader()}).finally(()=>{}).catch(u=>{})})}),setTimeout(()=>{console.log("timeee::::>"),console.log(this.logincustomService.msjErrorBd),this.msjErrorBdForm=this.logincustomService.msjErrorBd},1e3)}close(){this.modalController.dismiss()}login(){}}return(a=c).\u0275fac=function(n){return new(n||a)(o.Y36(e.IN),o.Y36(i.QS),o.Y36(f.K),o.Y36(h.F0),o.Y36(_.T),o.Y36(e.HT))},a.\u0275cmp=o.Xpm({type:a,selectors:[["app-login"]],standalone:!0,features:[o.jDz],decls:48,vars:6,consts:[["color",""],["text-capitalize","","color","danger","size","large"],["text-center","",1,""],["padding",""],[1,"color-change-5x"],[1,"ion_content",3,"formGroup","ngSubmit"],["src","assets/imgs/logo_geo.png",1,"bounce-in-top"],["mode","ios",1,"list_2"],["mode","ios"],["position","floating","mode","ios"],["formControlName","email","mode","ios","type","email","label-placement","floating","fill","outline"],["type","password","formControlName","password"],["position","stacked","mode","ios"],["formControlName","siteform","interface","action-sheet","mode","ios"],[3,"value",4,"ngFor","ngForOf"],["color","danger"],["expand","full","type","submit","shape","round",1,"button_login_color",3,"disabled"],[1,"ion-no-padding"],[1,"",3,"formGroup"],[1,"ion-justify-content-end"],["size","9","size-md","8","size-lg","10",1,"ion-no-padding"],["color","secondary",2,"font-size","xx-small"],["size","3","size-md","4","size-lg","2",1,"ion-no-padding"],["formControlName","ip","interface","action-sheet","mode","ios",2,"text-align","right","color","gray"],["value","fuxion.geohidraulica.com.pe"],["value","192.168.100.122"],["value","192.168.3.147/fuxion_desarrollo"],["value","192.168.3.60/fuxion_desarrollo"],["value","192.168.100.23/fuxion_desarrollo"],[3,"value"]],template:function(n,r){1&n&&(o.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title",1),o._uU(3),o.qZA(),o.TgZ(4,"ion-title",2),o._uU(5,"Iniciar Session"),o.qZA()()(),o.TgZ(6,"ion-content",3),o._UZ(7,"div",4),o.TgZ(8,"form",5),o.NdJ("ngSubmit",function(){return r.serviceLogin()}),o._UZ(9,"img",6),o.TgZ(10,"ion-list",7)(11,"ion-item",8)(12,"ion-label",9),o._uU(13," Email"),o.qZA(),o._UZ(14,"ion-input",10),o.qZA(),o.TgZ(15,"ion-item")(16,"ion-label",9),o._uU(17," Clave"),o.qZA(),o._UZ(18,"ion-input",11),o.qZA(),o.TgZ(19,"ion-item")(20,"ion-label",12),o._uU(21," Site"),o.qZA(),o.TgZ(22,"ion-select",13),o.YNc(23,p,2,2,"ion-select-option",14),o.qZA()(),o.TgZ(24,"ion-item")(25,"ion-label",15),o._uU(26),o.qZA()(),o.TgZ(27,"ion-button",16),o._uU(28," Ingresar "),o.qZA()()()(),o.TgZ(29,"ion-footer",17)(30,"form",18)(31,"ion-grid",17)(32,"ion-row",19)(33,"ion-col",20)(34,"ion-label",21),o._uU(35,"v.1.0.10.71"),o.qZA()(),o.TgZ(36,"ion-col",22)(37,"ion-select",23)(38,"ion-select-option",24),o._uU(39,"fuxion.geohidraulica.com.pe"),o.qZA(),o.TgZ(40,"ion-select-option",25),o._uU(41,"192.168.100.122"),o.qZA(),o.TgZ(42,"ion-select-option",26),o._uU(43,"192.168.3.147/fuxion_desarrollo (jeffrey)"),o.qZA(),o.TgZ(44,"ion-select-option",27),o._uU(45,"192.168.3.60/fuxion_desarrollo (francis)"),o.qZA(),o.TgZ(46,"ion-select-option",28),o._uU(47,"192.168.100.23/fuxion_desarrollo (pruebas)"),o.qZA()()()()()()()),2&n&&(o.xp6(3),o.Oqu(r.tituloTollBar),o.xp6(5),o.Q6J("formGroup",r.user),o.xp6(15),o.Q6J("ngForOf",r.sites),o.xp6(3),o.hij(" ",r.msjErrorBdForm," "),o.xp6(1),o.Q6J("disabled",!r.user.valid),o.xp6(3),o.Q6J("formGroup",r.user))},dependencies:[e.Pc,e.YG,e.wI,e.W2,e.fr,e.jY,e.Gu,e.pK,e.Ie,e.Q$,e.q_,e.Nd,e.t9,e.n0,e.wd,e.sr,e.QI,e.j9,g.ez,g.sg,i.u5,i._Y,i.JJ,i.JL,i.UX,i.sg,i.u],styles:[".ion_content[_ngcontent-%COMP%]{place-items:center;width:100%;height:100%;margin-left:19%;margin-top:10%}.list_2[_ngcontent-%COMP%]{width:65%;padding:0;border-radius:20px;max-height:50%;min-height:65%;flex:auto;margin-top:0;margin-bottom:100}.bounce-in-top[_ngcontent-%COMP%]{flex:auto;margin-top:auto;width:65%;height:13%;animation:_ngcontent-%COMP%_bounce-in-top 1.1s both;border:.5px solid whitesmoke;border-radius:20px;padding:3px;max-height:50%;min-height:10%}img[_ngcontent-%COMP%]:hover{box-shadow:0 0 12px 15px #f47b38}@keyframes _ngcontent-%COMP%_bounce-in-top{0%{transform:translateY(-500px);animation-timing-function:ease-in;opacity:0}38%{transform:translateY(0);animation-timing-function:ease-out;opacity:1}55%{transform:translateY(-65px);animation-timing-function:ease-in}72%{transform:translateY(0);animation-timing-function:ease-out}81%{transform:translateY(-28px);animation-timing-function:ease-in}90%{transform:translateY(0);animation-timing-function:ease-out}95%{transform:translateY(-8px);animation-timing-function:ease-in}to{transform:translateY(0);animation-timing-function:ease-out}}.bg-pan-left[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;overflow:hidden;top:0;left:0;background-image:linear-gradient(270deg,#cc6aa5,#3e91cc,#2dcca7);background-size:600% 100%;animation:_ngcontent-%COMP%_bg-pan-left 8s both}@keyframes _ngcontent-%COMP%_bg-pan-left{0%{background-position:100% 50%}to{background-position:0% 50%}}.color-change-5x[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;overflow:hidden;top:0;left:0;animation:_ngcontent-%COMP%_color-change-5x 8s linear infinite alternate both}@keyframes _ngcontent-%COMP%_color-change-5x{0%{background:rgba(241,250,251,.7568627451)}25%{background:#f7f1f1}50%{background:#e0e0e0}75%{background:#fdf6f6}to{background:#f0f2ef}}.button_login_color[_ngcontent-%COMP%]{background:#f47b38!important;border-radius:20px}"]}),c})()}}]);