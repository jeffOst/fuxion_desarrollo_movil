"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1303],{1303:(Z,g,s)=>{s.r(g),s.d(g,{MttoWinMantoPendPage:()=>M});var u=s(5861),c=s(6814),_=s(95),e=s(6728),t=s(6242),m=s(4248),h=s(2014),p=s(1991);const b=r=>({color:r});function C(r,d){if(1&r){const a=t.EpF();t.TgZ(0,"ion-item-sliding")(1,"ion-item")(2,"ion-label")(3,"div"),t._uU(4),t.qZA(),t.TgZ(5,"div"),t._uU(6," Solicitado: "),t.TgZ(7,"span"),t._uU(8),t.qZA()(),t.TgZ(9,"div"),t._uU(10," Stock Ubi: "),t.TgZ(11,"span",13),t._uU(12),t.qZA()()(),t.TgZ(13,"ion-badge",14),t._uU(14),t.qZA(),t.TgZ(15,"ion-checkbox",15),t.NdJ("ngModelChange",function(n){const l=t.CHM(a).$implicit;return t.KtG(l.isChecked=n)})("ionChange",function(){const o=t.CHM(a).$implicit,l=t.oxw();return t.KtG(l.onCheckboxChange(o))}),t.qZA()(),t.TgZ(16,"ion-item-options",16)(17,"ion-item-option",17),t._UZ(18,"ion-icon",18),t.qZA(),t.TgZ(19,"ion-item-option",19),t._UZ(20,"ion-icon",20),t.qZA(),t.TgZ(21,"ion-item-option",21),t._UZ(22,"ion-icon",22),t.qZA()()()}if(2&r){const a=d.$implicit;t.xp6(4),t.lnq("Item: ",a.prdid," - ",a.prdtxt," - ",a["ma00unidad#nombre"],""),t.xp6(4),t.Oqu(a.prdcant),t.xp6(3),t.Q6J("ngStyle",t.VKq(9,b,a.stock_sxu>0?"green":"red")),t.xp6(1),t.Oqu(a.stock_sxu),t.xp6(2),t.Oqu(a.Y06002),t.xp6(1),t.Q6J("ngModel",a.isChecked)("disabled",a.estado_check)}}let M=(()=>{var r;class d{constructor(i,n,o,l,P){this.router=i,this.alertController=n,this.loadingController=o,this.storage=l,this.ApiService=P,this.Cancelar="Cancelar",this.disableButton=!1,this.estaCargando=!1,this.selectedItems=[],this.navParamsAny=this.router.getCurrentNavigation().extras.state.Row}ngOnInit(){let i;this.estaCargando=!0,this.storage.get("USER_INFO").then(n=>{i=n,this.NombresUsuarioLocal=i.user_name,this.IdUsuarioLocal=i.user_id})}ionViewWillEnter(){this.codsmg=this.navParamsAny.codsmg,this.id_orden_trab_cab=this.navParamsAny.id_orden_trab_cab,this.id_orden_trab_fis_cab=this.navParamsAny.id_orden_trab_fis_cab,this.idblockguiaremicab=this.navParamsAny.idblockguiaremicab,this.FListaEquiposPendMantoDet()}FListaEquiposPendMantoDet(){this.loadingController.create({message:"Cargando lista...",translucent:!0}).then(n=>{n.present(),this.ApiService.ListFindOtsMantoDet("44",this.idblockguiaremicab,"").then(o=>{this.DataSetGrid=o,this.loadingController.dismiss(),this.estaCargando=!1}).finally(()=>{this.loadingController.dismiss(),setTimeout(()=>{},600)}).catch(()=>{}).then(o=>{n.dismiss()})})}FAprobarItemManto(){console.log(this.selectedItems)}onCheckboxChange(i){var n=this;return(0,u.Z)(function*(){if(i.isChecked)n.selectedItems.push(i.id_orden_trabajo_det);else{const o=n.selectedItems.indexOf(i.id_orden_trabajo_det);o>-1&&n.selectedItems.splice(o,1)}})()}FCargarDetalleOti(){this.loadingController.create({message:"Cargando lista...",translucent:!0}).then(n=>{n.present(),this.ApiService.CreateOtiAtencionCab("45",this.id_orden_trab_cab,"1",this.idblockguiaremicab).then(o=>{this.loadingController.dismiss(),this.estaCargando=!1,this.idblockguiaremicab=o[0].o_nres}).finally(()=>{this.loadingController.dismiss(),setTimeout(()=>{},600)}).catch(()=>{}).then(o=>{n.dismiss()})})}}return(r=d).\u0275fac=function(i){return new(i||r)(t.Y36(m.F0),t.Y36(e.Br),t.Y36(e.HT),t.Y36(h.K),t.Y36(p.k))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-mtto-win-manto-pend"]],standalone:!0,features:[t.jDz],decls:35,vars:6,consts:[[3,"translucent"],["mode","ios","color","primary"],["text-capitalize",""],["slot","start"],["defaultHref","prod-list-acti-programada",3,"text","disabled"],[1,"ion-no-border"],["color","secondary",3,"click"],["color","success",3,"click"],["mode","ios","debounce","1700","cancelButtonText","Cancelar","enterkeyhint","done","placeholder","Filtrar Parametros"],["IdHtmlInputSearch",""],["slot","end","name","sync-outline",3,"click"],["idIconButtonSync",""],[4,"ngFor","ngForOf"],[3,"ngStyle"],["slot","end",1,"ion-margin"],["slot","end","aria-label","Toggle task completion",3,"ngModel","disabled","ngModelChange","ionChange"],["slot","end"],["color","warning"],["slot","icon-only","name","pin"],["color","tertiary"],["slot","icon-only","name","share"],["color","danger","expandable","true"],["slot","icon-only","name","trash"]],template:function(i,n){1&i&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title",2),t._uU(3,"Listado Material"),t.qZA(),t.TgZ(4,"ion-buttons",3),t._UZ(5,"ion-back-button",4),t.qZA()()(),t.TgZ(6,"ion-toolbar",5)(7,"ion-list")(8,"ion-item")(9,"ion-label")(10,"h1"),t._uU(11),t.qZA()(),t.TgZ(12,"ion-label")(13,"h1"),t._uU(14),t.qZA()(),t.TgZ(15,"ion-item")(16,"ion-label")(17,"div")(18,"ion-button",6),t.NdJ("click",function(){return n.FCargarDetalleOti()}),t._uU(19,"Cargar Detalle"),t.qZA(),t.TgZ(20,"ion-button",7),t.NdJ("click",function(){return n.FAprobarItemManto()}),t._uU(21,"Atender"),t.qZA()()()()()()(),t.TgZ(22,"ion-content")(23,"ion-card")(24,"ion-item"),t._UZ(25,"ion-searchbar",8,9),t.TgZ(27,"ion-icon",10,11),t.NdJ("click",function(){return n.FListaEquiposPendMantoDet()}),t.qZA()(),t.TgZ(29,"ion-card-header")(30,"div")(31,"div")(32,"ion-card-subtitle"),t._uU(33,"Materiales"),t.qZA()()()(),t.YNc(34,C,23,11,"ion-item-sliding",12),t.qZA()()),2&i&&(t.Q6J("translucent",!0),t.xp6(5),t.Q6J("text",n.Cancelar)("disabled",n.disableButton),t.xp6(6),t.Oqu(n.codsmg),t.xp6(3),t.hij("N\xb0 O.T: ",n.id_orden_trab_fis_cab,""),t.xp6(20),t.Q6J("ngForOf",n.DataSetGrid))},dependencies:[e.Pc,e.yp,e.YG,e.Sm,e.PM,e.Zi,e.tO,e.nz,e.W2,e.Gu,e.gu,e.Ie,e.u8,e.IK,e.td,e.Q$,e.q_,e.VI,e.wd,e.sr,e.w,e.j9,e.oU,c.ez,c.sg,c.PC,_.u5,_.JJ,_.On],styles:['@charset "UTF-8";ion-label[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:4px}.headerContentManto[_ngcontent-%COMP%]{display:flex;width:100%;gap:10px;justify-content:space-between}']}),d})()}}]);