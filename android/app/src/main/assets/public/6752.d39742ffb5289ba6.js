"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6752],{5897:(C,g,l)=>{l.d(g,{A:()=>u});const u=(0,l(2726).fo)("Browser",{web:()=>l.e(3671).then(l.bind(l,3671)).then(h=>new h.BrowserWeb)})},6752:(C,g,l)=>{l.r(g),l.d(g,{MttoWinOrdenTrabajo1Page:()=>rt});var m=l(5861),u=l(5897),h=l(6814),T=l(2519),_=l(95),r=l(6728),t=l(6242),P=l(5472),D=l(1991),E=l(2014),v=l(4248),M=l(6172);function F(i,s){if(1&i&&(t.TgZ(0,"ion-select-option",21),t._uU(1),t.qZA()),2&i){const o=s.$implicit;t.Q6J("value",o.codigo),t.xp6(1),t.hij("",o.nombre," ")}}function O(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"ion-item")(1,"ion-label")(2,"p"),t._uU(3,"Tipo Bomba"),t.qZA(),t.TgZ(4,"ion-select",19),t.NdJ("ionChange",function(a){t.CHM(o);const e=t.oxw();return t.KtG(e.FSelectChangeTipoBomba(a,0))}),t.YNc(5,F,2,2,"ion-select-option",20),t.qZA()()()}if(2&i){const o=t.oxw();t.xp6(4),t.Q6J("selectedText",o.TipoBombaPivotSelectedText),t.xp6(1),t.Q6J("ngForOf",o.DsTipoBomba)}}function Z(i,s){1&i&&(t.TgZ(0,"div",22),t._uU(1," Falta seleccionar este campo "),t.qZA())}function A(i,s){if(1&i&&(t.TgZ(0,"ion-select-option",21),t._uU(1),t.qZA()),2&i){const o=s.$implicit;t.Q6J("value",o.codigo),t.xp6(1),t.hij("",o.nombre," ")}}function R(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"ion-item")(1,"ion-label")(2,"p"),t._uU(3,"Material:"),t.qZA(),t.TgZ(4,"ion-select",23),t.NdJ("ionChange",function(a){t.CHM(o);const e=t.oxw();return t.KtG(e.FSelectChangeTipoMaterial(a,0))}),t.YNc(5,A,2,2,"ion-select-option",20),t.qZA()()()}if(2&i){const o=t.oxw();t.xp6(4),t.Q6J("selectedText",o.MaterialPivotSelectedText),t.xp6(1),t.Q6J("ngForOf",o.DsMaterial)}}function S(i,s){1&i&&(t.TgZ(0,"div",22),t._uU(1," Falta seleccionar este campo "),t.qZA())}function V(i,s){if(1&i&&(t.TgZ(0,"ion-select-option",21),t._uU(1),t.qZA()),2&i){const o=s.$implicit;t.Q6J("value",o.codigo),t.xp6(1),t.hij("",o.nombre," ")}}function j(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"ion-item")(1,"ion-label")(2,"p"),t._uU(3,"Motor:"),t.qZA(),t.TgZ(4,"ion-select",24),t.NdJ("ionChange",function(a){t.CHM(o);const e=t.oxw();return t.KtG(e.FSelectChangeMotor(a,0))}),t.YNc(5,V,2,2,"ion-select-option",20),t.qZA()()()}if(2&i){const o=t.oxw();t.xp6(4),t.Q6J("selectedText",o.MotorPivotSelectedText),t.xp6(1),t.Q6J("ngForOf",o.DsMotor)}}function I(i,s){if(1&i&&(t.TgZ(0,"ion-select-option",21),t._uU(1),t.qZA()),2&i){const o=s.$implicit;t.Q6J("value",o.codigo),t.xp6(1),t.hij("",o.nombre," ")}}function J(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"ion-item")(1,"ion-label")(2,"p"),t._uU(3,"Voltaje:"),t.qZA(),t.TgZ(4,"ion-select",25),t.NdJ("ionChange",function(a){t.CHM(o);const e=t.oxw();return t.KtG(e.FSelectChangeVoltaje(a,0))}),t.YNc(5,I,2,2,"ion-select-option",20),t.qZA()()()}if(2&i){const o=t.oxw();t.xp6(4),t.Q6J("selectedText",o.VoltajePivotSelectedText),t.xp6(1),t.Q6J("ngForOf",o.DsVoltaje)}}function q(i,s){if(1&i&&(t.TgZ(0,"ion-select-option",21),t._uU(1),t.qZA()),2&i){const o=s.$implicit;t.Q6J("value",o.codigo),t.xp6(1),t.hij("",o.nombre," ")}}function L(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"ion-item")(1,"ion-label")(2,"p"),t._uU(3,"Frecuencia:"),t.qZA(),t.TgZ(4,"ion-select",26),t.NdJ("ionChange",function(a){t.CHM(o);const e=t.oxw();return t.KtG(e.FSelectChangeFrecuencia(a,0))}),t.YNc(5,q,2,2,"ion-select-option",20),t.qZA()()()}if(2&i){const o=t.oxw();t.xp6(4),t.Q6J("selectedText",o.FrecuenciaPivotSelectedText),t.xp6(1),t.Q6J("ngForOf",o.DsFrecuencia)}}function U(i,s){if(1&i&&(t.TgZ(0,"ion-select-option",21),t._uU(1),t.qZA()),2&i){const o=s.$implicit;t.Q6J("value",o.codigo),t.xp6(1),t.hij("",o.nombre," ")}}function W(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"ion-item")(1,"ion-label")(2,"p"),t._uU(3,"Velocidad de Rotacion:"),t.qZA(),t.TgZ(4,"ion-select",27),t.NdJ("ionChange",function(a){t.CHM(o);const e=t.oxw();return t.KtG(e.FSelectChangeVelRot(a,0))}),t.YNc(5,U,2,2,"ion-select-option",20),t.qZA()()()}if(2&i){const o=t.oxw();t.xp6(4),t.Q6J("selectedText",o.VelRotPivotSelectedText),t.xp6(1),t.Q6J("ngForOf",o.DsVelrot)}}function Q(i,s){if(1&i&&(t.TgZ(0,"ion-select-option",21),t._uU(1),t.qZA()),2&i){const o=s.$implicit;t.Q6J("value",o.codigo),t.xp6(1),t.hij("",o.nombre," ")}}function N(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"ion-item")(1,"ion-label")(2,"p"),t._uU(3,"Tipo de Potencia:"),t.qZA(),t.TgZ(4,"ion-select",28),t.NdJ("ionChange",function(a){t.CHM(o);const e=t.oxw();return t.KtG(e.FSelectChangePotencia(a,0))}),t.YNc(5,Q,2,2,"ion-select-option",20),t.qZA()()()}if(2&i){const o=t.oxw();t.xp6(4),t.Q6J("selectedText",o.PotenciaPivotSelectedText),t.xp6(1),t.Q6J("ngForOf",o.DsTipoPotencia)}}function k(i,s){1&i&&(t.TgZ(0,"div",22),t._uU(1," Falta seleccionar este campo "),t.qZA())}function y(i,s){if(1&i&&(t.TgZ(0,"ion-select-option",21),t._uU(1),t.qZA()),2&i){const o=s.$implicit;t.Q6J("value",o.codigo),t.xp6(1),t.hij("",o.nombre," ")}}function B(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"ion-item")(1,"ion-label")(2,"p"),t._uU(3,"Tipo de Equipamiento:"),t.qZA(),t.TgZ(4,"ion-select",29),t.NdJ("ionChange",function(a){t.CHM(o);const e=t.oxw();return t.KtG(e.FSelectChangeTipoEquipamiento(a,0))}),t.YNc(5,y,2,2,"ion-select-option",20),t.qZA()()()}if(2&i){const o=t.oxw();t.xp6(4),t.Q6J("selectedText",o.TipoEquipamientoPivotSelectedText),t.xp6(1),t.Q6J("ngForOf",o.DsTipoEquipamiento)}}function w(i,s){1&i&&(t.TgZ(0,"div",22),t._uU(1," Falta seleccionar este campo "),t.qZA())}function Y(i,s){if(1&i&&(t.TgZ(0,"ion-select-option",21),t._uU(1),t.qZA()),2&i){const o=s.$implicit;t.Q6J("value",o.codigo),t.xp6(1),t.hij("",o.nombre," ")}}function G(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"ion-item")(1,"ion-label")(2,"p"),t._uU(3,"Estandar:"),t.qZA(),t.TgZ(4,"ion-select",30),t.NdJ("ionChange",function(a){t.CHM(o);const e=t.oxw();return t.KtG(e.FSelectChangeEstandar(a,0))}),t.YNc(5,Y,2,2,"ion-select-option",20),t.qZA()()()}if(2&i){const o=t.oxw();t.xp6(4),t.Q6J("selectedText",o.EstandarPivotSelectedText),t.xp6(1),t.Q6J("ngForOf",o.DsEstandar)}}function K(i,s){1&i&&(t.TgZ(0,"div",22),t._uU(1," Falta seleccionar este campo "),t.qZA())}function z(i,s){if(1&i&&(t.TgZ(0,"ion-select-option",21),t._uU(1),t.qZA()),2&i){const o=s.$implicit;t.Q6J("value",o.codigo),t.xp6(1),t.hij("",o.nombre," ")}}function H(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"ion-item")(1,"ion-label")(2,"p"),t._uU(3,"Tension de Fuerza:"),t.qZA(),t.TgZ(4,"ion-select",31),t.NdJ("ionChange",function(a){t.CHM(o);const e=t.oxw();return t.KtG(e.FSelectChangeTensionFuerza(a,0))}),t.YNc(5,z,2,2,"ion-select-option",20),t.qZA()()()}if(2&i){const o=t.oxw();t.xp6(4),t.Q6J("selectedText",o.TensionFuerzaPivotSelectedText),t.xp6(1),t.Q6J("ngForOf",o.DsTensionFuerza)}}function $(i,s){if(1&i&&(t.TgZ(0,"ion-select-option",21),t._uU(1),t.qZA()),2&i){const o=s.$implicit;t.Q6J("value",o.codigo),t.xp6(1),t.hij("",o.nombre," ")}}function X(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"ion-item")(1,"ion-label")(2,"p"),t._uU(3,"Tension de Mando:"),t.qZA(),t.TgZ(4,"ion-select",32),t.NdJ("ionChange",function(a){t.CHM(o);const e=t.oxw();return t.KtG(e.FSelectChangeTensionMando(a,0))}),t.YNc(5,$,2,2,"ion-select-option",20),t.qZA()()()}if(2&i){const o=t.oxw();t.xp6(4),t.Q6J("selectedText",o.TensionMandoPivotSelectedText),t.xp6(1),t.Q6J("ngForOf",o.DsTensionMando)}}function tt(i,s){1&i&&(t.TgZ(0,"ion-item-divider",6),t._uU(1," Motor "),t.qZA())}function et(i,s){1&i&&(t.TgZ(0,"ion-item")(1,"ion-label")(2,"p"),t._uU(3,"Codigo de Motor"),t.qZA(),t._UZ(4,"ion-input",33),t.qZA()())}function ot(i,s){1&i&&(t.TgZ(0,"ion-item-divider",6)(1,"ion-label"),t._uU(2," SERVICIO DE REBOBINADO "),t.qZA()())}function it(i,s){if(1&i&&(t.TgZ(0,"ion-select-option",21),t._uU(1),t.qZA()),2&i){const o=s.$implicit;t.Q6J("value",o.codigo),t.xp6(1),t.hij("",o.nombre," ")}}function at(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"ion-item")(1,"ion-label")(2,"p"),t._uU(3,"Proceso:"),t.qZA(),t.TgZ(4,"ion-select",34),t.NdJ("ionChange",function(a){t.CHM(o);const e=t.oxw();return t.KtG(e.FSelectChangeDsProceso(a,0))}),t.YNc(5,it,2,2,"ion-select-option",20),t.qZA()()()}if(2&i){const o=t.oxw();t.xp6(4),t.Q6J("selectedText",o.TipoOtProcesoSelectedText),t.xp6(1),t.Q6J("ngForOf",o.DsProceso)}}function nt(i,s){if(1&i&&(t.TgZ(0,"ion-select-option",21),t._uU(1),t.qZA()),2&i){const o=s.$implicit;t.Q6J("value",o.codigo),t.xp6(1),t.hij("",o.nombre," ")}}function st(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"ion-item")(1,"ion-label")(2,"p"),t._uU(3,"Causa:"),t.qZA(),t.TgZ(4,"ion-select",35),t.NdJ("ionChange",function(a){t.CHM(o);const e=t.oxw();return t.KtG(e.FSelectChangeDsCausa(a,0))}),t.YNc(5,nt,2,2,"ion-select-option",20),t.qZA()()()}if(2&i){const o=t.oxw();t.xp6(4),t.Q6J("selectedText",o.TipoOtCausaSelectedText),t.xp6(1),t.Q6J("ngForOf",o.DsCausa)}}let rt=(()=>{var i;class s{constructor(n,a,e,c,b,x,lt,p,ct,_t){let d;if(this.formBuilder=n,this.navCtrl=a,this.loadingController=e,this.ApiService=c,this.storage=b,this.alertController=x,this.router=lt,this.globalVal=p,this.ref=ct,this.actionSheetCtrl=_t,this.disableButtonPaso1=!0,this.checklist_paso1_apli_ck=!1,this.aisla_tierra_apl_ck=!0,this.aisla_entre_fases_apl_ck=!0,this.repara_chapa_apl_ck=!0,this.montaje_estator_apl_ck=!0,this.toggleState=!0,this.est_dis_ot=!0,this.imgs=[],this.images=[],this.DirectorioFotos=T.N.UrlDomainLocal+"aw_file/adjuntos/",this.imageBlobs=[],this.ItemVisibleBomba=!1,this.ItemVisibleTablero=!1,this.ItemVisibleMotor=!1,this.ItemProCau=!1,this.ItemPropro=!1,this.Itemdividermotor=!1,this.storage.create(),this.storage.get("USER_INFO").then(f=>{d=f,this.NombresUsuarioLocal=d.user_name,this.IdUsuarioLocal=d.user_id,this.storage.get("DEVICE_INFO").then(dt=>{d=dt,this.NombreDispositivo=d.name,this.IdDispositivo=d.uuid})}),this.FormCheckListPaso1=this.formBuilder.group({id_orden_trab_fis_cab:[""],idtipo_otc:[""],ot_bomba:[""],Y04001:[""],codsmg:["",_.kI.required],Y04002:[""],ot_id_superv_planta:[""],familia:[""],id_tipo_material_ot:[""],idfrecuencia_ot:[""],idvelrot_ot:[""],id_tipo_equipamiento_ot:[""],id_estandar_ot:[""],id_tension_fuerza_ot:[""],id_tension_mando_ot:[""],id_causa_ot:[""],id_proceso_ot:[""],ot_estado_general:[""],descrip:[""],id_orden_trab_cab:["",_.kI.required],ot_idordentrabprev:[""],ot_tipo_de_oti:[""],ot_procedencia:[""],ot_estado:[""],ot_id_tecnico:[""],ot_id_informe_tec:[""],ot_nota:[""],Y06002:[""],ot_fech_fin_labor:[""],ot_fech_h_inicio_labor:[""],ot_fech_inicio_labor:[""],ot_fech_h_fin_labor:[""],SEQMA04:[""],corre_inf_cab_otc:[""],corre_fisico:[""],dias_trabajados:[""],ot_cod_reb_motor:[{disabled:!0},""],ot_idtoggle:[""],estado_dis_motor_otc:[""],idestado_cerrado:[""],idestado_bloquear_otc:[""],tipobomba_otc:[""],idordenfabricab_otc:[""],voltaje_ot:[""],motor_ot:[""],potencia:[""],rep_fab:[""],idpartlist_otc:[""],nombre_partlist_otc:[""],tipo_partlist_otc:[""],ot_idtipoequip:[""]}),console.log(this.router.getCurrentNavigation().extras),""==this.globalVal.checklist_paso_pivot)try{this.navParamsAny=this.router.getCurrentNavigation().extras.state.Row,p.id_orden_trab_cab=this.navParamsAny.id_orden_trab_cab,p.ot_rep_fab=this.navParamsAny.rep_fab,"1"==this.navParamsAny.familia?(console.log("ingreso familia bomba!!!"),this.ItemVisibleBomba=!0,this.ItemVisibleTablero=!1,this.FormCheckListPaso1.get("tipobomba_otc").setValidators([this.valorDiferenteDeCero]),this.FormCheckListPaso1.get("tipobomba_otc").updateValueAndValidity(),this.FormCheckListPaso1.get("idtipo_otc").setValidators([this.valorDiferenteDeCero]),this.FormCheckListPaso1.get("idtipo_otc").updateValueAndValidity(),this.FormCheckListPaso1.get("id_tipo_material_ot").setValidators([this.valorDiferenteDeCero]),this.FormCheckListPaso1.get("id_tipo_material_ot").updateValueAndValidity()):"2"==this.navParamsAny.familia&&(this.ItemVisibleBomba=!1,this.ItemVisibleTablero=!0,this.FormCheckListPaso1.get("id_tipo_equipamiento_ot").setValidators([this.valorDiferenteDeCero]),this.FormCheckListPaso1.get("id_tipo_equipamiento_ot").updateValueAndValidity(),this.FormCheckListPaso1.get("id_estandar_ot").setValidators([this.valorDiferenteDeCero]),this.FormCheckListPaso1.get("id_estandar_ot").updateValueAndValidity(),this.FormCheckListPaso1.get("potencia").setValidators([this.valorDiferenteDeCero]),this.FormCheckListPaso1.get("potencia").updateValueAndValidity())}catch(f){console.log(f),this.id_orden_trab_cab=p.id_orden_trab_cab}else this.id_orden_trab_cab=p.id_orden_trab_cab}onTouched(n){console.log(n)}valorDiferenteDeCero(n){const a=n.value;return null==a||""===a||0===a||"0"===a?{valorNoValido:!0}:null}FLoadForms(){this.loadingController.create({message:"Cargando lista....",translucent:!0}).then(a=>{a.present(),this.id_orden_trab_cab=this.globalVal.id_orden_trab_cab,console.log(this.id_orden_trab_cab),this.ApiService.FormFindPaso1(this.id_orden_trab_cab,"1","H").then(e=>{this.EditDataRest=e.form;try{this.FormCheckListPaso1.setValue({id_orden_trab_fis_cab:this.EditDataRest[0].id_orden_trab_fis_cab,idtipo_otc:this.EditDataRest[0].idtipo_otc,ot_bomba:this.EditDataRest[0].ot_bomba,Y04001:this.EditDataRest[0].Y04001,codsmg:this.EditDataRest[0].codsmg,Y04002:this.EditDataRest[0].Y04002,ot_id_superv_planta:this.EditDataRest[0].ot_id_superv_planta,familia:this.EditDataRest[0].familia,id_tipo_material_ot:this.EditDataRest[0].id_tipo_material_ot,idfrecuencia_ot:this.EditDataRest[0].idfrecuencia_ot,id_tipo_equipamiento_ot:this.EditDataRest[0].id_tipo_equipamiento_ot,id_estandar_ot:this.EditDataRest[0].id_estandar_ot,id_tension_fuerza_ot:this.EditDataRest[0].id_tension_fuerza_ot,id_tension_mando_ot:this.EditDataRest[0].id_tension_mando_ot,id_proceso_ot:this.EditDataRest[0].id_proceso_ot,id_causa_ot:this.EditDataRest[0].id_causa_ot,ot_estado_general:this.EditDataRest[0].ot_estado_general,descrip:this.EditDataRest[0].descrip,id_orden_trab_cab:this.EditDataRest[0].id_orden_trab_cab,ot_idordentrabprev:this.EditDataRest[0].ot_idordentrabprev,idvelrot_ot:this.EditDataRest[0].idvelocidad_rotacion_ot,ot_tipo_de_oti:this.EditDataRest[0].ot_tipo_de_oti,ot_procedencia:this.EditDataRest[0].ot_procedencia,ot_estado:this.EditDataRest[0].ot_estado,ot_id_tecnico:this.EditDataRest[0].ot_id_tecnico,ot_id_informe_tec:this.EditDataRest[0].ot_id_informe_tec,ot_nota:this.EditDataRest[0].ot_nota,Y06002:this.EditDataRest[0].Y06002,ot_fech_fin_labor:this.EditDataRest[0].ot_fech_fin_labor,ot_fech_h_inicio_labor:this.EditDataRest[0].ot_fech_h_inicio_labor,ot_fech_inicio_labor:this.EditDataRest[0].ot_fech_inicio_labor,ot_fech_h_fin_labor:this.EditDataRest[0].ot_fech_h_fin_labor,SEQMA04:this.EditDataRest[0].SEQMA04,corre_inf_cab_otc:this.EditDataRest[0].corre_inf_cab_otc,corre_fisico:this.EditDataRest[0].corre_fisico,dias_trabajados:this.EditDataRest[0].dias_trabajados,ot_cod_reb_motor:this.EditDataRest[0].ot_cod_reb_motor,estado_dis_motor_otc:this.EditDataRest[0].estado_dis_motor_otc,ot_idtoggle:this.EditDataRest[0].ot_idtoggle,idestado_cerrado:this.EditDataRest[0].idestado_cerrado,idestado_bloquear_otc:this.EditDataRest[0].idestado_bloquear_otc,tipobomba_otc:this.EditDataRest[0].tipobomba_otc,idordenfabricab_otc:this.EditDataRest[0].idordenfabricab_otc,voltaje_ot:this.EditDataRest[0].voltaje_ot,motor_ot:this.EditDataRest[0].motor_ot,ot_idtipoequip:this.EditDataRest[0].ot_idtipoequip,potencia:this.EditDataRest[0].potencia,rep_fab:this.EditDataRest[0].rep_fab,idpartlist_otc:this.EditDataRest[0].idpartlist_otc,nombre_partlist_otc:this.EditDataRest[0].nombre_partlist_otc,tipo_partlist_otc:this.EditDataRest[0].tipo_partlist_otc}),this.MaterialPivotSelectedText=this.EditDataRest[0].id_tipo_material_ot2,this.TipoEquipamientoPivotSelectedText=this.EditDataRest[0].id_tipo_equipamiento_ot2,this.EstandarPivotSelectedText=this.EditDataRest[0].id_estandar_ot2,this.TensionFuerzaPivotSelectedText=this.EditDataRest[0].id_tension_fuerza_ot2,this.TensionMandoPivotSelectedText=this.EditDataRest[0].id_tension_mando_ot2,this.ot_idtoggle=this.EditDataRest[0].ot_idtoggle,this.TipoOtPivotSelectedText=this.EditDataRest[0].ot_tipo_de_oti2,this.TipoOtProcesoSelectedText=this.EditDataRest[0].proceso_ot,this.TipoOtCausaSelectedText=this.EditDataRest[0].causa_ot,this.TipoBombaPivotSelectedText=this.EditDataRest[0].tipobomba_otc2,this.rep_fab=this.EditDataRest[0].rep_fab,"RB"==this.rep_fab?(this.ItemVisibleMotor=!0,this.ItemPropro=!0):this.ItemVisibleMotor=!1,"RM"==this.rep_fab?(this.ItemProCau=!0,this.ItemPropro=!0):this.ItemProCau=!1,("RT"==this.rep_fab||"FB"==this.rep_fab||"FT"==this.rep_fab)&&(this.ItemVisibleMotor=!1,this.ItemProCau=!1,this.ItemPropro=!1),this.estado_dis_motor_otc=this.EditDataRest[0].estado_dis_motor_otc,this.MotorPivotSelectedText=this.EditDataRest[0].motor_ot2,this.VoltajePivotSelectedText=this.EditDataRest[0].voltaje_ot,this.PotenciaPivotSelectedText=this.EditDataRest[0].potencia2,this.globalVal.ot_estado_general=this.EditDataRest[0].ot_estado_general,this.globalVal.tipo=this.EditDataRest[0].tipobomba_otc2,this.globalVal.marca=this.EditDataRest[0].marca,this.globalVal.modelo=this.EditDataRest[0].modelo,this.globalVal.potencia=this.EditDataRest[0].potencia2,this.globalVal.nombre_partlist_otc=this.EditDataRest[0].nombre_partlist_otc,this.globalVal.tipo_partlist_otc=this.EditDataRest[0].tipo_partlist_otc,this.globalVal.nom_configuracion_exm=this.EditDataRest[0].nom_configuracion_exm,console.log("this.globalVal.nombre_partlist_otc",this.globalVal.nombre_partlist_otc)}catch(c){console.log("error:::>",c)}"1"==this.EditDataRest[0].familia?(this.ItemVisibleBomba=!0,this.ItemVisibleTablero=!1):(this.ItemVisibleBomba=!1,this.ItemVisibleTablero=!0),this.DsTipoOt=e.tipserv,this.Opciones1=e.responsable,this.DsMaterial=e.material,this.DsFrecuencia=e.frecuencia,this.DsVelrot=e.velrot,this.DsMotor=e.motor,this.DsVoltaje=e.voltaje,this.DsTipoPotencia=e.potencia,this.DsTipoEquipamiento=e.tipo_equipamiento,this.DsEstandar=e.estandar,this.DsTensionFuerza=e.TensionFuerza,this.DsTensionMando=e.TensionMando,this.DsTipoBomba=e.tipobomba,this.DsProceso=e.Mttorproceso,this.DsCausa=e.Mttorcausa,console.log("this.Opciones1",this.Opciones1),console.log(this.DsTipoOt)}).finally(()=>{this.loadingController.dismiss()})})}mostrarConfirmacion(){var n=this;return(0,m.Z)(function*(){yield(yield n.alertController.create({header:"Confirmaci\xf3n",message:"\xbfDesea realizar esta acci\xf3n?",cssClass:"alerta-confirma",mode:"ios",buttons:[{text:"Cancelar",role:"cancel",handler:()=>{console.log("Acci\xf3n cancelada")}},{text:"Aceptar",handler:()=>{n.SaveFormTerminadoPaso1()}}]})).present()})()}onToggle(n){let a;console.log("holaaaaa",n),a=n.detail.checked?"1":"0",this.FormCheckListPaso1.controls.ot_idtoggle.setValue(a),console.log("cahoooo",a),"1"==a?this.toggleState=!1:(this.toggleState=!0,this.FormCheckListPaso1.controls.ot_cod_reb_motor.setValue("")),console.log(this.toggleState)}SaveFormTerminadoPaso1(){var n=this;return(0,m.Z)(function*(){if(n.FormCheckListPaso1.valid)n.id_orden_trab_cab=n.globalVal.id_orden_trab_cab,n.loadingController.create({message:"Guardando Paso 1...",translucent:!0}).then(e=>{e.present()}),yield n.ApiService.GuardarFormPaso1(n.FormCheckListPaso1.value).then(function(){var e=(0,m.Z)(function*(c){n.loadingController.dismiss();let b="0"==c[0].o_nres?"alerta-error":"alerta-ok";n.globalVal.tipo=n.TipoBombaPivotSelectedText,yield(yield n.alertController.create({header:"ORDEN DE TRABAJO",subHeader:"DATOS GENERALES",cssClass:b,mode:"ios",animated:!0,message:c[0].o_msj,buttons:[{text:"Aceptar",handler:()=>{console.log("Operaci\xf3n confirmada")}}]})).present()});return function(c){return e.apply(this,arguments)}}()).finally(()=>{console.log("finally:::>>LN:394")}).catch(e=>{console.log("errror:::>>>>>>>>>",e)});else{for(let a in n.FormCheckListPaso1.controls)n.FormCheckListPaso1.controls[a].setValue(n.FormCheckListPaso1.controls[a].value),n.FormCheckListPaso1.controls[a].markAsTouched();n.alertSiNo=n.alertController.create({header:"ORDEN DE TRABAJO",subHeader:"GENERAL",mode:"ios",cssClass:"alerta-error",backdropDismiss:!0,message:"Falta seleccionar todos los datos",buttons:[{text:"Aceptar",role:"A",handler:()=>{}}]}).then(a=>{a.present(),a.onDidDismiss().then(e=>{})})}})()}SaveFormBorradorPaso1(){this.alertSiNo=this.alertController.create({header:"ORDEN DE TRABAJO",subHeader:"DATOS GENERALES",mode:"ios",cssClass:"alerta-ok",backdropDismiss:!0,message:"Confirmar que desea guardar?",buttons:[{text:"Aceptar",cssClass:"alert-button-group",role:"A",handler:()=>{}},{text:"Cancelar",role:"F",handler:()=>{}}]}).then(n=>{n.present(),n.onDidDismiss().then(a=>{"A"==a.role&&(this.loadingController.create({message:"Guardando datos generales...",translucent:!0}).then(c=>{c.present()}),this.id_orden_trab_cab=this.globalVal.id_orden_trab_cab,this.ApiService.GuardarFormPaso1(this.FormCheckListPaso1.value).then(c=>{this.loadingController.dismiss(),console.log(c),alert("Guardado correctamente-----.")}).finally(()=>{}).catch(c=>{console.log("errror:::>>>>>>>>>",c)}))})})}ionViewWillEnter(){let n;this.checklist_paso1_apli_ck="0"==this.globalVal.checklist_paso1_apli,this.FLoadForms(),n={detail:{checked:this.checklist_paso1_apli_ck,jc:0}}}ngOnInit(){}FSelectChangeTipoBomba(n,a){for(const e of this.DsTipoBomba)console.log(e.codigo,n.detail.value),e.codigo==n.detail.value&&(this.FormCheckListPaso1.controls.tipobomba_otc.setValue(e.codigo),this.TipoBombaPivotSelectedText=e.nombre)}FSelectChangeTipoMaterial(n,a){console.log("select_change_material::",this.DsMaterial);for(const e of this.DsMaterial)console.log(e.codigo,n.detail.value),e.codigo==n.detail.value&&(this.FormCheckListPaso1.controls.id_tipo_material_ot.setValue(e.codigo),this.MaterialPivotSelectedText=e.nombre)}FSelectChangeFrecuencia(n,a){console.log("select_change_material::",this.DsFrecuencia);for(const e of this.DsFrecuencia)console.log(e.codigo,n.detail.value),e.codigo==n.detail.value&&(this.FormCheckListPaso1.controls.idfrecuencia_ot.setValue(e.codigo),this.FrecuenciaPivotSelectedText=e.nombre)}FSelectChangeVelRot(n,a){console.log("select_change_material::",this.DsVelrot);for(const e of this.DsVelrot)console.log(e.codigo,n.detail.value),e.codigo==n.detail.value&&(this.FormCheckListPaso1.controls.idvelrot_ot.setValue(e.codigo),this.VelRotPivotSelectedText=e.nombre)}FSelectChangeMotor(n,a){for(const e of this.DsMotor)console.log(e.codigo,n.detail.value),e.codigo==n.detail.value&&(this.FormCheckListPaso1.controls.motor_ot.setValue(e.codigo),this.MotorPivotSelectedText=e.nombre)}FSelectChangeVoltaje(n,a){for(const e of this.DsVoltaje)console.log(e.nombre,n.detail.value),e.codigo==n.detail.value&&(this.FormCheckListPaso1.controls.voltaje_ot.setValue(e.nombre),this.VoltajePivotSelectedText=e.nombre)}FSelectChangePotencia(n,a){for(const e of this.DsTipoPotencia)e.codigo==n.detail.value&&(this.FormCheckListPaso1.controls.potencia.setValue(e.codigo),this.PotenciaPivotSelectedText=e.nombre)}FSelectChangeTipoEquipamiento(n,a){for(const e of this.DsTipoEquipamiento)e.codigo==n.detail.value&&(this.FormCheckListPaso1.controls.id_tipo_equipamiento_ot.setValue(e.codigo),this.TipoEquipamientoPivotSelectedText=e.nombre)}FSelectChangeEstandar(n,a){for(const e of this.DsEstandar)e.codigo==n.detail.value&&(this.FormCheckListPaso1.controls.id_estandar_ot.setValue(e.codigo),this.EstandarPivotSelectedText=e.nombre)}FSelectChangeTensionFuerza(n,a){for(const e of this.DsTensionFuerza)e.codigo==n.detail.value&&(this.FormCheckListPaso1.controls.id_tension_fuerza_ot.setValue(e.codigo),this.TensionFuerzaPivotSelectedText=e.nombre)}FSelectChangeTensionMando(n,a){for(const e of this.DsTensionMando)e.codigo==n.detail.value&&(this.FormCheckListPaso1.controls.id_tension_mando_ot.setValue(e.codigo),this.TensionMandoPivotSelectedText=e.nombre)}FSelectChangeDsProceso(n,a){for(const e of this.DsProceso)e.codigo==n.detail.value&&(this.FormCheckListPaso1.controls.id_proceso_ot.setValue(e.codigo),this.FormCheckListPaso1.controls.idtipo_otc.setValue("1"),this.TipoOtProcesoSelectedText=e.nombre)}FSelectChangeDsCausa(n,a){for(const e of this.DsCausa)e.codigo==n.detail.value&&(this.FormCheckListPaso1.controls.id_causa_ot.setValue(e.codigo),this.TipoOtCausaSelectedText=e.nombre)}FSelectChangeTipoOt(n,a){for(const e of this.DsTipoOt)e.codigo==n.detail.value&&(this.FormCheckListPaso1.controls.idtipo_otc.setValue(e.codigo),this.TipoOtPivotSelectedText=e.nombre)}DownloadOpenLocalPdf(){this.ApiService.LoadPdfOrdentrabajo(this.globalVal.id_orden_trab_cab).then(n=>{this.EditDataRest=n,console.log("this.Opciones1",this.EditDataRest);try{let a=T.N.UrlDomainLocal+"aw_file/"+this.EditDataRest.nomfile;console.log(a),u.A.open({url:a}),setTimeout(()=>{u.A.close()},5e3)}catch(a){console.log("error:::>",a)}}).finally(()=>{this.loadingController.dismiss()})}}return(i=s).\u0275fac=function(n){return new(n||i)(t.Y36(_.QS),t.Y36(P.SH),t.Y36(r.HT),t.Y36(D.k),t.Y36(E.K),t.Y36(r.Br),t.Y36(v.F0),t.Y36(M.X),t.Y36(t.sBO),t.Y36(r.BX))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-mtto-win-orden-trabajo1"]],standalone:!0,features:[t.jDz],decls:65,vars:25,consts:[["mode","ios"],["text-capitalize",""],[1,"ion-padding"],[3,"formGroup"],["f","ngForm"],["mode","ios",1,"ion-no-padding"],["color","primary"],["type","text","formControlName","corre_fisico"],["slot","end",3,"click"],["slot","start","name","cloud-download-sharp"],["type","text","maxlength","80","formControlName","Y06002"],["type","text","maxlength","80","formControlName","ot_fech_inicio_labor"],["type","text","maxlength","80","formControlName","dias_trabajados"],[4,"ngIf"],["style","color: var(--ion-color-danger);",4,"ngIf"],["position","floating"],["mode","ios","formControlName","ot_nota",3,"autoGrow","autofocus"],["color","primary",4,"ngIf"],["color","primary","expand","full",3,"click"],["cancelText","Cancelar","placeholder","Seleccionar Tipo Bomba","color","primary","interface","action-sheet","mode","ios",3,"selectedText","ionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[2,"color","var(--ion-color-danger)"],["cancelText","Cancelar","placeholder","Seleccionar Material","color","primary","interface","action-sheet","mode","ios",3,"selectedText","ionChange"],["cancelText","Cancelar","placeholder","Seleccionar Motor","color","primary","interface","action-sheet","mode","ios",3,"selectedText","ionChange"],["cancelText","Cancelar","formControlName","voltaje_ot","placeholder","Seleccionar Voltaje","color","primary","interface","action-sheet","mode","ios",3,"selectedText","ionChange"],["cancelText","Cancelar","formControlName","idfrecuencia_ot","placeholder","Seleccionar Frecuencia","color","primary","interface","action-sheet","mode","ios",3,"selectedText","ionChange"],["cancelText","Cancelar","formControlName","idvelrot_ot","placeholder","Seleccionar velocidad de rotacion","color","primary","interface","action-sheet","mode","ios",3,"selectedText","ionChange"],["cancelText","Cancelar","placeholder","Seleccionar Tipo de Potencia","color","primary","interface","action-sheet","mode","ios",3,"selectedText","ionChange"],["cancelText","Cancelar","placeholder","Seleccionar Tipo de Equipamiento","color","primary","interface","action-sheet","mode","ios",3,"selectedText","ionChange"],["cancelText","Cancelar","placeholder","Seleccionar Estandar","color","primary","interface","action-sheet","mode","ios",3,"selectedText","ionChange"],["cancelText","Cancelar","placeholder","Seleccionar Tension de Fuerza","color","primary","interface","action-sheet","mode","ios",3,"selectedText","ionChange"],["cancelText","Cancelar","placeholder","Seleccionar tension de mando","color","primary","interface","action-sheet","mode","ios",3,"selectedText","ionChange"],["type","text","maxlength","80","formControlName","ot_cod_reb_motor"],["cancelText","Cancelar","placeholder","Seleccionar Proceso","color","primary","interface","action-sheet","mode","ios",3,"selectedText","ionChange"],["cancelText","Cancelar","placeholder","Seleccionar Causa","color","primary","interface","action-sheet","mode","ios",3,"selectedText","ionChange"]],template:function(n,a){1&n&&(t.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-item")(3,"ion-title",1)(4,"ion-label"),t._uU(5,"DATOS GENERALES"),t.qZA()()()()(),t.TgZ(6,"ion-content",2)(7,"form",3,4)(9,"ion-list",5)(10,"ion-item-group")(11,"ion-item-divider",6)(12,"ion-label"),t._uU(13," General "),t.qZA()(),t.TgZ(14,"ion-item")(15,"ion-label")(16,"p"),t._uU(17,"Nro.Informe Tecnico"),t.qZA(),t._UZ(18,"ion-input",7),t.qZA(),t.TgZ(19,"ion-button",8),t.NdJ("click",function(){return a.DownloadOpenLocalPdf()}),t._UZ(20,"ion-icon",9),t._uU(21," PDF"),t.qZA()(),t.TgZ(22,"ion-item")(23,"ion-label")(24,"p"),t._uU(25,"PROCEDENCIA"),t.qZA(),t._UZ(26,"ion-input",10),t.qZA()(),t.TgZ(27,"ion-item")(28,"ion-label")(29,"p"),t._uU(30,"F.Creacion O.T."),t.qZA(),t._UZ(31,"ion-input",11),t.qZA()(),t.TgZ(32,"ion-item")(33,"ion-label")(34,"p"),t._uU(35,"Dias Operativos"),t.qZA(),t._UZ(36,"ion-input",12),t.qZA()(),t.YNc(37,O,6,2,"ion-item",13)(38,Z,2,0,"div",14)(39,R,6,2,"ion-item",13)(40,S,2,0,"div",14)(41,j,6,2,"ion-item",13)(42,J,6,2,"ion-item",13)(43,L,6,2,"ion-item",13)(44,W,6,2,"ion-item",13),t.TgZ(45,"ion-item")(46,"ion-label",15),t._uU(47," Observaciones: "),t.qZA(),t._UZ(48,"ion-textarea",16),t.qZA(),t.YNc(49,N,6,2,"ion-item",13)(50,k,2,0,"div",14)(51,B,6,2,"ion-item",13)(52,w,2,0,"div",14)(53,G,6,2,"ion-item",13)(54,K,2,0,"div",14)(55,H,6,2,"ion-item",13)(56,X,6,2,"ion-item",13)(57,tt,2,0,"ion-item-divider",17)(58,et,5,0,"ion-item",13)(59,ot,3,0,"ion-item-divider",17)(60,at,6,2,"ion-item",13)(61,st,6,2,"ion-item",13),t.qZA()()()(),t.TgZ(62,"ion-footer")(63,"ion-button",18),t.NdJ("click",function(){return a.mostrarConfirmacion()}),t._uU(64,"Guardar General"),t.qZA()()),2&n&&(t.xp6(7),t.Q6J("formGroup",a.FormCheckListPaso1),t.xp6(30),t.Q6J("ngIf",a.ItemVisibleMotor),t.xp6(1),t.Q6J("ngIf",a.FormCheckListPaso1.get("tipobomba_otc").hasError("valorNoValido")),t.xp6(1),t.Q6J("ngIf",a.ItemVisibleMotor),t.xp6(1),t.Q6J("ngIf",a.FormCheckListPaso1.get("id_tipo_material_ot").hasError("valorNoValido")),t.xp6(1),t.Q6J("ngIf",a.ItemVisibleBomba),t.xp6(1),t.Q6J("ngIf",a.ItemVisibleBomba),t.xp6(1),t.Q6J("ngIf",a.ItemVisibleBomba),t.xp6(1),t.Q6J("ngIf",a.ItemVisibleBomba),t.xp6(4),t.Q6J("autoGrow",!0)("autofocus",!0)("autoGrow",!0),t.xp6(1),t.Q6J("ngIf",a.ItemVisibleTablero),t.xp6(1),t.Q6J("ngIf",a.FormCheckListPaso1.get("potencia").hasError("valorNoValido")),t.xp6(1),t.Q6J("ngIf",a.ItemVisibleTablero),t.xp6(1),t.Q6J("ngIf",a.FormCheckListPaso1.get("id_tipo_equipamiento_ot").hasError("valorNoValido")),t.xp6(1),t.Q6J("ngIf",a.ItemVisibleTablero),t.xp6(1),t.Q6J("ngIf",a.FormCheckListPaso1.get("id_estandar_ot").hasError("valorNoValido")),t.xp6(1),t.Q6J("ngIf",a.ItemVisibleTablero),t.xp6(1),t.Q6J("ngIf",a.ItemVisibleTablero),t.xp6(1),t.Q6J("ngIf",a.ItemVisibleMotor),t.xp6(1),t.Q6J("ngIf",a.ItemVisibleMotor),t.xp6(1),t.Q6J("ngIf",a.ItemProCau),t.xp6(1),t.Q6J("ngIf",a.ItemPropro),t.xp6(1),t.Q6J("ngIf",a.ItemProCau))},dependencies:[r.Pc,r.YG,r.W2,r.fr,r.Gu,r.gu,r.pK,r.Ie,r.rH,r.Ub,r.Q$,r.q_,r.t9,r.n0,r.g2,r.wd,r.sr,r.QI,r.j9,h.ez,h.sg,h.O5,_.u5,_._Y,_.JJ,_.JL,_.nD,_.UX,_.sg,_.u],styles:["ion-alert.custom-alert[_ngcontent-%COMP%]{height:auto;--backdrop-opacity: .7}.custom-alert[_ngcontent-%COMP%]   .alert-button-group[_ngcontent-%COMP%]{padding:8px}button.alert-button.alert-button-confirm[_ngcontent-%COMP%]{background-color:var(--ion-color-success);color:var(--ion-color-success-contrast)}.md[_ngcontent-%COMP%]   button.alert-button.alert-button-confirm[_ngcontent-%COMP%]{border-radius:4px}.ios[_ngcontent-%COMP%]   .custom-alert[_ngcontent-%COMP%]   button.alert-button[_ngcontent-%COMP%]{border:.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0),.2)}.ios[_ngcontent-%COMP%]   button.alert-button.alert-button-cancel[_ngcontent-%COMP%]{border-right:0;border-bottom-left-radius:13px;border-top-left-radius:13px}.ios[_ngcontent-%COMP%]   button.alert-button.alert-button-confirm[_ngcontent-%COMP%]{border-bottom-right-radius:13px;border-top-right-radius:13px}"]}),s})()}}]);