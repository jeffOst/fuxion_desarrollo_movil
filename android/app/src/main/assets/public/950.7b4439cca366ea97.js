"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[950,6172,7152,7779,1902,6039,7016,8553,1490,5494,7007,5932,3475,3605,7756,6400,7969,6041,3541],{6172:(b,g,n)=>{n.d(g,{X:()=>p});var _=n(6242);let p=(()=>{var s;class i{constructor(){console.log("UserProfileService.Constructor invoked.")}}return(s=i).\u0275fac=function(T){return new(T||s)},s.\u0275prov=_.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),i})()},950:(b,g,n)=>{n.r(g),n.d(g,{MttoListOrdenTrabajoPage:()=>U});var _=n(5861),p=n(6814),s=n(95),i=n(6728),f=n(6471),T=n(3016),t=n(6242),A=n(5472),O=n(1991),M=n(2014),Z=n(6172);const E=["IdHtmlInputSearch"];function P(c,h){if(1&c){const r=t.EpF();t.TgZ(0,"ion-item",25),t.NdJ("click",function(){const a=t.CHM(r).$implicit,l=t.oxw();return t.KtG(l.FNuevaCheckList(a))}),t.TgZ(1,"ion-badge",26),t._uU(2),t.qZA(),t.TgZ(3,"ion-label",27)(4,"strong")(5,"div"),t._uU(6),t.qZA()(),t.TgZ(7,"p"),t._uU(8," Nro.O.T.:\xa0"),t.TgZ(9,"ion-text",28),t._uU(10),t.qZA(),t._uU(11," Procedencia:\xa0"),t.TgZ(12,"ion-text",29),t._uU(13),t.qZA(),t._uU(14," F.Creacion:\xa0"),t.TgZ(15,"ion-text",30),t._uU(16),t.qZA(),t._uU(17," Modelo:\xa0"),t.TgZ(18,"ion-text",31),t._uU(19),t.qZA(),t._uU(20,"\xa0 "),t.qZA()(),t.TgZ(21,"ion-badge",32),t._uU(22),t.qZA()()}if(2&c){const r=h.$implicit,o=t.oxw();t.xp6(1),t.s9C("color",r.color_rep_fab),t.xp6(1),t.Oqu(r.rep_fab),t.xp6(1),t.Q6J("hidden",o.scanActive),t.xp6(2),t.Jzz("color:",r.color_reproceso,";"),t.xp6(1),t.hij("",r.codsmg," "),t.xp6(4),t.hij("",r.id_orden_trab_fis_cab," \xa0"),t.xp6(3),t.hij("",r.Y06002," \xa0"),t.xp6(3),t.hij("",r.ot_fech_inicio_labor," \xa0"),t.xp6(3),t.Oqu(r.modelo),t.xp6(2),t.s9C("color",r.color_atendido),t.xp6(1),t.Oqu(r.ma00estado_nombre)}}let U=(()=>{var c;class h{constructor(o,e,a,l,C,d,m){this.navCtrl=o,this.loadingController=e,this.ApiService=a,this.storage=l,this.alertController=C,this.globalVal=d,this.modalCtrl=m,this.estaCargando=!1,this.scanActive=!0,this.disableButton=!0,this.searchTerm=""}ngOnInit(){let o;this.estaCargando=!0,this.storage.get("USER_INFO").then(e=>{o=e,this.NombresUsuarioLocal=o.user_name,this.IdUsuarioLocal=o.user_id,console.log(o)})}InputChange(o){console.log(o),console.log(o.inputType),this.disableButton=""===this.searchTerm.trim()||"deleteContentBackward"===o.inputType}FListaEquipos(o){this.searchTerm=o.target.value,console.log(o),console.log(o.inputType),this.disableButton=""===this.searchTerm.trim()||"deleteContentBackward"===o.inputType,this.searchTerm.trim().length>=6&&this.loadingController.create({message:"Cargando lista...",translucent:!0}).then(a=>{a.present(),this.ApiService.ListFindOts(this.NgModInputSearch,this.IdUsuarioLocal,"H",this.SelectFiltra,this.SelectFiltra2).then(l=>{this.DataSetGrid=l,this.loadingController.dismiss(),this.estaCargando=!1}).finally(()=>{this.loadingController.dismiss(),setTimeout(()=>{},600)}).catch(()=>{}).then(l=>{console.log("thennnnn",l),a.dismiss()})})}filtrar(o){this.SelectFiltra=o.detail.value}filtrar2(o){this.SelectFiltra2=o.detail.value}FListaEquiposAlterno(){this.loadingController.create({message:"Cargando lista...",translucent:!0}).then(e=>{e.present(),this.ApiService.ListFindOts(this.NgModInputSearch,this.IdUsuarioLocal,"H",this.SelectFiltra=this.SelectFiltra?this.SelectFiltra.toString():"",this.SelectFiltra2=this.SelectFiltra2?this.SelectFiltra2.toString():"").then(a=>{this.DataSetGrid=a,this.loadingController.dismiss(),this.estaCargando=!1}).finally(()=>{this.loadingController.dismiss(),setTimeout(()=>{},600)}).catch(()=>{}).then(a=>{console.log("thennnnn",a),console.log(this.SelectFiltra),e.dismiss()})})}FNuevaCheckList(o){let e={state:{Row:o}};console.log(e),this.globalVal.checklist_paso_pivot="",this.navCtrl.navigateForward(["/mtto-win-orden-trabajo"],e)}ionViewWillEnter(){let o;this.estaCargando=!0,this.storage.get("USER_INFO").then(e=>{o=e,this.NombresUsuarioLocal=o.user_name,this.IdUsuarioLocal=o.user_id,this.FListaEquiposAlterno()})}ngAfterContentChecked(){console.log("ngAfterContentChecked")}ngAfterViewInit(){console.log("ngAfterViewInit")}ngAfterViewChecked(){}FGenerarOtxProduccion(){let e={state:{Row:{familia:1,idusuario:this.IdUsuarioLocal}}};this.globalVal.checklist_paso_pivot="",this.navCtrl.navigateForward(["/mtto-otis-pop-up-equipo"],e)}FGenerarOtxTablero(){let e={state:{Row:{familia:2,idusuario:this.IdUsuarioLocal}}};this.globalVal.checklist_paso_pivot="",this.navCtrl.navigateForward(["/mtto-otis-pop-up-equipo"],e)}OpenModalEquipos(o){var e=this;return(0,_.Z)(function*(){let a;a="1"==o?{familia:1,idusuario:e.IdUsuarioLocal}:{familia:2,idusuario:e.IdUsuarioLocal};const l=yield e.modalCtrl.create({component:T.MttoOtisPopUpEquipoPage,backdropDismiss:!0,showBackdrop:!0,mode:"ios",componentProps:{Row:a}});return l.onDidDismiss().then(function(){var C=(0,_.Z)(function*(d){if(null!==d){let m;e.dataReturned=d.data,console.log("Modal Sent Data :",e.dataReturned),e.globalVal.checklist_paso_pivot="",m={idequipo:d.data.idequipo,familia:o,idusuario:e.IdUsuarioLocal,idofcab:d.data.idofcab},"0"!=d.data.idequipo&&(e.loadingController.create({message:"Guardando Paso 1...",translucent:!0}).then(u=>{u.present()}),yield e.ApiService.GuardarNuevoEquipo(m).then(function(){var u=(0,_.Z)(function*(v){e.loadingController.dismiss(),console.log(v),e.navCtrl.navigateForward(["/mtto-win-orden-trabajo"],{state:{Row:v.form[0]}})});return function(v){return u.apply(this,arguments)}}()).finally(()=>{console.log("finally:::>>LN:394")}).catch(u=>{console.log("errror:::>>>>>>>>>",u)}))}});return function(d){return C.apply(this,arguments)}}()),yield l.present()})()}}return(c=h).\u0275fac=function(o){return new(o||c)(t.Y36(A.SH),t.Y36(i.HT),t.Y36(O.k),t.Y36(M.K),t.Y36(i.Br),t.Y36(Z.X),t.Y36(i.IN))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-mtto-list-orden-trabajo"]],viewQuery:function(o,e){if(1&o&&t.Gf(E,5),2&o){let a;t.iGM(a=t.CRH())&&(e.IdHtmlInputSearch=a.first)}},standalone:!0,features:[t.jDz],decls:42,vars:5,consts:[[1,"ion-no-border"],[1,"ion-justify-content-start"],["size","10",1,"ion-align-self-start"],["titulo","Lista de Ordenes de Trabajo"],["size","2",1,"ion-align-self-end"],["position","fixed","color","secondary",1,"label-nameusuario"],["center",""],["label","Filtrar","placeholder","Registro",3,"multiple","ionChange"],["value","1"],["value","2"],["value","3"],["value","5"],["value","4"],["label","Estado","placeholder","Estado",3,"multiple","ionChange"],["mode","ios","animated","true","cancelButtonText","Cancelar","enterkeyhint","done","placeholder","Filtrar Parametros","color","secondary","search-icon","search-circle",3,"ngModel","ngModelChange"],["IdHtmlInputSearch",""],["slot","end","name","sync-outline",3,"click"],["idIconButtonSync",""],[3,"inset"],["button","","detail","true","detail-icon","caret-forward-outline","mode","ios",3,"click",4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed"],["color","primary","mode","ios","title","O.T. de Produccion",3,"click"],[1,"icon-bomba"],["color","primary","mode","ios","title","O.T. de Tablero",3,"click"],["name","today-sharp"],["button","","detail","true","detail-icon","caret-forward-outline","mode","ios",3,"click"],["slot","start",3,"color"],[3,"hidden"],["color","danger"],["color","secondary"],["color","success"],["color","primary"],["slot","end",3,"color"]],template:function(o,e){1&o&&(t.TgZ(0,"ion-toolbar",0)(1,"ion-grid")(2,"ion-row",1)(3,"ion-col",2),t._UZ(4,"app-header",3),t.qZA(),t.TgZ(5,"ion-col",4),t._UZ(6,"ion-label",5),t.qZA()()(),t.TgZ(7,"ion-item")(8,"ion-row",6)(9,"ion-col")(10,"ion-select",7),t.NdJ("ionChange",function(l){return e.filtrar(l)}),t.TgZ(11,"ion-select-option",8),t._uU(12,"RB"),t.qZA(),t.TgZ(13,"ion-select-option",9),t._uU(14,"FB"),t.qZA(),t.TgZ(15,"ion-select-option",10),t._uU(16,"RT"),t.qZA(),t.TgZ(17,"ion-select-option",11),t._uU(18,"FT"),t.qZA(),t.TgZ(19,"ion-select-option",12),t._uU(20,"RM"),t.qZA()()(),t.TgZ(21,"ion-col")(22,"ion-select",13),t.NdJ("ionChange",function(l){return e.filtrar2(l)}),t.TgZ(23,"ion-select-option",8),t._uU(24,"Borrador"),t.qZA(),t.TgZ(25,"ion-select-option",9),t._uU(26,"Pend. Aprob"),t.qZA(),t.TgZ(27,"ion-select-option",10),t._uU(28,"Aprob"),t.qZA()()()()(),t.TgZ(29,"ion-item")(30,"ion-searchbar",14,15),t.NdJ("ngModelChange",function(l){return e.NgModInputSearch=l}),t.qZA(),t.TgZ(32,"ion-icon",16,17),t.NdJ("click",function(){return e.FListaEquiposAlterno()}),t.qZA()()(),t.TgZ(34,"ion-content")(35,"ion-list",18),t.YNc(36,P,23,13,"ion-item",19),t.qZA(),t.TgZ(37,"ion-fab",20)(38,"ion-fab-button",21),t.NdJ("click",function(){return e.OpenModalEquipos("1")}),t._UZ(39,"ion-icon",22),t.qZA(),t.TgZ(40,"ion-fab-button",23),t.NdJ("click",function(){return e.OpenModalEquipos("2")}),t._UZ(41,"ion-icon",24),t.qZA()()()),2&o&&(t.xp6(10),t.Q6J("multiple",!0),t.xp6(12),t.Q6J("multiple",!0),t.xp6(8),t.Q6J("ngModel",e.NgModInputSearch),t.xp6(5),t.Q6J("inset",!0),t.xp6(1),t.Q6J("ngForOf",e.DataSetGrid))},dependencies:[i.Pc,i.yp,i.wI,i.W2,i.IJ,i.W4,i.jY,i.gu,i.Ie,i.Q$,i.q_,i.Nd,i.VI,i.t9,i.n0,i.yW,i.sr,i.QI,i.j9,p.ez,p.sg,s.u5,s.JJ,s.On,f.G]}),h})()}}]);