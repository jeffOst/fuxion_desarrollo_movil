"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4773],{4083:(u,l,i)=>{i.d(l,{Z:()=>e});const e=(0,i(2726).fo)("Network",{web:()=>i.e(516).then(i.bind(i,516)).then(n=>new n.NetworkWeb)})},4773:(u,l,i)=>{i.r(l),i.d(l,{LoginPage:()=>P});var g=i(6814),e=i(95),n=i(6728),d=i(4083),o=i(6242),h=i(2014),f=i(4248),p=i(1335);function _(r,c){if(1&r&&(o.TgZ(0,"ion-select-option",25),o._uU(1),o.qZA()),2&r){const s=c.$implicit;o.Q6J("value",s.Y06001),o.xp6(1),o.Oqu(s.Y06002)}}let P=(()=>{var r;class c{constructor(t,a,m,b,v,C){this.modalController=t,this.formBuilder=a,this.storage=m,this.router=b,this.logincustomService=v,this.loadingController=C,this.msjErrorBdForm="",this.tituloTollBar="",this.user=this.formBuilder.group({email:["",e.kI.required],password:["",e.kI.required],siteform:["000",e.kI.required],ip:["192.168.3.82/erpgeo_hidro",e.kI.required]})}ngOnInit(){d.Z&&d.Z.getStatus().then(t=>{this.networkStatus=t}),d.Z.addListener("networkStatusChange",t=>{this.networkStatus=t,this.tituloTollBar=this.networkStatus&&this.networkStatus.connected?"":"Sin conexion a internet"}),this.msjErrorBdForm="",this.load_sites()}ionViewWillEnter(){this.msjErrorBdForm="",this.storage.get("IP_MANUAL").then(t=>{console.log("ip manual guaddado en storage:>",t),t&&this.user.controls.ip.setValue(t.ip)})}load_sites(){console.log("load_sites()"),this.logincustomService.service_load_sites().then(t=>{this.sites=t}).finally(()=>{}).catch(t=>{console.log("err::service_load_sites::",t),this.sites=[{Y06001:"000",Y06002:"LIMA"}]})}showHideAutoLoader(){this.loadinProgress=this.loadingController.create({message:"Por favor espere..."}).then(t=>{t.present()})}hideLoader(){this.loadingController.dismiss().then(t=>{console.log("Loading dismissed!",t)}).catch(t=>{console.log("error",t)})}serviceLogin(){this.loadinProgress=this.loadingController.create({message:"Por favor espere..."}).then(t=>{t.present(),this.logincustomService.device_info().finally(()=>{const a=this.user.value;this.logincustomService.login(a.email,a.password,a.siteform,a.ip).then(m=>{this.hideLoader()}).finally(()=>{}).catch(m=>{})})}),setTimeout(()=>{console.log("timeee::::>"),console.log(this.logincustomService.msjErrorBd),this.msjErrorBdForm=this.logincustomService.msjErrorBd},1e3)}close(){this.modalController.dismiss()}login(){}}return(r=c).\u0275fac=function(t){return new(t||r)(o.Y36(n.IN),o.Y36(e.QS),o.Y36(h.K),o.Y36(f.F0),o.Y36(p.T),o.Y36(n.HT))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-login"]],standalone:!0,features:[o.jDz],decls:40,vars:6,consts:[["color",""],["text-capitalize","","color","danger","size","large"],["text-center","",1,""],["padding",""],[1,"color-change-5x"],[1,"ion_content",3,"formGroup","ngSubmit"],["src","assets/imgs/logo_geo.png",1,"bounce-in-top"],["mode","ios",1,"list_2"],["mode","ios"],["position","floating","mode","ios"],["formControlName","email","mode","ios","type","email","label-placement","floating","fill","outline"],["type","password","formControlName","password"],["position","stacked","mode","ios"],["formControlName","siteform","interface","action-sheet","mode","ios"],[3,"value",4,"ngFor","ngForOf"],["color","danger"],["expand","full","type","submit","shape","round",1,"button_login_color",3,"disabled"],[1,"ion-no-padding"],[1,"",3,"formGroup"],[1,"ion-justify-content-end"],["size","9","size-md","8","size-lg","10",1,"ion-no-padding"],["color","secondary",2,"font-size","xx-small"],["size","3","size-md","4","size-lg","2",1,"ion-no-padding"],["formControlName","ip","interface","action-sheet","mode","ios",2,"text-align","right","color","gray"],["value","fuxion.geohidraulica.com.pe"],[3,"value"]],template:function(t,a){1&t&&(o.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title",1),o._uU(3),o.qZA(),o.TgZ(4,"ion-title",2),o._uU(5,"Iniciar Session"),o.qZA()()(),o.TgZ(6,"ion-content",3),o._UZ(7,"div",4),o.TgZ(8,"form",5),o.NdJ("ngSubmit",function(){return a.serviceLogin()}),o._UZ(9,"img",6),o.TgZ(10,"ion-list",7)(11,"ion-item",8)(12,"ion-label",9),o._uU(13," Email"),o.qZA(),o._UZ(14,"ion-input",10),o.qZA(),o.TgZ(15,"ion-item")(16,"ion-label",9),o._uU(17," Clave"),o.qZA(),o._UZ(18,"ion-input",11),o.qZA(),o.TgZ(19,"ion-item")(20,"ion-label",12),o._uU(21," Site"),o.qZA(),o.TgZ(22,"ion-select",13),o.YNc(23,_,2,2,"ion-select-option",14),o.qZA()(),o.TgZ(24,"ion-item")(25,"ion-label",15),o._uU(26),o.qZA()(),o.TgZ(27,"ion-button",16),o._uU(28," Ingresar "),o.qZA()()()(),o.TgZ(29,"ion-footer",17)(30,"form",18)(31,"ion-grid",17)(32,"ion-row",19)(33,"ion-col",20)(34,"ion-label",21),o._uU(35,"v.1.0.10.74"),o.qZA()(),o.TgZ(36,"ion-col",22)(37,"ion-select",23)(38,"ion-select-option",24),o._uU(39,"fuxion.geohidraulica.com.pe"),o.qZA()()()()()()()),2&t&&(o.xp6(3),o.Oqu(a.tituloTollBar),o.xp6(5),o.Q6J("formGroup",a.user),o.xp6(15),o.Q6J("ngForOf",a.sites),o.xp6(3),o.hij(" ",a.msjErrorBdForm," "),o.xp6(1),o.Q6J("disabled",!a.user.valid),o.xp6(3),o.Q6J("formGroup",a.user))},dependencies:[n.Pc,n.YG,n.wI,n.W2,n.fr,n.jY,n.Gu,n.pK,n.Ie,n.Q$,n.q_,n.Nd,n.t9,n.n0,n.wd,n.sr,n.QI,n.j9,g.ez,g.sg,e.u5,e._Y,e.JJ,e.JL,e.UX,e.sg,e.u],styles:[".ion_content[_ngcontent-%COMP%]{place-items:center;width:100%;height:100%;margin-left:19%;margin-top:10%}.list_2[_ngcontent-%COMP%]{width:65%;padding:0;border-radius:20px;max-height:50%;min-height:65%;flex:auto;margin-top:0;margin-bottom:100}.bounce-in-top[_ngcontent-%COMP%]{flex:auto;margin-top:auto;width:65%;height:13%;animation:_ngcontent-%COMP%_bounce-in-top 1.1s both;border:.5px solid whitesmoke;border-radius:20px;padding:3px;max-height:50%;min-height:10%}img[_ngcontent-%COMP%]:hover{box-shadow:0 0 12px 15px #f47b38}@keyframes _ngcontent-%COMP%_bounce-in-top{0%{transform:translateY(-500px);animation-timing-function:ease-in;opacity:0}38%{transform:translateY(0);animation-timing-function:ease-out;opacity:1}55%{transform:translateY(-65px);animation-timing-function:ease-in}72%{transform:translateY(0);animation-timing-function:ease-out}81%{transform:translateY(-28px);animation-timing-function:ease-in}90%{transform:translateY(0);animation-timing-function:ease-out}95%{transform:translateY(-8px);animation-timing-function:ease-in}to{transform:translateY(0);animation-timing-function:ease-out}}.bg-pan-left[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;overflow:hidden;top:0;left:0;background-image:linear-gradient(270deg,#cc6aa5,#3e91cc,#2dcca7);background-size:600% 100%;animation:_ngcontent-%COMP%_bg-pan-left 8s both}@keyframes _ngcontent-%COMP%_bg-pan-left{0%{background-position:100% 50%}to{background-position:0% 50%}}.color-change-5x[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;overflow:hidden;top:0;left:0;animation:_ngcontent-%COMP%_color-change-5x 8s linear infinite alternate both}@keyframes _ngcontent-%COMP%_color-change-5x{0%{background:rgba(241,250,251,.7568627451)}25%{background:#f7f1f1}50%{background:#e0e0e0}75%{background:#fdf6f6}to{background:#f0f2ef}}.button_login_color[_ngcontent-%COMP%]{background:#f47b38!important;border-radius:20px}"]}),c})()}}]);