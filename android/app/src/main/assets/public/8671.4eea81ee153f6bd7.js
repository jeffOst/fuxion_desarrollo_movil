"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8671],{8671:(U,u,l)=>{l.r(u),l.d(u,{ProdAteServAsignaEstadoPage:()=>z});var h=l(5861),g=l(6814),p=l(95),e=l(6728),i=l(6242),v=l(4248),A=l(6485),P=l(2014),Z=l(5472);function f(s,r){1&s&&(i.TgZ(0,"ion-row")(1,"ion-col",16)(2,"ion-label",17),i._uU(3,"No Hay Hoja de Ruta asignada"),i.qZA()()())}function F(s,r){if(1&s){const a=i.EpF();i.TgZ(0,"ion-button",24),i.NdJ("click",function(){i.CHM(a);const t=i.oxw().$implicit,d=i.oxw();return i.KtG(d.FIniciarActvividad(t.idsubestacion_asof,t.descripcion_proceso_ofd,t.SEQMASERV,0))}),i.TgZ(1,"ion-text",11),i._uU(2,"\xa0INICIAR ACTIVIDAD \xa0"),i.qZA(),i._UZ(3,"ion-icon",12),i.qZA()}if(2&s){const a=i.oxw(2);i.xp6(3),i.Q6J("hidden",a.scanActive)}}function C(s,r){if(1&s&&(i.TgZ(0,"ion-row")(1,"ion-item",18)(2,"ion-col",19),i._uU(3),i.qZA(),i.TgZ(4,"ion-col",19),i._uU(5),i.qZA(),i.TgZ(6,"ion-col",20),i._uU(7),i.qZA(),i.TgZ(8,"ion-col",19),i._uU(9),i.qZA(),i.TgZ(10,"ion-col",21),i._uU(11),i.qZA(),i.TgZ(12,"ion-col",22),i._uU(13),i.qZA(),i.TgZ(14,"ion-col",19),i._uU(15),i.qZA(),i.YNc(16,F,4,1,"ion-button",23),i.qZA()()),2&s){const a=r.$implicit,o=i.oxw();i.xp6(3),i.hij("",a.secuencia_proc_of," "),i.xp6(2),i.Oqu(a.nombre_maquina),i.xp6(2),i.Oqu(a.descripcion_proceso_ofd),i.xp6(2),i.Oqu(a.cnt_plan),i.xp6(2),i.Oqu(a.nombre_estado),i.xp6(2),i.Oqu(a.cantidad_revisada),i.xp6(2),i.Oqu(a.cantidad_baja),i.xp6(1),i.Q6J("ngIf",a.nombre_maquina==o.FormHtmlJs.maquina&&"1"==a.flag_boton_secuencia&&"1"==a.flag_boton_cantidad)}}function T(s,r){if(1&s&&(i.TgZ(0,"ion-item")(1,"ion-row",25)(2,"ion-col",26),i._uU(3,"Actividad:"),i.qZA(),i.TgZ(4,"ion-col",27)(5,"div"),i._uU(6,"por Reproceso"),i.qZA()(),i.TgZ(7,"ion-col",26),i._uU(8," F. Revision: "),i.qZA(),i.TgZ(9,"ion-col",27)(10,"div"),i._uU(11),i.qZA()()()()),2&s){const a=i.oxw();i.xp6(5),i.Tol(a.CssReproceso),i.xp6(5),i.Tol(a.CssReproceso),i.xp6(1),i.Oqu(a.FormHtmlJs.fecha_reproceso)}}function E(s,r){if(1&s){const a=i.EpF();i.TgZ(0,"ion-item")(1,"ion-label")(2,"p"),i._uU(3,"Calidad"),i.qZA(),i.TgZ(4,"ion-row")(5,"ion-col",28)(6,"ion-button",29),i.NdJ("click",function(){i.CHM(a);const t=i.oxw();return i.KtG(t.FDejarCalidad())}),i.TgZ(7,"ion-text",30),i._uU(8," Dejar piezas en calidad "),i.qZA()()(),i.TgZ(9,"ion-col",31),i._UZ(10,"ion-icon",32),i.qZA()()()()}}function x(s,r){if(1&s&&(i.TgZ(0,"ion-item")(1,"ion-label"),i._uU(2," Historial Engregas Calidad "),i.TgZ(3,"ion-chip")(4,"ion-label",4),i._uU(5),i.qZA()()()()),2&s){const a=i.oxw();i.xp6(5),i.hij(" ",a.CantEntregasCalidad," ")}}function H(s,r){if(1&s){const a=i.EpF();i.TgZ(0,"ion-row")(1,"ion-item",36),i.NdJ("click",function(){const d=i.CHM(a).$implicit,_=i.oxw(2);return i.KtG(_.showDetailCalidad(d))}),i.TgZ(2,"ion-col",37),i._uU(3),i.qZA(),i.TgZ(4,"ion-col",38),i._uU(5),i.qZA(),i.TgZ(6,"ion-col",39),i._uU(7),i.qZA()()()}if(2&s){const a=r.$implicit;i.xp6(3),i.hij("",a.fch_solicitud_scc," "),i.xp6(2),i.Oqu(a.nombres_tecnico),i.xp6(2),i.Oqu(a.cantidad_scc)}}function J(s,r){1&s&&(i.TgZ(0,"ion-row")(1,"ion-col",16)(2,"ion-label",17),i._uU(3,"No Hay Piezas enviadas a Calidad"),i.qZA()()())}function q(s,r){if(1&s&&(i.TgZ(0,"ion-item")(1,"ion-grid")(2,"ion-row")(3,"ion-col",33),i._uU(4,"Fecha "),i.qZA(),i.TgZ(5,"ion-col",34),i._uU(6,"Responsable Registro"),i.qZA(),i.TgZ(7,"ion-col",35),i._uU(8,"Cantidad"),i.qZA()(),i.YNc(9,H,8,3,"ion-row",9)(10,J,4,0,"ion-row",8),i.qZA()()),2&s){const a=i.oxw();i.xp6(9),i.Q6J("ngForOf",a.DsGridSolicitudQc),i.xp6(1),i.Q6J("ngIf",0===a.DsGridSolicitudQc.length)}}let z=(()=>{var s;class r{constructor(o,t,d,_,c){let n;this.router=o,this.prodservice=t,this.storage=d,this.navCtrl=_,this.alertController=c,this.CantEntregasCalidad=0,this.CantItemsHojaRuta=0,this.DsGridHojaRuta=[],this.DsGridSolicitudQc=[],this.FlagCCalidad=!1,this.hide_div_reproceso=!1,this.Cancelar="Cancelar",this.disableButton=!0,this.scanActive=!0,this.FormHtmlJs={},this.navParams=this.router.getCurrentNavigation().extras.state,this.storage.get("USER_INFO").then(m=>{n=m,this.nombres_usuario_local=n.user_name,this.id_usuario_local=n.user_id,console.log(n),console.log(this.navParams),this.navParams&&(this.FormHtmlJs.maquina=this.navParams.maquina,this.FormHtmlJs.idofpterminado=this.navParams.idofpterminado,this.FormHtmlJs.EQUIPOID=this.navParams.EQUIPOID,this.FormHtmlJs.fasignado=this.navParams.fasignado,this.FormHtmlJs.avatar=this.navParams.avatar,this.FormHtmlJs.correorden=this.navParams.correorden,this.FormHtmlJs.Y04001=this.navParams.Y04001,this.FormHtmlJs.Y04002=this.navParams.Y04002,this.FormHtmlJs.descripcion_pt=this.navParams.descripcion_pt,this.FormHtmlJs.cantidad=this.navParams.cantidad,this.FormHtmlJs.idestado=this.navParams.idestado,this.IdCboEstadoActual=this.navParams.idestado,this.FormHtmlJs.nomclase=this.navParams.nomclase,this.FormHtmlJs.idasignaestacionof=this.navParams.idasignaestacionof,this.FormHtmlJs.cnt_29012_peso_ini=this.navParams.cnt_29012_peso_ini,this.FormHtmlJs.cnt_50000_peso_ini=this.navParams.cnt_50000_peso_ini,this.FormHtmlJs.cnt_metalizado_obs=this.navParams.cnt_metalizado_obs,this.FormHtmlJs.codigo_qr=this.navParams.codigo_qr,this.FormHtmlJs.codsmg=this.navParams.codsmg,this.FormHtmlJs.descrip=this.navParams.descrip,this.FormHtmlJs.idmaquina=this.navParams.idmaquina,this.FormHtmlJs.idordenfabricab=this.navParams.idordenfabricab,this.FormHtmlJs.idsubfamilia=this.navParams.idsubfamilia,this.FormHtmlJs.nomsubfam=this.navParams.nomsubfam,this.FormHtmlJs.proceso_metalizado=this.navParams.proceso_metalizado,this.FormHtmlJs.servicio_metalizado=this.navParams.servicio_metalizado,this.CssReproceso=1==this.navParams.flag_reproceso?"CssReproceso":"",this.hide_div_reproceso=1==this.navParams.flag_reproceso,this.FormHtmlJs.fecha_reproceso=this.navParams.fecha_reproceso,this.FormHtmlJs.cantidad_reproceso=this.navParams.cantidad_reproceso,this.FormHtmlJs.idrevisiondet_reproceso=this.navParams.idrevisiondet_reproceso,this.FormHtmlJs.codigo_pt=this.navParams.Y04001,this.FormHtmlJs.CONCOMPONENTE=this.navParams.CONCOMPONENTE,"O.F"==this.FormHtmlJs.avatar&&(this.FlagCCalidad=!0)),this.FormHtmlJs.nombres_tecnico=this.nombres_usuario_local,this.FormHtmlJs.idsolicitante_scc=this.id_usuario_local,this.FormHtmlJs.plano_diseno=this.navParams.plano_diseno,this.FormHtmlJs.cantidad_total=this.navParams.cantidad,this.FormHtmlJs.cantidad_revisada=this.navParams.cantidad_revisada,this.FormHtmlJs.cantidad_pendiente=this.navParams.cantidad_pendiente,console.log("this.FormHtmlJs",this.FormHtmlJs)}),this.storage.get("DEVICE_INFO").then(m=>{n=m,this.nombre_dispositivo=n.name,this.id_dispositivo=n.uuid,console.log("localStorage Device",n)})}FIniciarActvividad(o,t,d,_){var c=this;return(0,h.Z)(function*(){if(console.log("verificar el estado actual"),console.log(c.navParams.idestado),2!=c.navParams.idestado){console.log("recisar este console log"),console.log(c.FormHtmlJs);let n=c.FormHtmlJs;n.idsubestacion_asof=o,n.descripcion_proceso_hr=t,n.SEQMASERV=d,n.flag_mostrar_opciones=_,c.navCtrl.navigateForward(["addserviciostodet"],{state:n})}else yield(yield c.alertController.create({header:"Alerta",message:"Este registro se encuentra completado, no se puede iniciar otra actividad. (Se debe volver a asignar la Actividad.)",buttons:["Aceptar"]})).present()})()}cancelar_ejecucion(){this.navCtrl.navigateForward("prod-list-acti-programada")}CboEstadoChange(o){console.log("CboEstadoChange",o),console.log(o.detail),console.log(o.detail.value),this.IdCboEstadoActual=o.detail.value,this.prodservice.FUpdateEstadoServicio(this.FormHtmlJs.idofpterminado,o.detail.value,this.id_usuario_local,this.id_dispositivo,this.FormHtmlJs.avatar,this.FormHtmlJs.idasignaestacionof).then(t=>{this.ResptApi=t,console.log(this.ResptApi)}).finally(()=>{setTimeout(()=>{},600)})}CboEstadoCancel(o){console.log("CboEstadoCancel",o)}CboEstadoBlur(o){console.log("CboEstadoBlur",o)}ngOnInit(){}ionViewDidEnter(){this.prodservice.ListFindSolicitudQcByOf("",this.FormHtmlJs.idofpterminado,this.id_usuario_local,this.id_dispositivo).then(o=>{console.log(o),this.DsGridSolicitudQc=o,this.CantEntregasCalidad=this.DsGridSolicitudQc.length}).finally(()=>{}),this.prodservice.ListFindHojaRuta("",this.FormHtmlJs.idofpterminado,this.id_usuario_local,this.id_dispositivo).then(o=>{console.log(o),this.DsGridHojaRuta=o,this.CantItemsHojaRuta=this.DsGridHojaRuta.length}).finally(()=>{})}FDejarCalidad(){this.navCtrl.navigateForward(["prod-ate-serv-dejar-pieza-calidad"],{state:this.FormHtmlJs})}showDetailCalidad(o){this.navCtrl.navigateForward(["prod-ate-serv-view-dejar-pieza-calidad"],{state:o})}cboEstadoSelect(){}visualizar_pdf(o){this.navCtrl.navigateForward("pdf-viewer",{queryParams:{valor:o,flaglistaprod:1}})}}return(s=r).\u0275fac=function(o){return new(o||s)(i.Y36(v.F0),i.Y36(A.Z),i.Y36(P.K),i.Y36(Z.SH),i.Y36(e.Br))},s.\u0275cmp=i.Xpm({type:s,selectors:[["app-prod-ate-serv-asigna-estado"]],standalone:!0,features:[i.jDz],decls:75,vars:15,consts:[["mode","ios"],["text-capitalize",""],["slot","start"],["defaultHref","prod-list-acti-programada",3,"text"],["color","secondary"],["size-sm","1","size-md","1","size-xl","1",1,"headgrid"],["size-sm","2","size-md","2","size-xl","2",1,"headgrid"],["size-sm","1.5","size-md","1.5","size-xl","1.5",1,"headgrid"],[4,"ngIf"],[4,"ngFor","ngForOf"],["expand","block","color","white","size","small","slot","end","title","Iniciar Actividad",3,"click"],["color","danger"],["expand","block","color","dark","size","small","name","play-forward",3,"hidden"],[3,"value"],["size","default",3,"click"],["slot","start","name","star"],["size","12",1,"ion-text-center"],[1,"texto-rojo"],["mode","ios","button","",2,"width","100% !important"],["size-sm","1","size-md","1","size-xl","1"],["size-sm","2.2","size-md","2.2","size-xl","2.2"],["size-sm","2","size-md","2","size-xl","2"],["size-sm","1.5","size-md","1.5","size-xl","1.5"],["color","warning","size","small",3,"click",4,"ngIf"],["color","warning","size","small",3,"click"],[1,"ion-text-left",2,"width","100%"],["size","3",1,"ion-text-right"],["size","3",1,"ion-text-left"],["size","10"],["expand","full","color","white","title","Dejar en Calidad",2,"background-color","transparent !important",3,"click"],["color","dark"],["size","2"],["color","dark","size","small","name","cart"],["size-sm","4","size-md","4","size-xl","4",1,"headgrid"],["size-sm","5","size-md","5","size-xl","5",1,"headgrid"],["size-sm","3","size-md","3","size-xl","3",1,"headgrid"],["mode","ios","button","",2,"width","100% !important",3,"click"],["size-sm","4","size-md","4","size-xl","4"],["size-sm","5","size-md","5","size-xl","5"],["size-sm","3","size-md","3","size-xl","3"]],template:function(o,t){1&o&&(i.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title",1),i._uU(3,"Asignar Estado"),i.qZA(),i.TgZ(4,"ion-buttons",2),i._UZ(5,"ion-back-button",3),i.qZA()()(),i.TgZ(6,"ion-content")(7,"ion-list")(8,"ion-item")(9,"ion-label"),i._uU(10," Hoja de Ruta "),i.TgZ(11,"ion-chip")(12,"ion-label",4),i._uU(13),i.qZA()()()(),i.TgZ(14,"ion-item")(15,"ion-grid")(16,"ion-row")(17,"ion-col",5),i._uU(18,"Secuencia "),i.qZA(),i.TgZ(19,"ion-col",5),i._uU(20,"Maquina"),i.qZA(),i.TgZ(21,"ion-col",6),i._uU(22,"Descripcion"),i.qZA(),i.TgZ(23,"ion-col",5),i._uU(24,"Cant Piezas"),i.qZA(),i.TgZ(25,"ion-col",6),i._uU(26,"Estado"),i.qZA(),i.TgZ(27,"ion-col",7),i._uU(28,"Piezas Completadas"),i.qZA(),i.TgZ(29,"ion-col",5),i._uU(30,"De Baja"),i.qZA(),i.TgZ(31,"ion-col",6),i._uU(32,"Acciones"),i.qZA()(),i.YNc(33,f,4,0,"ion-row",8)(34,C,17,8,"ion-row",9),i.qZA()(),i.TgZ(35,"ion-item")(36,"ion-label")(37,"p"),i._uU(38,"Maquina"),i.qZA(),i.TgZ(39,"h1"),i._uU(40),i.qZA()(),i.TgZ(41,"ion-button",10),i.NdJ("click",function(){return t.FIniciarActvividad(0,0,0,0)}),i.TgZ(42,"ion-text",11),i._uU(43,"\xa0Iniciar Actividad \xa0"),i.qZA(),i._UZ(44,"ion-icon",12),i.qZA()(),i.YNc(45,T,12,7,"ion-item",8),i.TgZ(46,"ion-item")(47,"ion-label")(48,"p"),i._uU(49,"Centro de Costos"),i.qZA(),i.TgZ(50,"h1"),i._uU(51),i.qZA()()(),i.TgZ(52,"ion-item")(53,"ion-label")(54,"p"),i._uU(55,"F. Asignado"),i.qZA(),i.TgZ(56,"h1"),i._uU(57),i.qZA()()(),i.TgZ(58,"ion-item")(59,"ion-label")(60,"p"),i._uU(61),i.qZA(),i.TgZ(62,"h1"),i._uU(63),i.qZA()()(),i.TgZ(64,"ion-item")(65,"ion-label")(66,"p"),i._uU(67,"Cod. P.T."),i.qZA(),i._UZ(68,"input",13),i.TgZ(69,"ion-button",14),i.NdJ("click",function(){return t.visualizar_pdf(t.FormHtmlJs.plano_diseno)}),i._UZ(70,"ion-icon",15),i._uU(71," Ver Plano "),i.qZA()()(),i.YNc(72,E,11,0,"ion-item",8)(73,x,6,1,"ion-item",8)(74,q,11,2,"ion-item",8),i.qZA()()),2&o&&(i.xp6(5),i.Q6J("text",t.Cancelar),i.xp6(8),i.hij(" ",t.CantItemsHojaRuta," "),i.xp6(20),i.Q6J("ngIf",0===t.DsGridHojaRuta.length),i.xp6(1),i.Q6J("ngForOf",t.DsGridHojaRuta),i.xp6(6),i.Oqu(t.FormHtmlJs.maquina),i.xp6(4),i.Q6J("hidden",t.scanActive),i.xp6(1),i.Q6J("ngIf",t.hide_div_reproceso),i.xp6(6),i.Oqu(t.FormHtmlJs.EQUIPOID),i.xp6(6),i.Oqu(t.FormHtmlJs.fasignado),i.xp6(4),i.hij("Nro. ",t.FormHtmlJs.avatar,""),i.xp6(2),i.Oqu(t.FormHtmlJs.correorden),i.xp6(5),i.s9C("value",t.FormHtmlJs.Y04001),i.xp6(4),i.Q6J("ngIf",t.FlagCCalidad),i.xp6(1),i.Q6J("ngIf",t.FlagCCalidad),i.xp6(1),i.Q6J("ngIf",t.FlagCCalidad))},dependencies:[e.Pc,e.YG,e.Sm,e.hM,e.wI,e.W2,e.jY,e.Gu,e.gu,e.Ie,e.Q$,e.q_,e.Nd,e.yW,e.wd,e.sr,e.oU,g.ez,g.sg,g.O5,p.u5],styles:['@charset "UTF-8";.selector[_ngcontent-%COMP%]{font-family:SFNSDisplay;font-size:12px;line-height:1.2;letter-spacing:.1px;color:#29235e;width:100%!important;max-width:100%!important;justify-content:center;border:solid 2px #e8ebf0;background-color:#fff;text-align:center}.CssReproceso[_ngcontent-%COMP%]{color:#b52024!important;font-size:large}.texto-rojo[_ngcontent-%COMP%]{color:red;font-weight:700}']}),r})()}}]);