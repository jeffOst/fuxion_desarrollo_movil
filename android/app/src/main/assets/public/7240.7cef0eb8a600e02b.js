"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7240],{7240:(w,p,a)=>{a.r(p),a.d(p,{MttoChecklistWinMontajePage:()=>v});var c=a(6814),u=a(95),s=a(6728),_=a(4874),h=a(4083),t=a(6242),m=a(5472),d=a(4248),C=a(6172);const f=(n,r,o,e)=>({top:n,left:r,width:o,height:e}),E=n=>({width:"100%",height:"100%",border:n}),x=()=>({position:"absolute",top:"10px",left:"10px","background-color":"rgba(255, 255, 255, 0.8)",color:"black",padding:"5px","border-radius":"3px","font-size":"14px","font-weight":"bold"}),M=()=>({position:"absolute",top:"10px",right:"10px",color:"green","font-size":"30px"});function P(n,r){if(1&n){const o=t.EpF();t.TgZ(0,"div",7)(1,"img",8),t.NdJ("click",function(){const l=t.CHM(o).$implicit,g=t.oxw();return t.KtG(g.onImageClick(l.id))}),t.qZA(),t.TgZ(2,"div",7),t._uU(3),t.qZA(),t._UZ(4,"ion-icon",9),t.qZA()}if(2&n){const o=r.$implicit,e=t.oxw();t.Udp("position","absolute"),t.Q6J("ngStyle",t.l5B(9,f,o.top+"px",o.left+"px",o.width+"px",o.height+"px")),t.xp6(1),t.Q6J("src",o.src,t.LSH)("ngStyle",t.VKq(14,E,"2px solid "+e.generateRandomColor())),t.xp6(1),t.Q6J("ngStyle",t.DdM(16,x)),t.xp6(1),t.AsE(" ",o.id," - ",o.filename," "),t.xp6(1),t.Q6J("ngStyle",t.DdM(17,M))}}let v=(()=>{var n;class r{constructor(e,i,l,g,T){this.navCtrl=e,this.router=i,this.route=l,this.globalVal=g,this.loadingController=T,this.tituloTollBar="Chekclist Montaje",this.Cancelar="Cancelar",this.disableButton=!1,this.zoom=1,this.recortes=[],this.images=[],this.navParams=this.router.getCurrentNavigation().extras.state,this.flagResumenDiario="0",this.navParams&&(this.DsviewPDF={},this.idTargetMenu=this.navParams.idTargetMenu,this.DsviewPDF.EQUIPOID="Repuestos"),console.log("extras del eextra",this.router.getCurrentNavigation().extras.state)}ngOnInit(){h.Z&&h.Z.getStatus().then(e=>{this.networkStatus=e}),h.Z.addListener("networkStatusChange",e=>{this.networkStatus=e,this.tituloTollBar=this.networkStatus&&this.networkStatus.connected?"CheckList de Montaje de Bomba":"Sin conexion a internet"}),this.loadImages()}generateRandomColor(){let i="#";for(let l=0;l<6;l++)i+="0123456789ABCDEF"[Math.floor(16*Math.random())];return i}loadImages(){this.images=[{id:4,src:"https://fuxion.geohidraulica.com.pe/aw_images/CHECKLIST/CUBIERTAE.png",top:480,left:250,width:500,height:400},{id:1,src:"https://fuxion.geohidraulica.com.pe/aw_images/CHECKLIST/CABLEADO.png",top:300,left:30,width:160,height:300},{id:3,src:"https://fuxion.geohidraulica.com.pe/aw_images/CHECKLIST/CUBIERTAP.png",top:50,left:250,width:250,height:500},{id:2,src:"https://fuxion.geohidraulica.com.pe/aw_images/CHECKLIST/CUBIERTA.png",top:120,left:30,width:260,height:140},{id:5,src:"https://fuxion.geohidraulica.com.pe/aw_images/CHECKLIST/EJE.png",top:10,left:510,width:200,height:240},{id:6,src:"https://fuxion.geohidraulica.com.pe/aw_images/CHECKLIST/SELLO.png",top:250,left:510,width:190,height:240}].map(i=>({...i,filename:this.extractFilename(i.src)}))}extractFilename(e){const i=e.split("/");return i[i.length-1].split("%20").join(" ").split(".").slice(0,-1).join(".")}onImageClick(e){console.log(`Imagen seleccionada con ID: ${e}`),this.FNuevaCheckList({imageId:e})}FNuevaCheckList(e){let i={state:{Row:e}};console.log(i),this.globalVal.checklist_paso_pivot="",this.navCtrl.navigateForward(["/mtto-checklist-win-montaje1"],i)}}return(n=r).\u0275fac=function(e){return new(e||n)(t.Y36(m.SH),t.Y36(d.F0),t.Y36(d.gz),t.Y36(C.X),t.Y36(s.HT))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-mtto-checklist-win-montaje"]],standalone:!0,features:[t.jDz],decls:9,vars:18,consts:[[3,"translucent"],["mode","ios",3,"color"],["text-capitalize",""],["slot","start"],["defaultHref","mtto-checklist-list-montaje",3,"text","disabled"],[1,"ion-text-center"],[3,"position","ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[3,"src","ngStyle","click"],["name","checkmark-circle",3,"ngStyle"]],template:function(e,i){1&e&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title",2),t._uU(3),t.qZA(),t.TgZ(4,"ion-buttons",3),t._UZ(5,"ion-back-button",4),t.qZA()()(),t.TgZ(6,"ion-content")(7,"div",5),t.YNc(8,P,5,18,"div",6),t.qZA()()),2&e&&(t.Q6J("translucent",!0),t.xp6(1),t.Q6J("color",i.networkStatus&&i.networkStatus.connected?"primary":"danger"),t.xp6(2),t.hij("",i.tituloTollBar," "),t.xp6(2),t.Q6J("text",i.Cancelar)("disabled",i.disableButton),t.xp6(1),t.Udp("background-color","white"),t.xp6(1),t.Udp("background-color","white")("display","flex")("justify-content","center")("align-items","center")("height","100vh"),t.xp6(1),t.Q6J("ngForOf",i.images))},dependencies:[s.Pc,s.Sm,s.W2,s.Gu,s.gu,s.wd,s.sr,s.oU,c.ez,c.sg,c.PC,u.u5,_.xC],styles:['@charset "UTF-8";.image-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.positioned-image[_ngcontent-%COMP%]{position:absolute}']}),r})()}}]);