"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6658],{4160:(E,m,u)=>{u.d(m,{J:()=>A});var h=u(5861),g=u(2519),d=u(6242),C=u(9862),t=u(2014);let A=(()=>{var _;class f{constructor(e,i){this.httpClient=e,this.storage=i,this.urlApiProd=g.N.UrlDomainLocal+"aw_modulos/mante/api/CApiInformeTecnico.php",this.urlApiInf=g.N.UrlDomainLocal+"aw_modulos/mante/api/CApiInformeTablero.php",this.confirmRequest=""}ListFindOts(e,i,n){let o=JSON.stringify({acc:1,s:e,idusu:i,iddevice:n});return this.httpClient.post(this.urlApiProd,o).toPromise().then(r=>r)}SaveCheckListCab(e,i,n){let o=JSON.stringify({acc:2,id_orden_trab_cab:e,idusu:i,iddevice:n});return this.httpClient.post(this.urlApiProd,o).toPromise().then(r=>r)}FormFindPaso1(e,i,n){let o=JSON.stringify({acc:3,idchecklistcab:e,idusu:i,iddevice:n});return this.httpClient.post(this.urlApiProd,o).toPromise().then(r=>r)}FLoadPiezasAcordion(e,i,n){let o=JSON.stringify({acc:7,id:e,p2:i,cod_inf:n});return this.httpClient.post(this.urlApiProd,o).toPromise().then(r=>r)}FLoadServiciosxPiezas(e,i){let n=JSON.stringify({acc:8,id:e,p2:i});return this.httpClient.post(this.urlApiProd,n).toPromise().then(o=>o)}GuardarFormPaso1(e){var i=this;return(0,h.Z)(function*(){console.log("Dentro::GuardarFormulario::>",e);let o=i.urlApiProd,r=JSON.stringify(e);return i.httpClient.post(o+"?acc=4",r).toPromise()})()}GuardarinfPaso1(e){var i=this;return(0,h.Z)(function*(){console.log("Dentro::GuardarFormulario::>",e);let o=i.urlApiInf,r=JSON.stringify(e);return i.httpClient.post(o+"?acc=2",r).toPromise()})()}GuardarinfPaso2(e){var i=this;return(0,h.Z)(function*(){console.log("Dentro::GuardarFormulario::>",e);let o=i.urlApiInf,r=JSON.stringify(e);return i.httpClient.post(o+"?acc=3",r).toPromise()})()}GuardarinfPaso3(e){var i=this;return(0,h.Z)(function*(){console.log("Dentro::GuardarFormulario::>",e);let o=i.urlApiInf,r=JSON.stringify(e);return i.httpClient.post(o+"?acc=4",r).toPromise()})()}GuardarinfPaso4(e){var i=this;return(0,h.Z)(function*(){console.log("Dentro::GuardarFormulario::>",e);let o=i.urlApiInf,r=JSON.stringify(e);return i.httpClient.post(o+"?acc=5",r).toPromise()})()}GuardarinfPaso5(e){var i=this;return(0,h.Z)(function*(){let o=i.urlApiInf,r=JSON.stringify(e);return console.log("datos enviados",r),i.httpClient.post(o+"?acc=6",r).toPromise()})()}GuardarFormPaso2(e,i,n,o,r,l,a){var s=this;return(0,h.Z)(function*(){let c,v=s.urlApiProd,O=JSON.stringify({idservicio:e,idpapa:i,idhijo:n,idusuario:o,acc:9,idclase:r,ck:l,cod_material:a});return s.httpClient.post(v+"?acc=6",O).toPromise().then(P=>{console.log(P),c=P,s.confirmSaveBd=c[0].o_nres,s.confirmRequest=c},P=>{console.log(P,"Error- something is wrong!")})})()}FormFindPaso3(e,i,n){let o=JSON.stringify({acc:7,idchecklistcab:e,idusu:i,iddevice:n});return this.httpClient.post(this.urlApiProd,o).toPromise().then(r=>r)}GuardarFormPaso3(e){var i=this;return(0,h.Z)(function*(){let n,o=i.urlApiProd,r=JSON.stringify(e);return i.httpClient.post(o+"?acc=8",r).toPromise().then(l=>{console.log(l),n=l,i.confirmSaveBd=n[0].o_nres,i.confirmRequest=n},l=>{console.log(l,"Error- something is wrong!")})})()}FormFindPaso5(e,i,n){let o=JSON.stringify({acc:10,id:e,idusu:i,iddevice:n});return this.httpClient.post(this.urlApiProd,o).toPromise().then(r=>r)}GuardarFormPaso5(e){var i=this;return(0,h.Z)(function*(){let o=i.urlApiProd,r=JSON.stringify(e);return i.httpClient.post(o+"?acc=11",r).toPromise()})()}FormFindPaso6(e,i,n){let o=JSON.stringify({acc:12,idchecklistcab:e,idusu:i,iddevice:n});return this.httpClient.post(this.urlApiProd,o).toPromise().then(r=>r)}GuardarFormPaso6(e){var i=this;return(0,h.Z)(function*(){let o=i.urlApiProd,r=JSON.stringify(e);return i.httpClient.post(o+"?acc=13",r).toPromise()})()}GuardarAplicaPaso(e,i,n){var o=this;return(0,h.Z)(function*(){let r,a,l=o.urlApiProd;a={idchecklistcab:e,numeroPaso:i,ck:n};let s=JSON.stringify(a);return o.httpClient.post(l+"?acc=15",s).toPromise().then(c=>{console.log(c),r=c,o.confirmSaveBd=r[0].o_nres,o.confirmRequest=r},c=>{console.log(c,"Error- something is wrong!")})})()}getImages(e){return this.httpClient.get(`${this.urlApiProd}?acc=5&id=`+e)}uploadImage(e,i,n){let o=new FormData;return o.append("file",e,"myimage."+n),o.append("id",i),o.append("acc","6"),o.append("type","image/png"),this.httpClient.post(this.urlApiProd,o)}UpLoadImageMultiple(e,i,n){try{let o=new FormData;o.append("id",i),o.append("acc","15"),o.append("type","image/png");for(let r=0;r<e.length;r++)console.log("image::ruta=>::>",e[r]),o.append("images[]",e[r],`image_${r}.jpg`);return this.httpClient.post(this.urlApiProd,o)}catch(o){console.error("Error al enviar im\xe1genes al API:",o)}}LoadPdfInformeTecnico(e){let i=JSON.stringify({acc:14,idchecklistcab:e});return this.httpClient.post(this.urlApiProd,i).toPromise().then(n=>n)}deleteImage(e){return this.httpClient.delete(`${this.urlApiProd}?acc=16&id=${e}`)}}return(_=f).\u0275fac=function(e){return new(e||_)(d.LFG(C.eN),d.LFG(t.K))},_.\u0275prov=d.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),f})()},6658:(E,m,u)=>{u.r(m),u.d(m,{MttoListInformeTecnicoPage:()=>n});var h=u(6814),g=u(95),d=u(6728),C=u(6471),t=u(6242),A=u(5472),_=u(4160),f=u(2014),I=u(6172);const e=["IdHtmlInputSearch"];function i(o,r){if(1&o){const l=t.EpF();t.TgZ(0,"ion-item",11)(1,"ion-item",12),t.NdJ("click",function(){const c=t.CHM(l).$implicit,p=t.oxw();return t.KtG(p.FNuevaCheckList(c))}),t.TgZ(2,"ion-label",13)(3,"strong")(4,"div"),t._uU(5),t.qZA()(),t.TgZ(6,"p"),t._uU(7," Nro.Informe Tecnico:\xa0"),t.TgZ(8,"ion-text",14),t._uU(9),t.qZA(),t._uU(10," Procedencia:\xa0"),t.TgZ(11,"ion-text",15),t._uU(12),t.qZA(),t._uU(13," F.Creacion:\xa0"),t.TgZ(14,"ion-text",16),t._uU(15),t.qZA(),t._uU(16," Modelo:\xa0"),t.TgZ(17,"ion-text",17),t._uU(18),t.qZA(),t._uU(19,"\xa0 "),t.qZA()(),t.TgZ(20,"ion-badge",18),t._uU(21),t.qZA()()()}if(2&o){const l=r.$implicit,a=t.oxw();t.xp6(2),t.Q6J("hidden",a.scanActive),t.xp6(2),t.Jzz("color:",l.color_reproceso,";"),t.xp6(1),t.hij("",l.codsmg," "),t.xp6(4),t.hij("",l.corre_fisico," \xa0"),t.xp6(3),t.hij("",l.Y06002," \xa0"),t.xp6(3),t.hij("",l.fech_de_registro," \xa0"),t.xp6(3),t.Oqu(l.equipo_model),t.xp6(2),t.s9C("color",l.color_atendido),t.xp6(1),t.Oqu(l.ma00estado_nombre)}}let n=(()=>{var o;class r{constructor(a,s,c,p,v,O){this.navCtrl=a,this.loadingController=s,this.ApiService=c,this.storage=p,this.alertController=v,this.globalVal=O,this.estaCargando=!1,this.scanActive=!0}ngOnInit(){let a;console.log("ngOnInit"),this.estaCargando=!0,this.storage.get("USER_INFO").then(s=>{a=s,this.NombresUsuarioLocal=a.user_name,this.IdUsuarioLocal=a.user_id,console.log(a),this.FListaEquipos()})}FListaEquipos(){this.loadingController.create({message:"Cargando lista::::...",translucent:!0}).then(s=>{s.present(),this.ApiService.ListFindOts(this.NgModInputSearch,this.IdUsuarioLocal,"H").then(c=>{this.DataSetGrid=c,this.loadingController.dismiss(),this.estaCargando=!1}).finally(()=>{this.loadingController.dismiss(),setTimeout(()=>{},600)}).catch(()=>{}).then(c=>{console.log("thennnnn",c),s.dismiss()})})}FNuevaCheckList(a){let s={state:{Row:a}};console.log(a.tipoinf_ic),this.globalVal.checklist_paso_pivot="",1==a.tipoinf_ic?this.navCtrl.navigateForward(["/mtto-win-informe-tecnico"],s):3==a.tipoinf_ic&&this.navCtrl.navigateForward(["/mtto-informe-tablero/page1"],s)}ionViewWillEnter(){let a;this.estaCargando=!0,this.storage.get("USER_INFO").then(s=>{a=s,this.NombresUsuarioLocal=a.user_name,this.IdUsuarioLocal=a.user_id,console.log(a),0==this.estaCargando&&this.FListaEquipos()})}ngAfterContentChecked(){console.log("ngAfterContentChecked")}ngAfterViewInit(){console.log("ngAfterViewInit")}ngAfterViewChecked(){}}return(o=r).\u0275fac=function(a){return new(a||o)(t.Y36(A.SH),t.Y36(d.HT),t.Y36(_.J),t.Y36(f.K),t.Y36(d.Br),t.Y36(I.X))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-mtto-list-informe-tecnico"]],viewQuery:function(a,s){if(1&a&&t.Gf(e,5),2&a){let c;t.iGM(c=t.CRH())&&(s.IdHtmlInputSearch=c.first)}},standalone:!0,features:[t.jDz],decls:14,vars:2,consts:[[1,"ion-no-border"],[1,"ion-justify-content-start"],["size","10",1,"ion-align-self-start"],["titulo","Lista de Informe Tecnico"],["size","2",1,"ion-align-self-end"],["position","fixed","color","secondary",1,"label-nameusuario"],["mode","ios","debounce","1700","cancelButtonText","Cancelar","enterkeyhint","done","placeholder","Filtrar Parametros",3,"ngModel","ngModelChange","ionChange"],["IdHtmlInputSearch",""],["slot","end","name","sync-outline",3,"click"],["idIconButtonSync",""],["mode","ios",4,"ngFor","ngForOf"],["mode","ios"],["button","","detail","true","detail-icon","caret-forward-outline","mode","ios",2,"width","100%",3,"click"],[3,"hidden"],["color","danger"],["color","secondary"],["color","success"],["color","primary"],["slot","end",3,"color"]],template:function(a,s){1&a&&(t.TgZ(0,"ion-toolbar",0)(1,"ion-grid")(2,"ion-row",1)(3,"ion-col",2),t._UZ(4,"app-header",3),t.qZA(),t.TgZ(5,"ion-col",4),t._UZ(6,"ion-label",5),t.qZA()()(),t.TgZ(7,"ion-item")(8,"ion-searchbar",6,7),t.NdJ("ngModelChange",function(p){return s.NgModInputSearch=p})("ionChange",function(){return s.FListaEquipos()}),t.qZA(),t.TgZ(10,"ion-icon",8,9),t.NdJ("click",function(){return s.FListaEquipos()}),t.qZA()()(),t.TgZ(12,"ion-content"),t.YNc(13,i,22,11,"ion-item",10),t.qZA()),2&a&&(t.xp6(8),t.Q6J("ngModel",s.NgModInputSearch),t.xp6(5),t.Q6J("ngForOf",s.DataSetGrid))},dependencies:[d.Pc,d.yp,d.wI,d.W2,d.jY,d.gu,d.Ie,d.Q$,d.Nd,d.VI,d.yW,d.sr,d.j9,h.ez,h.sg,g.u5,g.JJ,g.On,C.G]}),r})()}}]);