"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9205,6485,5610,531,6702,6026],{6485:(F,O,h)=>{h.d(O,{Z:()=>b});var C=h(2519),f=h(6242),Z=h(9862);let b=(()=>{var i;class S{constructor(t){this.httpClient=t,this.urlApiProd=C.N.UrlDomainLocal+"aw_modulos/prod/api/CAtencionServicios.php"}ListDatos(t,e,o,n){let r=JSON.stringify({s:t,acc:1,tipo:e,idtablet:o,idmenu:n});return this.httpClient.post(this.urlApiProd,r).toPromise().then(d=>d)}FUpdateEstadoServicio(t,e,o,n,r,d){let p=JSON.stringify({idofpterminado:t,acc:2,value:e,id_usuario_local:o,id_dispositivo:n,avatar:r,idasignaestacionof:d});return this.httpClient.post(this.urlApiProd,p).toPromise().then(c=>c)}ListSolsexQr(t,e,o,n,r){let d=JSON.stringify({idofpterminado:t,acc:2,value:e,id_usuario_local:o,id_dispositivo:n,avatar:r});return this.httpClient.post(this.urlApiProd,d).toPromise().then(p=>p)}load_cbos_pieza_material_maquina(t,e,o){let n=JSON.stringify({acc:3,id_usuario_local:e,id_dispositivo:o,idtipserv:t});return this.httpClient.post(this.urlApiProd,n).toPromise().then(r=>r)}ListFindPersonal(t,e,o){let n=JSON.stringify({acc:4,s:t,idusu:e,iddevice:o});return this.httpClient.post(this.urlApiProd,n).toPromise().then(r=>r)}ListFindServiciosByPieza(t,e,o,n,r,d){let p=JSON.stringify({acc:5,s:t,idpieza:e,tipServicio:o,idusu:n,iddevice:r,nomclase:d});return this.httpClient.post(this.urlApiProd,p).toPromise().then(c=>c)}agregarServiciosByPieza(t,e,o,n,r,d){let p=JSON.stringify({acc:32,s:t,nomclase:d,idpieza:e,tipServicio:o,idusu:n,iddevice:r});return this.httpClient.post(this.urlApiProd,p).toPromise().then(c=>c)}ListFindPiezaByActividad(t,e,o,n,r,d,p,c){let v=JSON.stringify({acc:6,s:t,idpieza:e,tipServicio:o,idusu:n,iddevice:r,idclase:d,idsubfamilia:p,nomsubfam:c});return this.httpClient.post(this.urlApiProd,v).toPromise().then(l=>l)}SaveInicioActividad(t){let e=JSON.stringify(t);return this.httpClient.post(this.urlApiProd,e).toPromise().then(o=>o)}UpdateFechaInicioProd(t,e,o,n){let r=JSON.stringify({acc:28,fecha:t,pk_idservicio:e,avatar:o,idusuario:n});return this.httpClient.post(this.urlApiProd,r).toPromise().then(d=>d)}UpdateFechaFinProd(t,e,o,n){let r=JSON.stringify({acc:29,fecha:t,pk_idservicio:e,avatar:o,idusuario:n});return this.httpClient.post(this.urlApiProd,r).toPromise().then(d=>d)}ListFindActividades(t,e,o){let n=JSON.stringify({acc:9,s:t,idusu:e,iddevice:o});return this.httpClient.post(this.urlApiProd,n).toPromise().then(r=>r)}ListFindActividadesHistorico(t,e,o){let n=JSON.stringify({acc:31,s:t,idusu:e,iddevice:o});return this.httpClient.post(this.urlApiProd,n).toPromise().then(r=>r)}ListFindClaseByPieza(t,e,o,n,r){let d=JSON.stringify({acc:10,s:t,idpieza:e,tipServicio:o,idusu:n,iddevice:r});return this.httpClient.post(this.urlApiProd,d).toPromise().then(p=>p)}ListFindOfByClase(t,e,o,n,r,d){let p=JSON.stringify({acc:11,s:t,idsubfamilia:e,idclase:o,tipServicio:n,idusu:r,iddevice:d});return this.httpClient.post(this.urlApiProd,p).toPromise().then(c=>c)}ListFindQrByOf(t,e,o,n,r,d){let p=JSON.stringify({acc:12,s:t,idpieza:e,tipServicio:o,idusu:n,iddevice:r,nomclase:d});return this.httpClient.post(this.urlApiProd,p).toPromise().then(c=>c)}SaveControlCalidadByOf(t){let e=JSON.stringify(t);return this.httpClient.post(this.urlApiProd,e).toPromise().then(o=>o)}ListFindSolicitudQcByOf(t,e,o,n){let r=JSON.stringify({acc:14,s:t,idofpterminado:e,idusu:o,iddevice:n});return this.httpClient.post(this.urlApiProd,r).toPromise().then(d=>d)}load_cbos_ma00(){let t=JSON.stringify({acc:15});return this.httpClient.post(this.urlApiProd,t).toPromise().then(e=>e)}FCreaCorrelativo(){let t=JSON.stringify({acc:16});return this.httpClient.post(this.urlApiProd,t).toPromise().then(e=>e)}SaveReporteFalla(t){let e=JSON.stringify(t);return this.httpClient.post(this.urlApiProd,e).toPromise().then(o=>o)}SaveRelevo(t){let e=JSON.stringify(t);return this.httpClient.post(this.urlApiProd,e).toPromise().then(o=>o)}FCreaCorrelativoRelevo(){let t=JSON.stringify({acc:18});return this.httpClient.post(this.urlApiProd,t).toPromise().then(e=>e)}load_cbo_subprocesos(t,e,o){let n=JSON.stringify({acc:20,idmaquina:t,nom_pieza:e,servicio:o});return this.httpClient.post(this.urlApiProd,n).toPromise().then(r=>r)}load_cbos_any_edit_ini_actvidad(t,e,o){let n=JSON.stringify({acc:22,id_usuario_local:e,id_dispositivo:o,idtipserv:t});return this.httpClient.post(this.urlApiProd,n).toPromise().then(r=>r)}ListActividadesxTecnico(t,e,o){let n=JSON.stringify({iduser:t,acc:23,horainicio_filtro:e,horafin_filtro:o});return this.httpClient.post(this.urlApiProd,n).toPromise().then(r=>r)}SaveResumenDia(t,e){let o=JSON.stringify(e);return this.httpClient.post(this.urlApiProd,o).toPromise().then(n=>n)}LoadFormDejarPiezasCalidad(t){let e=JSON.stringify({idpt:t,acc:25});return this.httpClient.post(this.urlApiProd,e).toPromise().then(o=>o)}LoadFormIniciaActividad(t,e){let o=JSON.stringify({idpt:t,avatar:e,acc:26});return this.httpClient.post(this.urlApiProd,o).toPromise().then(n=>n)}listado_principal_resumen_horas(t,e,o,n,r){let d=JSON.stringify({s:t,acc:o,tipo:e,idtablet:"this.device.uuid",madre_hija:n,idusuario:r});return this.httpClient.post(this.urlApiProd,d).toPromise().then(p=>p)}listado_principal_cabecera(t,e,o,n,r){let d=JSON.stringify({s:t,acc:o,tipo:e,idtablet:"this.device.uuid",madre_hija:n,idusuario:r});return this.httpClient.post(this.urlApiProd,d).toPromise().then(p=>p)}}return(i=S).\u0275fac=function(t){return new(t||i)(f.LFG(Z.eN))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),S})()},6429:(F,O,h)=>{h.r(O),h.d(O,{ProdAteServListActividadesPage:()=>p});var C=h(5861),f=h(6814),Z=h(95),_=h(6728),T=h(4248),b=h(6471),i=h(6242),S=h(5472),y=h(6485),t=h(2014);const e=["IdHtmlInputSearch"];function o(c,v){1&c&&i._UZ(0,"ion-icon",35)}function n(c,v){if(1&c&&i._UZ(0,"ion-icon",49),2&c){const l=i.oxw().$implicit;i.Q6J("color","2"==l.idestado?"danger":"success")}}function r(c,v){if(1&c){const l=i.EpF();i.TgZ(0,"ion-item",36),i.NdJ("click",function(){const u=i.CHM(l).$implicit,m=i.oxw(2);return i.KtG(m.FSelectedItem(u))}),i.TgZ(1,"ion-grid",37)(2,"ion-row",38)(3,"ion-col",39),i.YNc(4,n,1,1,"ion-icon",40),i.qZA(),i.TgZ(5,"ion-col",41),i._uU(6),i.qZA(),i.TgZ(7,"ion-col",42),i._uU(8),i.qZA(),i.TgZ(9,"ion-col",39),i._uU(10),i.qZA(),i.TgZ(11,"ion-col",39),i._uU(12),i.qZA(),i.TgZ(13,"ion-col",39),i._uU(14),i.qZA(),i.TgZ(15,"ion-col",43)(16,"ion-label",44),i._uU(17),i.qZA()(),i.TgZ(18,"ion-col",41)(19,"ion-label",45),i._uU(20),i.qZA()(),i.TgZ(21,"ion-col",46),i._uU(22),i.qZA(),i.TgZ(23,"ion-col",47),i._uU(24),i.qZA(),i.TgZ(25,"ion-col",47),i._uU(26),i.qZA(),i.TgZ(27,"ion-col",43),i._uU(28),i.qZA(),i.TgZ(29,"ion-col",48),i._uU(30),i.qZA(),i.TgZ(31,"ion-col",47),i._uU(32),i.qZA(),i.TgZ(33,"ion-col",47),i._uU(34),i.qZA(),i.TgZ(35,"ion-col",43),i._uU(36),i.qZA(),i.TgZ(37,"ion-col",41),i._uU(38),i.qZA(),i.TgZ(39,"ion-col",42)(40,"ion-label",44),i._uU(41),i.qZA()()()()()}if(2&c){const l=v.$implicit,s=i.oxw().$implicit,a=i.oxw();i.Q6J("hidden",a.scanActive),i.xp6(4),i.Q6J("ngIf",1==s.values[0].orden_actividad),i.xp6(2),i.Oqu(l.nombres_tecnico),i.xp6(2),i.Oqu(l.correorden),i.xp6(2),i.Oqu(l.avatar),i.xp6(2),i.Oqu(l.cantidad_total),i.xp6(2),i.Oqu(l.cantidad_pendiente),i.xp6(2),i.Q6J("color","dark"),i.xp6(1),i.Oqu(l.codsmg),i.xp6(3),i.Oqu(l.nomclase),i.xp6(2),i.Oqu(l.Y04002),i.xp6(2),i.Oqu(l.fecha_inicio),i.xp6(2),i.Oqu(l.fecha_fin),i.xp6(2),i.Oqu(l.tiempo),i.xp6(2),i.Oqu(l.motivo_pausa),i.xp6(2),i.Oqu(l.fecha_inicio_pausa),i.xp6(2),i.Oqu(l.fecha_fin_pausa),i.xp6(2),i.Oqu(l.tiempo_pausa),i.xp6(2),i.Oqu(l.observacion),i.xp6(2),i.Q6J("color","dark"),i.xp6(1),i.Oqu(l.Nsemanaofmes)}}function d(c,v){if(1&c&&(i.TgZ(0,"ion-item-group")(1,"ion-item-divider",31)(2,"div",32)(3,"b"),i._uU(4),i.qZA(),i._uU(5," \xa0 "),i.YNc(6,o,1,0,"ion-icon",33),i.qZA()(),i.YNc(7,r,42,21,"ion-item",34),i.qZA()),2&c){const l=v.$implicit,s=i.oxw();i.Udp("--background",s.scanActive?"#00000000":"#fff"),i.xp6(1),i.Q6J("hidden",s.scanActive),i.xp6(3),i.Oqu(l.key),i.xp6(2),i.Q6J("ngIf",2==l.values[0].orden_actividad),i.xp6(1),i.Q6J("ngForOf",l.values)}}let p=(()=>{var c;class v{constructor(s,a,u,m,A){let g;this.loadingController=s,this.prodGestionServicioService=a,this.storage=u,this.navCtrl=m,this.router=A,this.TituloDinamico="Orden de Fabricacion en Proceso",this.NgModInputSearch="",this.scanActive=!1,this.navParams=this.router.getCurrentNavigation().extras.state,console.log("this.navParams::>",this.navParams),this.idMenu=this.navParams.idmenu,this.menu=this.navParams.menu,this.storage.get("USER_INFO").then(P=>{g=P,this.NombresUsuarioLocal=g.user_name,this.IdUsuarioLocal=g.user_id}),this.storage.get("DEVICE_INFO").then(P=>{g=P,this.NombreDispositivo=g.name,this.IdDispositivo=g.uuid})}ngOnInit(){this.routerSubscription=this.router.events.subscribe(s=>{s instanceof T.m2&&"/prod-ate-serv-list-actividades"===s.url&&this.FFindRows()})}ngOnDestroy(){this.routerSubscription&&this.routerSubscription.unsubscribe()}ionViewDidLoad(){}ionViewDidEnter(){}FSelectedItem(s){console.log(s);let a={state:s};console.log(a),this.navCtrl.navigateForward(["prod-ate-serv-inicia-actividad"],a)}FReporteFalla(){console.log("row"),this.navCtrl.navigateForward(["prod-ate-serv-reporte-falla"],{state:{idmenu:this.idMenu,menu:this.menu}})}FRelevo(){this.navCtrl.navigateForward(["prod-ate-serv-relevo"],{state:{idmenu:this.idMenu,menu:this.menu}})}FIniciarActvividad(){let s;s={},s.CONCOMPONENTE=1,this.navCtrl.navigateForward(["addserviciostodet"],{state:s})}FFindRows(){var s=this;return(0,C.Z)(function*(){const a=yield s.loadingController.create({message:"Cargando lista...",translucent:!0});yield a.present();try{const u=yield s.prodGestionServicioService.ListFindActividades(s.NgModInputSearch,s.IdUsuarioLocal,s.IdDispositivo);s.MultiArrayServicios=u,s.MultiArrayServicios=s.groupByArray(s.MultiArrayServicios,"maquina","hora_ini_acti_otd")}catch(u){console.error("Error al cargar las actividades:",u)}finally{yield a.dismiss()}})()}groupByArray(s,a,u){return s.reduce(function(m,A){let g=a instanceof Function?a(A):A[a],P=m.find(U=>U&&U.key===g);return P?P.values.push(A):m.push({key:g,values:[A]}),m},[])}sortArray(s,a,u){return u=u||1,s.sort(function(A,g){let P=0;return A[a]>g[a]?P=1*u:A[a]<g[a]&&(P=-1*u),P}),s}}return(c=v).\u0275fac=function(s){return new(s||c)(i.Y36(_.HT),i.Y36(y.Z),i.Y36(t.K),i.Y36(S.SH),i.Y36(T.F0))},c.\u0275cmp=i.Xpm({type:c,selectors:[["app-prod-ate-serv-list-actividades"]],viewQuery:function(s,a){if(1&s&&i.Gf(e,5),2&s){let u;i.iGM(u=i.CRH())&&(a.idInputSearch=u.first)}},standalone:!0,features:[i.jDz],decls:83,vars:3,consts:[[1,"ion-no-border"],[1,"ion-justify-content-start"],["size","10",1,"ion-align-self-start"],[3,"titulo"],["size","2",1,"ion-align-self-end"],["position","fixed","color","secondary",1,"label-nameusuario"],["mode","ios","debounce","1700","cancelButtonText","Cancelar","enterkeyhint","done","placeholder","Filtrar par\xe1metros",3,"ngModel","ngModelChange","ionChange"],["IdHtmlInputSearch",""],["slot","end","name","sync-outline",3,"click"],["idIconButtonSync",""],["scroll-x","true"],[1,"",2,"width","150% !important"],[2,"width","100% !important"],["size-sm","0.3","size-md","0.3","size-xl","0.3",1,"headgrid"],[2,"color","black"],["size-sm","1","size-md","1","size-xl","1",1,"headgrid"],["size-sm","0.4","size-md","0.4","size-xl","0.4",1,"headgrid"],["size-sm","0.5","size-md","0.5","size-xl","0.5",1,"headgrid"],["size-sm","2","size-md","2","size-xl","2",1,"headgrid"],["size-sm","0.6","size-md","0.6","size-xl","0.6",1,"headgrid"],[3,"--background",4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed"],["title","REPORTE FALLA EQUIPO",3,"click"],["name","build-outline"],["title","RELEVO",3,"click"],["name","log-out-outline"],["title","Nueva Actividad",3,"click"],["name","grid-outline"],["mode","ios",2,"align-items","center"],["fill","clear","expand","block",2,"width","30%",3,"click"],["color","primary",2,"font","size 6px"],["color","light",2,"height","30px !important",3,"hidden"],[1,"ion-text-uppercase"],["name","ellipse","color","danger","slot","start","style","font-size: 1.2rem;",4,"ngIf"],["button","",3,"hidden","click",4,"ngFor","ngForOf"],["name","ellipse","color","danger","slot","start",2,"font-size","1.2rem"],["button","",3,"hidden","click"],["fixed","false",2,"width","150% !important"],[2,"width","100% !important","font-size","0.7em"],["size-sm","0.3","size-md","0.3","size-xl","0.3"],["name","ellipse","style","font-size: 2em; transform: scale(1);",3,"color",4,"ngIf"],["size-sm","1","size-md","1","size-xl","1"],["size-sm","0.4","size-md","0.4","size-xl","0.4"],["size-sm","0.5","size-md","0.5","size-xl","0.5"],[3,"color"],[1,"ion-text-wrap"],["size-sm","2","size-md","2","size-xl","2"],["size-sm","0.6","size-md","0.6","size-xl","0.6"],["size-sm","1.1","size-md","1.1","size-xl","1.1"],["name","ellipse",2,"font-size","2em","transform","scale(1)",3,"color"]],template:function(s,a){1&s&&(i.TgZ(0,"ion-toolbar",0)(1,"ion-grid")(2,"ion-row",1)(3,"ion-col",2),i._UZ(4,"app-header",3),i.qZA(),i.TgZ(5,"ion-col",4),i._UZ(6,"ion-label",5),i.qZA()()(),i.TgZ(7,"ion-item")(8,"ion-searchbar",6,7),i.NdJ("ngModelChange",function(m){return a.NgModInputSearch=m})("ionChange",function(){return a.FFindRows()}),i.qZA(),i.TgZ(10,"ion-icon",8,9),i.NdJ("click",function(){return a.FFindRows()}),i.qZA()()(),i.TgZ(12,"ion-content",10)(13,"ion-list",11)(14,"ion-row",12)(15,"ion-col",13)(16,"ion-label",14),i._uU(17,"Estado"),i.qZA()(),i.TgZ(18,"ion-col",15)(19,"ion-label",14),i._uU(20,"Operario"),i.qZA()(),i.TgZ(21,"ion-col",16)(22,"ion-label",14),i._uU(23,"Nro. OT/OF"),i.qZA()(),i.TgZ(24,"ion-col",13)(25,"ion-label",14),i._uU(26,"Tipo"),i.qZA()(),i.TgZ(27,"ion-col",13)(28,"ion-label",14),i._uU(29,"Cantidad Total"),i.qZA()(),i.TgZ(30,"ion-col",13)(31,"ion-label",14),i._uU(32,"Cantidad Pend."),i.qZA()(),i.TgZ(33,"ion-col",17)(34,"ion-label",14),i._uU(35,"Equipo"),i.qZA()(),i.TgZ(36,"ion-col",15)(37,"ion-label",14),i._uU(38,"Pieza"),i.qZA()(),i.TgZ(39,"ion-col",18)(40,"ion-label",14),i._uU(41,"Servicio"),i.qZA()(),i.TgZ(42,"ion-col",19)(43,"ion-label",14),i._uU(44,"F. Inicio"),i.qZA()(),i.TgZ(45,"ion-col",19)(46,"ion-label",14),i._uU(47,"F. Fin"),i.qZA()(),i.TgZ(48,"ion-col",17)(49,"ion-label",14),i._uU(50,"Duracion"),i.qZA()(),i.TgZ(51,"ion-col",15)(52,"ion-label",14),i._uU(53,"Motivo Pausa"),i.qZA()(),i.TgZ(54,"ion-col",19)(55,"ion-label",14),i._uU(56,"F. Inicio Pausa"),i.qZA()(),i.TgZ(57,"ion-col",19)(58,"ion-label",14),i._uU(59,"F. Fin Pausa"),i.qZA()(),i.TgZ(60,"ion-col",17)(61,"ion-label",14),i._uU(62,"Tiempo Pausa Min."),i.qZA()(),i.TgZ(63,"ion-col",15)(64,"ion-label",14),i._uU(65,"Observacion"),i.qZA()(),i.TgZ(66,"ion-col",16)(67,"ion-label",14),i._uU(68,"Semana"),i.qZA()()(),i.YNc(69,d,8,6,"ion-item-group",20),i.qZA(),i.TgZ(70,"ion-fab",21)(71,"ion-fab-button",22),i.NdJ("click",function(){return a.FReporteFalla()}),i._UZ(72,"ion-icon",23),i.qZA(),i.TgZ(73,"ion-fab-button",24),i.NdJ("click",function(){return a.FRelevo()}),i._UZ(74,"ion-icon",25),i.qZA(),i.TgZ(75,"ion-fab-button",26),i.NdJ("click",function(){return a.FIniciarActvividad()}),i._UZ(76,"ion-icon",27),i.qZA()()(),i.TgZ(77,"ion-footer")(78,"ion-card",28)(79,"ion-button",29),i.NdJ("click",function(){return a.FFindRows()}),i.TgZ(80,"ion-label",30),i._UZ(81,"ion-icon",27),i._uU(82," Orden de Fabricacion en Proceso "),i.qZA()()()()),2&s&&(i.xp6(4),i.s9C("titulo",a.TituloDinamico),i.xp6(4),i.Q6J("ngModel",a.NgModInputSearch),i.xp6(61),i.Q6J("ngForOf",a.MultiArrayServicios))},dependencies:[_.Pc,_.YG,_.PM,_.wI,_.W2,_.IJ,_.W4,_.fr,_.jY,_.gu,_.Ie,_.rH,_.Ub,_.Q$,_.q_,_.Nd,_.VI,_.sr,_.j9,f.ez,f.sg,f.O5,Z.u5,Z.JJ,Z.On,b.G],styles:[".forecast_container[_ngcontent-%COMP%]{flex-wrap:nowrap;overflow-x:scroll!important;overflow-y:hidden;overflow-x:visible!important}"]}),v})()}}]);