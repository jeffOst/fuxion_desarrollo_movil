"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8671],{8671:(U,g,r)=>{r.r(g),r.d(g,{ProdAteServAsignaEstadoPage:()=>H});var h=r(5861),m=r(6814),u=r(95),t=r(6728),i=r(6242),p=r(4248),v=r(6485),P=r(2014),A=r(5472);function f(s,l){if(1&s&&(i.TgZ(0,"ion-item")(1,"ion-row",17)(2,"ion-col",18),i._uU(3,"Actividad:"),i.qZA(),i.TgZ(4,"ion-col",19)(5,"div"),i._uU(6,"por Reproceso"),i.qZA()(),i.TgZ(7,"ion-col",18),i._uU(8," F. Revision: "),i.qZA(),i.TgZ(9,"ion-col",19)(10,"div"),i._uU(11),i.qZA()()()()),2&s){const e=i.oxw();i.xp6(5),i.Tol(e.CssReproceso),i.xp6(5),i.Tol(e.CssReproceso),i.xp6(1),i.Oqu(e.FormHtmlJs.fecha_reproceso)}}function C(s,l){1&s&&i._UZ(0,"ion-icon",20)}function Z(s,l){1&s&&i._UZ(0,"ion-icon",21)}function F(s,l){if(1&s){const e=i.EpF();i.TgZ(0,"ion-item")(1,"ion-label")(2,"p"),i._uU(3,"Calidad"),i.qZA(),i.TgZ(4,"ion-row")(5,"ion-col",22)(6,"ion-button",23),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.FDejarCalidad())}),i.TgZ(7,"ion-text",24),i._uU(8," Dejar piezas en calidad "),i.qZA()()(),i.TgZ(9,"ion-col",25),i._UZ(10,"ion-icon",26),i.qZA()()()()}}function E(s,l){if(1&s&&(i.TgZ(0,"ion-item")(1,"ion-label"),i._uU(2," Historial Engregas Calidad "),i.TgZ(3,"ion-chip")(4,"ion-label",27),i._uU(5),i.qZA()()()()),2&s){const e=i.oxw();i.xp6(5),i.hij(" ",e.CantEntregasCalidad," ")}}function T(s,l){if(1&s){const e=i.EpF();i.TgZ(0,"ion-row")(1,"ion-item",32),i.NdJ("click",function(){const n=i.CHM(e).$implicit,d=i.oxw(2);return i.KtG(d.showDetailCalidad(n))}),i.TgZ(2,"ion-col",33),i._uU(3),i.qZA(),i.TgZ(4,"ion-col",34),i._uU(5),i.qZA(),i.TgZ(6,"ion-col",35),i._uU(7),i.qZA()()()}if(2&s){const e=l.$implicit;i.xp6(3),i.hij("",e.fch_solicitud_scc," "),i.xp6(2),i.Oqu(e.nombres_tecnico),i.xp6(2),i.Oqu(e.cantidad_scc)}}function J(s,l){if(1&s&&(i.TgZ(0,"ion-item")(1,"ion-grid")(2,"ion-row")(3,"ion-col",28),i._uU(4,"Fecha "),i.qZA(),i.TgZ(5,"ion-col",29),i._uU(6,"Responsable Registro"),i.qZA(),i.TgZ(7,"ion-col",30),i._uU(8,"Cantidad"),i.qZA()(),i.YNc(9,T,8,3,"ion-row",31),i.qZA()()),2&s){const e=i.oxw();i.xp6(9),i.Q6J("ngForOf",e.DsGridSolicitudQc)}}let H=(()=>{var s;class l{constructor(a,o,n,d,b){let c;this.router=a,this.prodservice=o,this.storage=n,this.navCtrl=d,this.alertController=b,this.CantEntregasCalidad=0,this.CantItemsHojaRuta=0,this.FlagCCalidad=!1,this.hide_div_reproceso=!1,this.Cancelar="Cancelar",this.disableButton=!0,this.scanActive=!0,this.FormHtmlJs={},this.navParams=this.router.getCurrentNavigation().extras.state,this.storage.get("USER_INFO").then(_=>{c=_,this.nombres_usuario_local=c.user_name,this.id_usuario_local=c.user_id,console.log(c),console.log(this.navParams),this.navParams&&(this.FormHtmlJs.maquina=this.navParams.maquina,this.FormHtmlJs.idofpterminado=this.navParams.idofpterminado,this.FormHtmlJs.EQUIPOID=this.navParams.EQUIPOID,this.FormHtmlJs.fasignado=this.navParams.fasignado,this.FormHtmlJs.avatar=this.navParams.avatar,this.FormHtmlJs.correorden=this.navParams.correorden,this.FormHtmlJs.Y04001=this.navParams.Y04001,this.FormHtmlJs.Y04002=this.navParams.Y04002,this.FormHtmlJs.descripcion_pt=this.navParams.descripcion_pt,this.FormHtmlJs.cantidad=this.navParams.cantidad,this.FormHtmlJs.idestado=this.navParams.idestado,this.IdCboEstadoActual=this.navParams.idestado,this.FormHtmlJs.nomclase=this.navParams.nomclase,this.FormHtmlJs.idasignaestacionof=this.navParams.idasignaestacionof,this.FormHtmlJs.cnt_29012_peso_ini=this.navParams.cnt_29012_peso_ini,this.FormHtmlJs.cnt_50000_peso_ini=this.navParams.cnt_50000_peso_ini,this.FormHtmlJs.cnt_metalizado_obs=this.navParams.cnt_metalizado_obs,this.FormHtmlJs.codigo_qr=this.navParams.codigo_qr,this.FormHtmlJs.codsmg=this.navParams.codsmg,this.FormHtmlJs.descrip=this.navParams.descrip,this.FormHtmlJs.idmaquina=this.navParams.idmaquina,this.FormHtmlJs.idordenfabricab=this.navParams.idordenfabricab,this.FormHtmlJs.idsubfamilia=this.navParams.idsubfamilia,this.FormHtmlJs.nomsubfam=this.navParams.nomsubfam,this.FormHtmlJs.proceso_metalizado=this.navParams.proceso_metalizado,this.FormHtmlJs.servicio_metalizado=this.navParams.servicio_metalizado,this.CssReproceso=1==this.navParams.flag_reproceso?"CssReproceso":"",this.hide_div_reproceso=1==this.navParams.flag_reproceso,this.FormHtmlJs.fecha_reproceso=this.navParams.fecha_reproceso,this.FormHtmlJs.cantidad_reproceso=this.navParams.cantidad_reproceso,this.FormHtmlJs.idrevisiondet_reproceso=this.navParams.idrevisiondet_reproceso,this.FormHtmlJs.codigo_pt=this.navParams.Y04001,this.FormHtmlJs.CONCOMPONENTE=this.navParams.CONCOMPONENTE,"O.F"==this.FormHtmlJs.avatar&&(this.FlagCCalidad=!0)),this.FormHtmlJs.nombres_tecnico=this.nombres_usuario_local,this.FormHtmlJs.idsolicitante_scc=this.id_usuario_local,this.FormHtmlJs.plano_diseno=this.navParams.plano_diseno,this.FormHtmlJs.cantidad_total=this.navParams.cantidad,this.FormHtmlJs.cantidad_revisada=this.navParams.cantidad_revisada,this.FormHtmlJs.cantidad_pendiente=this.navParams.cantidad_pendiente,console.log("this.FormHtmlJs",this.FormHtmlJs)}),this.storage.get("DEVICE_INFO").then(_=>{c=_,this.nombre_dispositivo=c.name,this.id_dispositivo=c.uuid,console.log("localStorage Device",c)})}FIniciarActvividad(){var a=this;return(0,h.Z)(function*(){console.log("verificar el estado actual"),console.log(a.navParams.idestado),2!=a.navParams.idestado?(console.log("recisar este console log"),console.log(a.FormHtmlJs),a.navCtrl.navigateForward(["addserviciostodet"],{state:a.FormHtmlJs})):yield(yield a.alertController.create({header:"Alerta",message:"Este registro se encuentra completado, no se puede iniciar otra actividad. (Se debe volver a asignar la Actividad.)",buttons:["Aceptar"]})).present()})()}cancelar_ejecucion(){this.navCtrl.navigateForward("prod-list-acti-programada")}CboEstadoChange(a){console.log("CboEstadoChange",a),console.log(a.detail),console.log(a.detail.value),this.IdCboEstadoActual=a.detail.value,this.prodservice.FUpdateEstadoServicio(this.FormHtmlJs.idofpterminado,a.detail.value,this.id_usuario_local,this.id_dispositivo,this.FormHtmlJs.avatar,this.FormHtmlJs.idasignaestacionof).then(o=>{this.ResptApi=o,console.log(this.ResptApi)}).finally(()=>{setTimeout(()=>{},600)})}CboEstadoCancel(a){console.log("CboEstadoCancel",a)}CboEstadoBlur(a){console.log("CboEstadoBlur",a)}ngOnInit(){}ionViewDidEnter(){this.prodservice.ListFindSolicitudQcByOf("",this.FormHtmlJs.idofpterminado,this.id_usuario_local,this.id_dispositivo).then(a=>{console.log(a),this.DsGridSolicitudQc=a,this.CantEntregasCalidad=this.DsGridSolicitudQc.length}).finally(()=>{}),this.prodservice.ListFindHojaRuta("",this.FormHtmlJs.idofpterminado,this.id_usuario_local,this.id_dispositivo).then(a=>{console.log(a),this.DsGridHojaRuta=a,this.CantItemsHojaRuta=this.DsGridHojaRuta.length}).finally(()=>{})}FDejarCalidad(){this.navCtrl.navigateForward(["prod-ate-serv-dejar-pieza-calidad"],{state:this.FormHtmlJs})}showDetailCalidad(a){this.navCtrl.navigateForward(["prod-ate-serv-view-dejar-pieza-calidad"],{state:a})}cboEstadoSelect(){}visualizar_pdf(a){this.navCtrl.navigateForward("pdf-viewer",{queryParams:{valor:a,flaglistaprod:1}})}}return(s=l).\u0275fac=function(a){return new(a||s)(i.Y36(p.F0),i.Y36(v.Z),i.Y36(P.K),i.Y36(A.SH),i.Y36(t.Br))},s.\u0275cmp=i.Xpm({type:s,selectors:[["app-prod-ate-serv-asigna-estado"]],standalone:!0,features:[i.jDz],decls:84,vars:19,consts:[["mode","ios"],["text-capitalize",""],["slot","start"],["defaultHref","prod-list-acti-programada",3,"text"],["expand","block","color","white","size","small","slot","end","title","Iniciar Actividad",3,"click"],["color","danger"],["expand","block","color","dark","size","small","name","play-forward",3,"hidden"],[4,"ngIf"],[3,"value"],["size","default",3,"click"],["slot","start","name","star"],[2,"width","100%"],["color","warning","size","small","name","ellipse",4,"ngIf"],["color","success","size","small","name","ellipse",4,"ngIf"],["okText","Terminado","cancelText","Limpiar",2,"width","100%",3,"value","ionChange","ionCancel","ionBlur"],["value","1",3,"ionSelect"],["value","2",3,"ionSelect"],[1,"ion-text-left",2,"width","100%"],["size","3",1,"ion-text-right"],["size","3",1,"ion-text-left"],["color","warning","size","small","name","ellipse"],["color","success","size","small","name","ellipse"],["size","10"],["expand","full","color","white","title","Dejar en Calidad",2,"background-color","transparent !important",3,"click"],["color","dark"],["size","2"],["color","dark","size","small","name","cart"],["color","secondary"],["size-sm","4","size-md","4","size-xl","4",1,"headgrid"],["size-sm","5","size-md","5","size-xl","5",1,"headgrid"],["size-sm","3","size-md","3","size-xl","3",1,"headgrid"],[4,"ngFor","ngForOf"],["mode","ios","button","",2,"width","100% !important",3,"click"],["size-sm","4","size-md","4","size-xl","4"],["size-sm","5","size-md","5","size-xl","5"],["size-sm","3","size-md","3","size-xl","3"]],template:function(a,o){1&a&&(i.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title",1),i._uU(3,"Asignar Estado"),i.qZA(),i.TgZ(4,"ion-buttons",2),i._UZ(5,"ion-back-button",3),i.qZA()()(),i.TgZ(6,"ion-content")(7,"ion-list")(8,"ion-item")(9,"ion-label")(10,"p"),i._uU(11,"Maquina"),i.qZA(),i.TgZ(12,"h1"),i._uU(13),i.qZA()(),i.TgZ(14,"ion-button",4),i.NdJ("click",function(){return o.FIniciarActvividad()}),i.TgZ(15,"ion-text",5),i._uU(16,"\xa0Iniciar Actividad \xa0"),i.qZA(),i._UZ(17,"ion-icon",6),i.qZA()(),i.YNc(18,f,12,7,"ion-item",7),i.TgZ(19,"ion-item")(20,"ion-label")(21,"p"),i._uU(22,"Centro de Costos"),i.qZA(),i.TgZ(23,"h1"),i._uU(24),i.qZA()()(),i.TgZ(25,"ion-item")(26,"ion-label")(27,"p"),i._uU(28,"F. Asignado"),i.qZA(),i.TgZ(29,"h1"),i._uU(30),i.qZA()()(),i.TgZ(31,"ion-item")(32,"ion-label")(33,"p"),i._uU(34),i.qZA(),i.TgZ(35,"h1"),i._uU(36),i.qZA()()(),i.TgZ(37,"ion-item")(38,"ion-label")(39,"p"),i._uU(40,"Cod. P.T."),i.qZA(),i._UZ(41,"input",8),i.TgZ(42,"ion-button",9),i.NdJ("click",function(){return o.visualizar_pdf(o.FormHtmlJs.plano_diseno)}),i._UZ(43,"ion-icon",10),i._uU(44," Ver Plano "),i.qZA()()(),i.TgZ(45,"ion-item")(46,"ion-label")(47,"p"),i._uU(48,"Pieza"),i.qZA(),i.TgZ(49,"h1"),i._uU(50),i.qZA()()(),i.TgZ(51,"ion-item")(52,"ion-label")(53,"p"),i._uU(54,"Nom. P.T."),i.qZA(),i.TgZ(55,"h1"),i._uU(56),i.qZA()()(),i.TgZ(57,"ion-item")(58,"ion-label")(59,"p"),i._uU(60,"Total Piezas"),i.qZA(),i.TgZ(61,"h1"),i._uU(62),i.qZA()()(),i.TgZ(63,"ion-item")(64,"ion-card")(65,"p"),i._uU(66,"Estado"),i.qZA(),i.TgZ(67,"ion-input",11),i.YNc(68,C,1,0,"ion-icon",12)(69,Z,1,0,"ion-icon",13),i.TgZ(70,"ion-select",14),i.NdJ("ionChange",function(d){return o.CboEstadoChange(d)})("ionCancel",function(d){return o.CboEstadoCancel(d)})("ionBlur",function(d){return o.CboEstadoBlur(d)}),i.TgZ(71,"ion-select-option",15),i.NdJ("ionSelect",function(){return o.cboEstadoSelect()}),i._uU(72,"Asignado"),i.qZA(),i.TgZ(73,"ion-select-option",16),i.NdJ("ionSelect",function(){return o.cboEstadoSelect()}),i._uU(74,"Completo"),i.qZA()()()()(),i.TgZ(75,"ion-item")(76,"ion-label")(77,"p"),i._uU(78,"F. Cierre"),i.qZA(),i.TgZ(79,"h1"),i._uU(80),i.qZA()()(),i.YNc(81,F,11,0,"ion-item",7)(82,E,6,1,"ion-item",7)(83,J,10,1,"ion-item",7),i.qZA()()),2&a&&(i.xp6(5),i.Q6J("text",o.Cancelar),i.xp6(8),i.Oqu(o.FormHtmlJs.maquina),i.xp6(4),i.Q6J("hidden",o.scanActive),i.xp6(1),i.Q6J("ngIf",o.hide_div_reproceso),i.xp6(6),i.Oqu(o.FormHtmlJs.EQUIPOID),i.xp6(6),i.Oqu(o.FormHtmlJs.fasignado),i.xp6(4),i.hij("Nro. ",o.FormHtmlJs.avatar,""),i.xp6(2),i.Oqu(o.FormHtmlJs.correorden),i.xp6(5),i.s9C("value",o.FormHtmlJs.Y04001),i.xp6(9),i.Oqu(o.FormHtmlJs.nomclase),i.xp6(6),i.Oqu(o.FormHtmlJs.Y04002),i.xp6(6),i.Oqu(o.FormHtmlJs.cantidad),i.xp6(6),i.Q6J("ngIf","1"==o.IdCboEstadoActual),i.xp6(1),i.Q6J("ngIf","2"==o.IdCboEstadoActual),i.xp6(1),i.s9C("value",o.FormHtmlJs.idestado),i.xp6(10),i.Oqu(o.FormHtmlJs.fch_cierre_servicios_opt),i.xp6(1),i.Q6J("ngIf",o.FlagCCalidad),i.xp6(1),i.Q6J("ngIf",o.FlagCCalidad),i.xp6(1),i.Q6J("ngIf",o.FlagCCalidad))},dependencies:[t.Pc,t.YG,t.Sm,t.PM,t.hM,t.wI,t.W2,t.jY,t.Gu,t.gu,t.pK,t.Ie,t.Q$,t.q_,t.Nd,t.t9,t.n0,t.yW,t.wd,t.sr,t.QI,t.j9,t.oU,m.ez,m.sg,m.O5,u.u5],styles:[".selector[_ngcontent-%COMP%]{font-family:SFNSDisplay;font-size:12px;line-height:1.2;letter-spacing:.1px;color:#29235e;width:100%!important;max-width:100%!important;justify-content:center;border:solid 2px #e8ebf0;background-color:#fff;text-align:center}.CssReproceso[_ngcontent-%COMP%]{color:#b52024!important;font-size:large}"]}),l})()}}]);