"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3286],{3286:(b,m,l)=>{l.r(m),l.d(m,{ProdListActiHistoricoPage:()=>q});var p=l(6814),g=l(95),a=l(6728),Z=l(6471),i=l(6242),A=l(5472),v=l(6485),T=l(2014),f=l(4248);const P=["IdHtmlInputSearch"];function O(c,_){if(1&c){const e=i.EpF();i.TgZ(0,"ion-item",35),i.NdJ("click",function(){const n=i.CHM(e).$implicit,s=i.oxw(2);return i.KtG(s.FSelectedItem(n))}),i.TgZ(1,"ion-grid",36)(2,"ion-row",37)(3,"ion-col",38),i._uU(4),i.qZA(),i.TgZ(5,"ion-col",39),i._uU(6),i.qZA(),i.TgZ(7,"ion-col",40),i._uU(8),i.qZA(),i.TgZ(9,"ion-col",41),i._uU(10),i.qZA(),i.TgZ(11,"ion-col",42),i._uU(12),i.qZA(),i.TgZ(13,"ion-col",40)(14,"ion-label",43),i._uU(15),i.qZA()(),i.TgZ(16,"ion-col",38)(17,"ion-label",44),i._uU(18),i.qZA()(),i.TgZ(19,"ion-col",45),i._uU(20),i.qZA(),i.TgZ(21,"ion-col",38),i._uU(22),i.qZA(),i.TgZ(23,"ion-col",38),i._uU(24),i.qZA(),i.TgZ(25,"ion-col",40),i._uU(26),i.qZA(),i.TgZ(27,"ion-col",40),i._uU(28),i.qZA(),i.TgZ(29,"ion-col",46),i._uU(30),i.qZA(),i.TgZ(31,"ion-col",38),i._uU(32),i.qZA(),i.TgZ(33,"ion-col",40)(34,"ion-label",43),i._uU(35),i.qZA()()()()()}if(2&c){const e=_.$implicit,o=i.oxw(2);i.Q6J("hidden",o.scanActive),i.xp6(4),i.Oqu(e.nombres_tecnico),i.xp6(2),i.Oqu(e.avatar),i.xp6(2),i.Oqu(e.correorden),i.xp6(2),i.Oqu(e.cantidad_total),i.xp6(2),i.Oqu(e.cantidad_revisada),i.xp6(2),i.Q6J("color","3"!=e.idestado?"warning":"dark"),i.xp6(1),i.Oqu(e.codsmg),i.xp6(3),i.Oqu(e.nomclase),i.xp6(2),i.Oqu(e.Y04002),i.xp6(2),i.Oqu(e.fecha_inicio),i.xp6(2),i.Oqu(e.fecha_fin),i.xp6(2),i.Oqu(e.tiempo),i.xp6(2),i.Oqu(e.tiempo_pausa),i.xp6(2),i.Oqu(e.motivo_pausa),i.xp6(2),i.Oqu(e.observacion),i.xp6(2),i.Q6J("color","3"!=e.idestado?"warning":"dark"),i.xp6(1),i.Oqu(e.Nsemanaofmes)}}function U(c,_){if(1&c&&(i.TgZ(0,"ion-item-group")(1,"ion-item-divider",31),i._UZ(2,"ion-icon",32),i.TgZ(3,"div",33),i._uU(4),i.qZA()(),i.YNc(5,O,36,18,"ion-item",34),i.qZA()),2&c){const e=_.$implicit,o=i.oxw();i.Udp("--background",o.scanActive?"#00000000":"#fff"),i.xp6(1),i.Q6J("hidden",o.scanActive),i.xp6(3),i.Oqu(e.key),i.xp6(1),i.Q6J("ngForOf",e.values)}}let q=(()=>{var c;class _{constructor(o,t,n,s,u){let r;this.loadingController=o,this.prodGestionServicioService=t,this.storage=n,this.navCtrl=s,this.router=u,this.TituloDinamico="Registro de Orden de Fabricacion",this.NgModInputSearch="",this.scanActive=!1,this.navParams=this.router.getCurrentNavigation().extras.state,console.log("this.navParams::>",this.navParams),console.log(this.idMenu),this.idMenu="0",this.menu="",this.storage.get("USER_INFO").then(d=>{r=d,this.NombresUsuarioLocal=r.user_name,this.IdUsuarioLocal=r.user_id}),this.storage.get("DEVICE_INFO").then(d=>{r=d,this.NombreDispositivo=r.name,this.IdDispositivo=r.uuid})}ngOnInit(){this.FFindRows()}ionViewDidLoad(){}ionViewDidEnter(){}ngOnDestroy(){}FSelectedItem(o){console.log(o);let t={state:o};console.log(t),this.navCtrl.navigateForward(["prod-ate-serv-inicia-actividad"],t)}FReporteFalla(){console.log("row"),this.navCtrl.navigateForward(["prod-ate-serv-reporte-falla"],{state:{idmenu:this.idMenu,menu:this.menu}})}FRelevo(){this.navCtrl.navigateForward(["prod-ate-serv-relevo"],{state:{idmenu:this.idMenu,menu:this.menu}})}FIniciarActvividad(){let o;o={},o.CONCOMPONENTE=1,this.navCtrl.navigateForward(["addserviciostodet"],{state:o})}FFindRows(){this.loadingController.create({message:"Cargando lista...",translucent:!0}).then(t=>{t.present(),this.prodGestionServicioService.ListFindActividadesHistorico(this.NgModInputSearch,this.IdUsuarioLocal,this.IdDispositivo).then(n=>{this.MultiArrayServicios=n,this.MultiArrayServicios=this.groupByArray(this.MultiArrayServicios,"maquina","hora_ini_acti_otd")}).finally(()=>{this.loadingController.dismiss()})})}groupByArray(o,t,n){return o.reduce(function(s,u){let r=t instanceof Function?t(u):u[t],d=s.find(h=>h&&h.key===r);return d?d.values.push(u):s.push({key:r,values:[u]}),s},[])}sortArray(o,t,n){return n=n||1,o.sort(function(u,r){let d=0;return u[t]>r[t]?d=1*n:u[t]<r[t]&&(d=-1*n),d}),o}FListarActvidades(){this.navCtrl.navigateForward(["prod-ate-serv-list-actividades"],{state:{idmenu:this.idMenu,menu:this.TituloDinamico}})}}return(c=_).\u0275fac=function(o){return new(o||c)(i.Y36(a.HT),i.Y36(v.Z),i.Y36(T.K),i.Y36(A.SH),i.Y36(f.F0))},c.\u0275cmp=i.Xpm({type:c,selectors:[["app-prod-list-acti-historico"]],viewQuery:function(o,t){if(1&o&&i.Gf(P,5),2&o){let n;i.iGM(n=i.CRH())&&(t.idInputSearch=n.first)}},standalone:!0,features:[i.jDz],decls:74,vars:3,consts:[[1,"ion-no-border"],[1,"ion-justify-content-start"],["size","10",1,"ion-align-self-start"],[3,"titulo"],["size","2",1,"ion-align-self-end"],["position","fixed","color","secondary",1,"label-nameusuario"],["mode","ios","debounce","1700","cancelButtonText","Cancelar","enterkeyhint","done","placeholder","Filtrar par\xe1metros",3,"ngModel","ngModelChange","ionChange"],["IdHtmlInputSearch",""],["slot","end","name","sync-outline",3,"click"],["idIconButtonSync",""],["scroll-x","true"],[1,"",2,"width","150% !important"],[2,"width","100% !important"],["size-sm","1","size-md","1","size-xl","1",1,"headgrid"],[2,"color","black"],["size-sm","0.3","size-md","0.3","size-xl","0.3",1,"headgrid"],["size-sm","0.5","size-md","0.5","size-xl","0.5",1,"headgrid"],["size-sm","0.4","size-md","0.4","size-xl","0.4",1,"headgrid"],["size-sm","0.5","size-md","0.4","size-xl","0.4",1,"headgrid"],["size-sm","2","size-md","2","size-xl","2",1,"headgrid"],[3,"--background",4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed"],["title","REPORTE FALLA EQUIPO",3,"click"],["name","build-outline"],["title","RELEVO",3,"click"],["name","log-out-outline"],["title","Nueva Actividad",3,"click"],["name","grid-outline"],["mode","ios",2,"align-items","center"],["fill","clear","expand","block",2,"width","30%",3,"click"],["color","primary",2,"font","size 6px"],["color","light",2,"height","30px !important",3,"hidden"],["name","ellipse","color","dark","slot","start"],[1,"ion-text-uppercase"],["button","",3,"hidden","click",4,"ngFor","ngForOf"],["button","",3,"hidden","click"],["fixed","false",2,"width","150% !important"],[2,"width","100% !important","font-size","0.7em"],["size-sm","1","size-md","1","size-xl","1"],["size-sm","0.3","size-md","0.3","size-xl","0.3"],["size-sm","0.5","size-md","0.5","size-xl","0.5"],["size-sm","0.4","size-md","0.4","size-xl","0.4"],["size-sm","0.5","size-md","0.4","size-xl","0.4"],[3,"color"],[1,"ion-text-wrap"],["size-sm","2","size-md","2","size-xl","2"],["size-sm","1.1","size-md","1.1","size-xl","1.1"]],template:function(o,t){1&o&&(i.TgZ(0,"ion-toolbar",0)(1,"ion-grid")(2,"ion-row",1)(3,"ion-col",2),i._UZ(4,"app-header",3),i.qZA(),i.TgZ(5,"ion-col",4),i._UZ(6,"ion-label",5),i.qZA()()(),i.TgZ(7,"ion-item")(8,"ion-searchbar",6,7),i.NdJ("ngModelChange",function(s){return t.NgModInputSearch=s})("ionChange",function(){return t.FFindRows()}),i.qZA(),i.TgZ(10,"ion-icon",8,9),i.NdJ("click",function(){return t.FFindRows()}),i.qZA()()(),i.TgZ(12,"ion-content",10)(13,"ion-list",11)(14,"ion-row",12)(15,"ion-col",13)(16,"ion-label",14),i._uU(17,"Operario"),i.qZA()(),i.TgZ(18,"ion-col",15)(19,"ion-label",14),i._uU(20,"Tipo"),i.qZA()(),i.TgZ(21,"ion-col",16)(22,"ion-label",14),i._uU(23,"Nro. OT/OF"),i.qZA()(),i.TgZ(24,"ion-col",17)(25,"ion-label",14),i._uU(26,"Cantidad Total"),i.qZA()(),i.TgZ(27,"ion-col",18)(28,"ion-label",14),i._uU(29,"Cantidad Terminada"),i.qZA()(),i.TgZ(30,"ion-col",16)(31,"ion-label",14),i._uU(32,"Equipo"),i.qZA()(),i.TgZ(33,"ion-col",13)(34,"ion-label",14),i._uU(35,"Pieza"),i.qZA()(),i.TgZ(36,"ion-col",19)(37,"ion-label",14),i._uU(38,"Servicio"),i.qZA()(),i.TgZ(39,"ion-col",13)(40,"ion-label",14),i._uU(41,"F. Inicio"),i.qZA()(),i.TgZ(42,"ion-col",13)(43,"ion-label",14),i._uU(44,"F. Fin"),i.qZA()(),i.TgZ(45,"ion-col",16)(46,"ion-label",14),i._uU(47,"Duracion"),i.qZA()(),i.TgZ(48,"ion-col",16)(49,"ion-label",14),i._uU(50,"Tiempo Pausa Min."),i.qZA()(),i.TgZ(51,"ion-col",13)(52,"ion-label",14),i._uU(53,"Motivo Pausa"),i.qZA()(),i.TgZ(54,"ion-col",13)(55,"ion-label",14),i._uU(56,"Observacion"),i.qZA()(),i.TgZ(57,"ion-col",16)(58,"ion-label",14),i._uU(59,"Semana"),i.qZA()()(),i.YNc(60,U,6,5,"ion-item-group",20),i.qZA(),i.TgZ(61,"ion-fab",21)(62,"ion-fab-button",22),i.NdJ("click",function(){return t.FReporteFalla()}),i._UZ(63,"ion-icon",23),i.qZA(),i.TgZ(64,"ion-fab-button",24),i.NdJ("click",function(){return t.FRelevo()}),i._UZ(65,"ion-icon",25),i.qZA(),i.TgZ(66,"ion-fab-button",26),i.NdJ("click",function(){return t.FIniciarActvividad()}),i._UZ(67,"ion-icon",27),i.qZA()()(),i.TgZ(68,"ion-footer")(69,"ion-card",28)(70,"ion-button",29),i.NdJ("click",function(){return t.FListarActvidades()}),i.TgZ(71,"ion-label",30),i._UZ(72,"ion-icon",27),i._uU(73," Orden de Fabricacion en Proceso "),i.qZA()()()()),2&o&&(i.xp6(4),i.s9C("titulo",t.TituloDinamico),i.xp6(4),i.Q6J("ngModel",t.NgModInputSearch),i.xp6(52),i.Q6J("ngForOf",t.MultiArrayServicios))},dependencies:[a.Pc,a.YG,a.PM,a.wI,a.W2,a.IJ,a.W4,a.fr,a.jY,a.gu,a.Ie,a.rH,a.Ub,a.Q$,a.q_,a.Nd,a.VI,a.sr,a.j9,p.ez,p.sg,g.u5,g.JJ,g.On,Z.G]}),_})()}}]);