"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6144],{4160:(b,_,n)=>{n.d(_,{J:()=>A});var u=n(5861),f=n(2519),d=n(6242),s=n(9862),t=n(2014);let A=(()=>{var h;class g{constructor(e,r){this.httpClient=e,this.storage=r,this.urlApiProd=f.N.UrlDomainLocal+"aw_modulos/mante/api/CApiInformeTecnico.php",this.urlApiInf=f.N.UrlDomainLocal+"aw_modulos/mante/api/CApiInformeTablero.php",this.confirmRequest=""}ListFindOts(e,r,i){let o=JSON.stringify({acc:1,s:e,idusu:r,iddevice:i});return this.httpClient.post(this.urlApiProd,o).toPromise().then(a=>a)}SaveCheckListCab(e,r,i){let o=JSON.stringify({acc:2,id_orden_trab_cab:e,idusu:r,iddevice:i});return this.httpClient.post(this.urlApiProd,o).toPromise().then(a=>a)}FormFindPaso1(e,r,i){let o=JSON.stringify({acc:3,idchecklistcab:e,idusu:r,iddevice:i});return this.httpClient.post(this.urlApiProd,o).toPromise().then(a=>a)}FLoadPiezasAcordion(e,r){let i=JSON.stringify({acc:7,id:e,p2:r});return this.httpClient.post(this.urlApiProd,i).toPromise().then(o=>o)}FLoadServiciosxPiezas(e,r){let i=JSON.stringify({acc:8,id:e,p2:r});return this.httpClient.post(this.urlApiProd,i).toPromise().then(o=>o)}GuardarFormPaso1(e){var r=this;return(0,u.Z)(function*(){console.log("Dentro::GuardarFormulario::>",e);let o=r.urlApiProd,a=JSON.stringify(e);return r.httpClient.post(o+"?acc=4",a).toPromise()})()}GuardarinfPaso1(e){var r=this;return(0,u.Z)(function*(){console.log("Dentro::GuardarFormulario::>",e);let o=r.urlApiInf,a=JSON.stringify(e);return r.httpClient.post(o+"?acc=2",a).toPromise()})()}GuardarinfPaso2(e){var r=this;return(0,u.Z)(function*(){console.log("Dentro::GuardarFormulario::>",e);let o=r.urlApiInf,a=JSON.stringify(e);return r.httpClient.post(o+"?acc=3",a).toPromise()})()}GuardarinfPaso3(e){var r=this;return(0,u.Z)(function*(){console.log("Dentro::GuardarFormulario::>",e);let o=r.urlApiInf,a=JSON.stringify(e);return r.httpClient.post(o+"?acc=4",a).toPromise()})()}GuardarinfPaso4(e){var r=this;return(0,u.Z)(function*(){console.log("Dentro::GuardarFormulario::>",e);let o=r.urlApiInf,a=JSON.stringify(e);return r.httpClient.post(o+"?acc=5",a).toPromise()})()}GuardarinfPaso5(e){var r=this;return(0,u.Z)(function*(){let o=r.urlApiInf,a=JSON.stringify(e);return console.log("datos enviados",a),r.httpClient.post(o+"?acc=6",a).toPromise()})()}GuardarFormPaso2(e,r,i,o,a,l){var m=this;return(0,u.Z)(function*(){let c,Z=m.urlApiProd,E=JSON.stringify({idservicio:e,idpapa:r,idhijo:i,idusuario:o,acc:9,idclase:a,ck:l});return m.httpClient.post(Z+"?acc=6",E).toPromise().then(P=>{console.log(P),c=P,m.confirmSaveBd=c[0].o_nres,m.confirmRequest=c},P=>{console.log(P,"Error- something is wrong!")})})()}FormFindPaso3(e,r,i){let o=JSON.stringify({acc:7,idchecklistcab:e,idusu:r,iddevice:i});return this.httpClient.post(this.urlApiProd,o).toPromise().then(a=>a)}GuardarFormPaso3(e){var r=this;return(0,u.Z)(function*(){let i,o=r.urlApiProd,a=JSON.stringify(e);return r.httpClient.post(o+"?acc=8",a).toPromise().then(l=>{console.log(l),i=l,r.confirmSaveBd=i[0].o_nres,r.confirmRequest=i},l=>{console.log(l,"Error- something is wrong!")})})()}FormFindPaso5(e,r,i){let o=JSON.stringify({acc:10,id:e,idusu:r,iddevice:i});return this.httpClient.post(this.urlApiProd,o).toPromise().then(a=>a)}GuardarFormPaso5(e){var r=this;return(0,u.Z)(function*(){let o=r.urlApiProd,a=JSON.stringify(e);return r.httpClient.post(o+"?acc=11",a).toPromise()})()}FormFindPaso6(e,r,i){let o=JSON.stringify({acc:12,idchecklistcab:e,idusu:r,iddevice:i});return this.httpClient.post(this.urlApiProd,o).toPromise().then(a=>a)}GuardarFormPaso6(e){var r=this;return(0,u.Z)(function*(){let o=r.urlApiProd,a=JSON.stringify(e);return r.httpClient.post(o+"?acc=13",a).toPromise()})()}GuardarAplicaPaso(e,r,i){var o=this;return(0,u.Z)(function*(){let a,m,l=o.urlApiProd;m={idchecklistcab:e,numeroPaso:r,ck:i};let c=JSON.stringify(m);return o.httpClient.post(l+"?acc=15",c).toPromise().then(p=>{console.log(p),a=p,o.confirmSaveBd=a[0].o_nres,o.confirmRequest=a},p=>{console.log(p,"Error- something is wrong!")})})()}getImages(e){return this.httpClient.get(`${this.urlApiProd}?acc=5&id=`+e)}uploadImage(e,r,i){let o=new FormData;return o.append("file",e,"myimage."+i),o.append("id",r),o.append("acc","6"),o.append("type","image/png"),this.httpClient.post(this.urlApiProd,o)}UpLoadImageMultiple(e,r,i){try{let o=new FormData;o.append("id",r),o.append("acc","15"),o.append("type","image/png");for(let a=0;a<e.length;a++)console.log("image::ruta=>::>",e[a]),o.append("images[]",e[a],`image_${a}.jpg`);return this.httpClient.post(this.urlApiProd,o)}catch(o){console.error("Error al enviar im\xe1genes al API:",o)}}LoadPdfInformeTecnico(e){let r=JSON.stringify({acc:14,idchecklistcab:e});return this.httpClient.post(this.urlApiProd,r).toPromise().then(i=>i)}deleteImage(e){return this.httpClient.delete(`${this.urlApiProd}?acc=16&id=${e}`)}}return(h=g).\u0275fac=function(e){return new(e||h)(d.LFG(s.eN),d.LFG(t.K))},h.\u0275prov=d.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),g})()},6144:(b,_,n)=>{n.r(_),n.d(_,{MttoWinInformeTablero3Page:()=>C});var u=n(5861),f=n(6814),d=n(95),s=n(6728),t=n(6242),A=n(1991),h=n(6172),g=n(4160);let C=(()=>{var e;class r{constructor(o,a,l,m,c,p){this.formBuilder=o,this.alertController=a,this.loadingController=l,this.ApiService1=m,this.globalVal=c,this.ApiService=p,this.checklist_paso3_apli_ck=!1,this.FormCheckListPaso3=this.formBuilder.group({contactores:[""],intprin:[""],reltec:[""],pulsador2:[""],lamparas2:[""],conmutadores2:[""],relefas:[""],horometro2:[""],bloqaux:[""],bartierr:[""],sistdefuga:[""],bobdis:[""],ventextr:[""],obser2:[""],corre_inf_cab:[""]})}ionViewWillEnter(){let o;this.checklist_paso3_apli_ck="0"==this.globalVal.checklist_paso1_apli,this.FLoadForms(),o={detail:{checked:this.checklist_paso3_apli_ck,jc:0}}}FLoadForms(){this.loadingController.create({message:"Cargando lista....",translucent:!0}).then(a=>{a.present(),this.ApiService1.FormFindinftab1(this.globalVal.corre_inf_cab).then(l=>{console.log(this.globalVal.corre_inf_cab),this.EditDataRest1=l.list;try{this.FormCheckListPaso3.setValue({corre_inf_cab:this.globalVal.corre_inf_cab,contactores:this.EditDataRest1[0].contactores,intprin:this.EditDataRest1[0].intprin,reltec:this.EditDataRest1[0].realtec,pulsador2:this.EditDataRest1[0].pulsador2,lamparas2:this.EditDataRest1[0].lamparas2,conmutadores2:this.EditDataRest1[0].conmutadores2,relefas:this.EditDataRest1[0].relefas,horometro2:this.EditDataRest1[0].horometro2,bloqaux:this.EditDataRest1[0].bloqaux,bartierr:this.EditDataRest1[0].bartierr,sistdefuga:this.EditDataRest1[0].sistdefuga,bobdis:this.EditDataRest1[0].bobdis,ventextr:this.EditDataRest1[0].ventextr,obser2:this.EditDataRest1[0].obser2})}catch(m){console.log("error:::>",m)}}).finally(()=>{this.loadingController.dismiss()})})}SaveFormInfPaso1(){var o=this;this.alertSiNo=this.alertController.create({header:"INFORME TECNICO",subHeader:"DATOS GENERALES",mode:"ios",backdropDismiss:!0,cssClass:"alerta-ok",message:"Confirmar que desea guardar?",buttons:[{text:"Aceptar",cssClass:"alert-button-group",role:"A",handler:()=>{}},{text:"Cancelar",role:"F",handler:()=>{}}]}).then(a=>{a.present(),a.onDidDismiss().then(l=>{"A"==l.role&&(this.loadingController.create({message:"Guardando datos generales...",translucent:!0}).then(c=>{c.present()}),this.FormCheckListPaso3.controls.corre_inf_cab.setValue(this.globalVal.corre_inf_cab),this.ApiService.GuardarinfPaso3(this.FormCheckListPaso3.value).then(function(){var c=(0,u.Z)(function*(p){o.loadingController.dismiss();let Z="0"==p[0].o_nres?"alerta-error":"alerta-ok";yield(yield o.alertController.create({header:"ORDEN DE TRABAJO",subHeader:"DATOS GENERALES",cssClass:Z,mode:"ios",animated:!0,message:p[0].o_msj,buttons:[{text:"Aceptar",handler:()=>{console.log("Operaci\xf3n confirmada")}}]})).present()});return function(p){return c.apply(this,arguments)}}()).finally(()=>{}).catch(c=>{console.log("errror:::>>>>>>>>>",c)}))})})}ngOnInit(){}}return(e=r).\u0275fac=function(o){return new(o||e)(t.Y36(d.QS),t.Y36(s.Br),t.Y36(s.HT),t.Y36(A.k),t.Y36(h.X),t.Y36(g.J))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-mtto-win-informe-tablero3"]],standalone:!0,features:[t.jDz],decls:86,vars:43,consts:[["mode","ios"],["text-capitalize",""],[1,"ion-padding"],[3,"formGroup"],["mode","ios",1,"ion-no-padding"],["color","tertiary"],["color","primary"],["slot","start","name","barbell-outline","aria-hidden","true"],["position","floating"],["mode","ios","formControlName","contactores",3,"autoGrow","autofocus"],["mode","ios","formControlName","intprin",3,"autoGrow","autofocus"],["mode","ios","formControlName","reltec",3,"autoGrow","autofocus"],["slot","start","name","game-controller-outline","aria-hidden","true"],["mode","ios","formControlName","pulsador2",3,"autoGrow","autofocus"],["mode","ios","formControlName","lamparas2",3,"autoGrow","autofocus"],["mode","ios","formControlName","conmutadores2",3,"autoGrow","autofocus"],["mode","ios","formControlName","relefas",3,"autoGrow","autofocus"],["mode","ios","formControlName","horometro2",3,"autoGrow","autofocus"],["mode","ios","formControlName","bloqaux",3,"autoGrow","autofocus"],["mode","ios","formControlName","bartierr",3,"autoGrow","autofocus"],["slot","start","name","water-outline","aria-hidden","true"],["mode","ios","formControlName","sistdefuga",3,"autoGrow","autofocus"],["mode","ios","formControlName","bobdis",3,"autoGrow","autofocus"],["mode","ios","formControlName","ventextr",3,"autoGrow","autofocus"],["mode","ios","formControlName","obser2",3,"autoGrow","autofocus"],["expand","full",3,"click"]],template:function(o,a){1&o&&(t.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-item")(3,"ion-title",1)(4,"ion-label"),t._uU(5,"PARTE ELECTRICA"),t.qZA()()()()(),t.TgZ(6,"ion-content",2)(7,"form",3)(8,"ion-list",4)(9,"ion-item-group")(10,"ion-item-divider",5)(11,"ion-label"),t._uU(12,"PRUEBA DE FUNCIONAMIENTO"),t.qZA()(),t.TgZ(13,"ion-item-divider",6)(14,"ion-label"),t._UZ(15,"ion-icon",7),t._uU(16," Circuito de Fuerza"),t.qZA()(),t.TgZ(17,"ion-item")(18,"ion-label",8),t._uU(19," Contactores: "),t.qZA(),t._UZ(20,"ion-textarea",9),t.qZA(),t.TgZ(21,"ion-item")(22,"ion-label",8),t._uU(23," Interruptor Principal: "),t.qZA(),t._UZ(24,"ion-textarea",10),t.qZA(),t.TgZ(25,"ion-item")(26,"ion-label",8),t._uU(27," Rel\xe9 t\xe9rmico: "),t.qZA(),t._UZ(28,"ion-textarea",11),t.qZA()(),t.TgZ(29,"ion-item-group")(30,"ion-item-divider",6)(31,"ion-label"),t._UZ(32,"ion-icon",12),t._uU(33," Circuito de Mando"),t.qZA()(),t.TgZ(34,"ion-item")(35,"ion-label",8),t._uU(36," Pulsadores: "),t.qZA(),t._UZ(37,"ion-textarea",13),t.qZA(),t.TgZ(38,"ion-item")(39,"ion-label",8),t._uU(40," L\xe1mparas: "),t.qZA(),t._UZ(41,"ion-textarea",14),t.qZA(),t.TgZ(42,"ion-item")(43,"ion-label",8),t._uU(44," Conmutadores: "),t.qZA(),t._UZ(45,"ion-textarea",15),t.qZA(),t.TgZ(46,"ion-item")(47,"ion-label",8),t._uU(48," Rel\xe9 de fases: "),t.qZA(),t._UZ(49,"ion-textarea",16),t.qZA(),t.TgZ(50,"ion-item")(51,"ion-label",8),t._uU(52," Horometro: "),t.qZA(),t._UZ(53,"ion-textarea",17),t.qZA(),t.TgZ(54,"ion-item")(55,"ion-label",8),t._uU(56," Bloques auxiliares: "),t.qZA(),t._UZ(57,"ion-textarea",18),t.qZA(),t.TgZ(58,"ion-item")(59,"ion-label",8),t._uU(60," Barra tierra: "),t.qZA(),t._UZ(61,"ion-textarea",19),t.qZA()(),t.TgZ(62,"ion-item-group")(63,"ion-item-divider",6)(64,"ion-label"),t._UZ(65,"ion-icon",20),t._uU(66," Sistema Fuga residual / Ventilaci\xf3n forzada"),t.qZA()(),t.TgZ(67,"ion-item")(68,"ion-label",8),t._uU(69," Sistema de Fuga residual (GCHK-100/Modulo diferencial): "),t.qZA(),t._UZ(70,"ion-textarea",21),t.qZA(),t.TgZ(71,"ion-item")(72,"ion-label",8),t._uU(73," Bobina disparo/Toroide: "),t.qZA(),t._UZ(74,"ion-textarea",22),t.qZA(),t.TgZ(75,"ion-item")(76,"ion-label",8),t._uU(77," Ventilador/Extractor: "),t.qZA(),t._UZ(78,"ion-textarea",23),t.qZA(),t.TgZ(79,"ion-item")(80,"ion-label",8),t._uU(81," Otros - Observaciones: "),t.qZA(),t._UZ(82,"ion-textarea",24),t.qZA()()()()(),t.TgZ(83,"ion-footer")(84,"ion-button",25),t.NdJ("click",function(){return a.SaveFormInfPaso1()}),t._uU(85,"GUARDAR"),t.qZA()()),2&o&&(t.xp6(7),t.Q6J("formGroup",a.FormCheckListPaso3),t.xp6(13),t.Q6J("autoGrow",!0)("autofocus",!0)("autoGrow",!0),t.xp6(4),t.Q6J("autoGrow",!0)("autofocus",!0)("autoGrow",!0),t.xp6(4),t.Q6J("autoGrow",!0)("autofocus",!0)("autoGrow",!0),t.xp6(9),t.Q6J("autoGrow",!0)("autofocus",!0)("autoGrow",!0),t.xp6(4),t.Q6J("autoGrow",!0)("autofocus",!0)("autoGrow",!0),t.xp6(4),t.Q6J("autoGrow",!0)("autofocus",!0)("autoGrow",!0),t.xp6(4),t.Q6J("autoGrow",!0)("autofocus",!0)("autoGrow",!0),t.xp6(4),t.Q6J("autoGrow",!0)("autofocus",!0)("autoGrow",!0),t.xp6(4),t.Q6J("autoGrow",!0)("autofocus",!0)("autoGrow",!0),t.xp6(4),t.Q6J("autoGrow",!0)("autofocus",!0)("autoGrow",!0),t.xp6(9),t.Q6J("autoGrow",!0)("autofocus",!0)("autoGrow",!0),t.xp6(4),t.Q6J("autoGrow",!0)("autofocus",!0)("autoGrow",!0),t.xp6(4),t.Q6J("autoGrow",!0)("autofocus",!0)("autoGrow",!0),t.xp6(4),t.Q6J("autoGrow",!0)("autofocus",!0)("autoGrow",!0))},dependencies:[s.Pc,s.YG,s.W2,s.fr,s.Gu,s.gu,s.Ie,s.rH,s.Ub,s.Q$,s.q_,s.g2,s.wd,s.sr,s.j9,f.ez,d.u5,d._Y,d.JJ,d.JL,d.UX,d.sg,d.u]}),r})()}}]);