"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7993],{7993:(b,u,t)=>{t.r(u),t.d(u,{ProdResumenDiarioHorasPage:()=>E});var m=t(5861),g=t(6814),c=t(95),n=t(6728),h=t(6471),e=t(6242),p=t(5472),v=t(6485),Z=t(2014),f=t(4248),P=t(6172);const T=["idinputsearch_resumen"];function C(r,_){if(1&r){const s=e.EpF();e.TgZ(0,"ion-list",20),e.NdJ("click",function(){const a=e.CHM(s).$implicit,l=e.oxw();return e.KtG(l.FSelectedItem(a))}),e.TgZ(1,"ion-item-sliding")(2,"ion-item",21)(3,"ion-grid")(4,"ion-row")(5,"ion-col",22)(6,"ion-label"),e._uU(7),e.qZA()(),e.TgZ(8,"ion-col",23),e._uU(9),e.qZA(),e.TgZ(10,"ion-col",23),e._uU(11),e.qZA(),e.TgZ(12,"ion-col",24),e._uU(13),e.qZA(),e.TgZ(14,"ion-col",24),e._uU(15),e.qZA(),e.TgZ(16,"ion-col",25),e._uU(17),e.qZA(),e.TgZ(18,"ion-col",22),e._uU(19),e.qZA(),e.TgZ(20,"ion-col",23),e._uU(21),e.qZA()()()(),e.TgZ(22,"ion-item-options",26),e.NdJ("ionSwipe",function(){const a=e.CHM(s).$implicit,l=e.oxw();return e.KtG(l.mostrarConfirmacion(a))}),e.TgZ(23,"ion-item-option",27),e._uU(24," Clonar Registro"),e.qZA()()()()}if(2&r){const s=_.$implicit,o=_.even;e.ekj("odd",_.odd)("even",o),e.xp6(7),e.Oqu(s.Y04002),e.xp6(2),e.Oqu(s.avatar),e.xp6(2),e.Oqu(s.tiempo_estandar),e.xp6(2),e.Oqu(s.maquina),e.xp6(2),e.Oqu(s.codsmg),e.xp6(2),e.Oqu(s.fecha_inicio),e.xp6(2),e.Oqu(s.fecha_fin),e.xp6(2),e.Oqu(s.flag_agregado)}}let E=(()=>{var r;class _{constructor(i,o,a,l,A,D,q,O){let d;this.navCtrl=i,this.loadingController=o,this.prodGestionServicioService=a,this.storage=l,this.alertController=A,this.router=D,this.globalVal=q,this.changeRef=O,this.search_term_equipo="",this.switchButtonSegmento="",this.storage.get("USER_INFO").then(U=>{d=U,this.IdUsuarioLocal=d.user_id,this.NombresUsuarioLocal=d.user_name})}ionViewDidEnter(){console.log("volver a ver"),console.log(this.globalVal.global_user_id),this.lista_equipos_resumen(),console.log("entro a este evento ngOnInit")}ngOnInit(){}mostrarConfirmacion(i){var o=this;return(0,m.Z)(function*(){yield(yield o.alertController.create({header:"Confirmaci\ufffdn",message:"\ufffdDesea clonar el registro seleccionado?",cssClass:"alerta-confirma",mode:"ios",buttons:[{text:"Cancelar",role:"cancel",handler:()=>{console.log("Acci\ufffdn cancelada")}},{text:"Aceptar",handler:()=>{let l={state:i};i.flagResumenDiario="1",o.navCtrl.navigateForward(["addserviciostodet"],l)}}]})).present()})()}FNuevaActvividad(){let i;i={},i.CONCOMPONENTE="1",i.flagResumenDiario="1",this.navCtrl.navigateForward(["addserviciostodet"],{state:i})}FSelectedItem(i){console.log(i),i.flag=1;let o={state:i};console.log(o),this.navCtrl.navigateForward(["prod-ate-serv-inicia-actividad"],o)}lista_equipos_resumen(){console.log("entro a lista_equipos_resumen()"),this.loadingController.create({message:"Cargando lista...",translucent:!0}).then(o=>{o.present(),this.prodGestionServicioService.listado_principal_cabecera(this.search_term_equipo,this.switchButtonSegmento,"30","H",this.globalVal.global_user_id).then(a=>{this.results_lista_resumen_cab=a,this.horas_asignadas=this.results_lista_resumen_cab[0].horas_labor_cab+" hrs.",this.equipo_asignado=this.results_lista_resumen_cab[0].equipo_asignado}).finally(()=>{console.log("ok")}),this.prodGestionServicioService.listado_principal_resumen_horas(this.search_term_equipo,this.switchButtonSegmento,"27","H",this.globalVal.global_user_id).then(a=>{this.results_lista_ot=a,this.porcentaje=this.results_lista_ot[0].productividad,this.total_horas=this.results_lista_ot[0].total_horas+" hrs."}).finally(()=>{typeof this.horas_asignadas>"u"&&(this.horas_asignadas="Sin Asignar.",this.equipo_asignado="Sin Asignar."),this.loadingController.dismiss()})})}}return(r=_).\u0275fac=function(i){return new(i||r)(e.Y36(p.SH),e.Y36(n.HT),e.Y36(v.Z),e.Y36(Z.K),e.Y36(n.Br),e.Y36(f.F0),e.Y36(P.X),e.Y36(e.sBO))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-prod-resumen-diario-horas"]],viewQuery:function(i,o){if(1&i&&e.Gf(T,5),2&i){let a;e.iGM(a=e.CRH())&&(o.idinputsearch_resumen=a.first)}},standalone:!0,features:[e.jDz],decls:47,vars:7,consts:[[1,"ion-no-border"],[1,"ion-justify-content-start"],["size","10",1,"ion-align-self-start"],["titulo","Resumen Diario Horas"],["size","2",1,"ion-align-self-end"],["position","fixed","color","secondary",1,"label-nameusuario"],["mode","ios","debounce","2500","cancelButtonText","Cancelar","enterkeyhint","done","placeholder","Filtrar Parametros",2,"width","98%",3,"ngModel","ngModelChange","ionChange"],["idinputsearch_resumen",""],["slot","end","name","sync-outline",3,"click"],["idIconButtonSync",""],["id","titulo"],["size-sm","2","size-md","2","size-xl","2",1,"headgrid"],[2,"color","black"],["size","1",1,"headgrid"],["size-sm","1","size-md","1","size-xl","1",1,"headgrid"],["size-sm","2","size-md","2","size-xl","3",1,"headgrid"],[3,"odd","even","click",4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed"],["title","Nueva Actividad",3,"click"],["name","grid-outline"],[3,"click"],["button",""],["size-sm","2","size-md","2","size-xl","2"],["size","1"],["size-sm","1","size-md","1","size-xl","1"],["size-sm","2","size-md","2","size-xl","3"],["side","end",3,"ionSwipe"],["color","primary","expandable",""]],template:function(i,o){1&i&&(e.TgZ(0,"ion-toolbar",0)(1,"ion-grid")(2,"ion-row",1)(3,"ion-col",2),e._UZ(4,"app-header",3),e.qZA(),e.TgZ(5,"ion-col",4),e._UZ(6,"ion-label",5),e.qZA()()(),e.TgZ(7,"ion-item")(8,"ion-searchbar",6,7),e.NdJ("ngModelChange",function(l){return o.search_term_equipo=l})("ionChange",function(){return o.lista_equipos_resumen()}),e.qZA(),e.TgZ(10,"ion-icon",8,9),e.NdJ("click",function(){return o.lista_equipos_resumen()}),e.qZA()(),e.TgZ(12,"ion-item")(13,"h1",10),e._uU(14),e.qZA()(),e.TgZ(15,"ion-item")(16,"ion-grid")(17,"ion-row")(18,"ion-col",11)(19,"ion-label",12),e._uU(20,"Servicio"),e.qZA()(),e.TgZ(21,"ion-col",13)(22,"ion-label",12),e._uU(23,"Fuente"),e.qZA()(),e.TgZ(24,"ion-col",13)(25,"ion-label",12),e._uU(26,"Tiempo Estandar"),e.qZA()(),e.TgZ(27,"ion-col",14)(28,"ion-label",12),e._uU(29,"Maquina"),e.qZA()(),e.TgZ(30,"ion-col",14)(31,"ion-label",12),e._uU(32,"Equipo"),e.qZA()(),e.TgZ(33,"ion-col",15)(34,"ion-label",12),e._uU(35,"F.Inicio"),e.qZA()(),e.TgZ(36,"ion-col",11)(37,"ion-label",12),e._uU(38,"F.Fin"),e.qZA()(),e.TgZ(39,"ion-col",13)(40,"ion-label",12),e._uU(41,"Agregado"),e.qZA()()()()()(),e.TgZ(42,"ion-content"),e.YNc(43,C,25,12,"ion-list",16),e.TgZ(44,"ion-fab",17)(45,"ion-fab-button",18),e.NdJ("click",function(){return o.FNuevaActvividad()}),e._UZ(46,"ion-icon",19),e.qZA()()()),2&i&&(e.xp6(8),e.Q6J("ngModel",o.search_term_equipo),e.xp6(6),e.xDo("",o.NombresUsuarioLocal," | Porcentaje de Registro: ",o.porcentaje," % | Total Horas: ",o.total_horas," | Horas Asignadas: ",o.horas_asignadas," | Equipo Asignado: ",o.equipo_asignado,""),e.xp6(29),e.Q6J("ngForOf",o.results_lista_ot))},dependencies:[n.Pc,n.wI,n.W2,n.IJ,n.W4,n.jY,n.gu,n.Ie,n.u8,n.IK,n.td,n.Q$,n.q_,n.Nd,n.VI,n.sr,n.j9,g.ez,g.sg,c.u5,c.JJ,c.On,h.G]}),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),_})()}}]);